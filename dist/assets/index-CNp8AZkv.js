(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Zg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yd={exports:{}},xa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Symbol.for("react.transitional.element"),jg=Symbol.for("react.fragment");function Od(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:Wg,type:t,key:i,ref:e!==void 0?e:null,props:n}}xa.Fragment=jg;xa.jsx=Od;xa.jsxs=Od;Yd.exports=xa;var h=Yd.exports,Jd={exports:{}},O={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.transitional.element"),ey=Symbol.for("react.portal"),ty=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),ly=Symbol.for("react.consumer"),oy=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),sy=Symbol.for("react.suspense"),uy=Symbol.for("react.memo"),Kd=Symbol.for("react.lazy"),ec=Symbol.iterator;function ry(t){return t===null||typeof t!="object"?null:(t=ec&&t[ec]||t["@@iterator"],typeof t=="function"?t:null)}var $d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xd=Object.assign,Qd={};function zi(t,e,n){this.props=t,this.context=e,this.refs=Qd,this.updater=n||$d}zi.prototype.isReactComponent={};zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zd(){}Zd.prototype=zi.prototype;function zu(t,e,n){this.props=t,this.context=e,this.refs=Qd,this.updater=n||$d}var Fu=zu.prototype=new Zd;Fu.constructor=zu;Xd(Fu,zi.prototype);Fu.isPureReactComponent=!0;var tc=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},Wd=Object.prototype.hasOwnProperty;function Yu(t,e,n,i,l,o){return n=o.ref,{$$typeof:Bu,type:t,key:e,ref:n!==void 0?n:null,props:o}}function cy(t,e){return Yu(t.type,e,void 0,void 0,void 0,t.props)}function Ou(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bu}function fy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nc=/\/+/g;function Qa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fy(""+t.key):e.toString(36)}function ic(){}function dy(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ic,ic):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ii(t,e,n,i,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Bu:case ey:u=!0;break;case Kd:return u=t._init,ii(u(t._payload),e,n,i,l)}}if(u)return l=l(t),u=i===""?"."+Qa(t,0):i,tc(l)?(n="",u!=null&&(n=u.replace(nc,"$&/")+"/"),ii(l,e,n,"",function(c){return c})):l!=null&&(Ou(l)&&(l=cy(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(nc,"$&/")+"/")+u)),e.push(l)),1;u=0;var r=i===""?".":i+":";if(tc(t))for(var f=0;f<t.length;f++)i=t[f],o=r+Qa(i,f),u+=ii(i,e,n,o,l);else if(f=ry(t),typeof f=="function")for(t=f.call(t),f=0;!(i=t.next()).done;)i=i.value,o=r+Qa(i,f++),u+=ii(i,e,n,o,l);else if(o==="object"){if(typeof t.then=="function")return ii(dy(t),e,n,i,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return u}function po(t,e,n){if(t==null)return t;var i=[],l=0;return ii(t,i,"","",function(o){return e.call(n,o,l++)}),i}function my(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function py(){}O.Children={map:po,forEach:function(t,e,n){po(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return po(t,function(){e++}),e},toArray:function(t){return po(t,function(e){return e})||[]},only:function(t){if(!Ou(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};O.Component=zi;O.Fragment=ty;O.Profiler=iy;O.PureComponent=zu;O.StrictMode=ny;O.Suspense=sy;O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe;O.__COMPILER_RUNTIME={__proto__:null,c:function(t){return pe.H.useMemoCache(t)}};O.cache=function(t){return function(){return t.apply(null,arguments)}};O.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Xd({},t.props),l=t.key,o=void 0;if(e!=null)for(u in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!Wd.call(e,u)||u==="key"||u==="__self"||u==="__source"||u==="ref"&&e.ref===void 0||(i[u]=e[u]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var r=Array(u),f=0;f<u;f++)r[f]=arguments[f+2];i.children=r}return Yu(t.type,l,void 0,void 0,o,i)};O.createContext=function(t){return t={$$typeof:oy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:ly,_context:t},t};O.createElement=function(t,e,n){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)Wd.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var r=Array(u),f=0;f<u;f++)r[f]=arguments[f+2];l.children=r}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)l[i]===void 0&&(l[i]=u[i]);return Yu(t,o,void 0,void 0,null,l)};O.createRef=function(){return{current:null}};O.forwardRef=function(t){return{$$typeof:ay,render:t}};O.isValidElement=Ou;O.lazy=function(t){return{$$typeof:Kd,_payload:{_status:-1,_result:t},_init:my}};O.memo=function(t,e){return{$$typeof:uy,type:t,compare:e===void 0?null:e}};O.startTransition=function(t){var e=pe.T,n={};pe.T=n;try{var i=t(),l=pe.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(py,lc)}catch(o){lc(o)}finally{pe.T=e}};O.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()};O.use=function(t){return pe.H.use(t)};O.useActionState=function(t,e,n){return pe.H.useActionState(t,e,n)};O.useCallback=function(t,e){return pe.H.useCallback(t,e)};O.useContext=function(t){return pe.H.useContext(t)};O.useDebugValue=function(){};O.useDeferredValue=function(t,e){return pe.H.useDeferredValue(t,e)};O.useEffect=function(t,e,n){var i=pe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};O.useId=function(){return pe.H.useId()};O.useImperativeHandle=function(t,e,n){return pe.H.useImperativeHandle(t,e,n)};O.useInsertionEffect=function(t,e){return pe.H.useInsertionEffect(t,e)};O.useLayoutEffect=function(t,e){return pe.H.useLayoutEffect(t,e)};O.useMemo=function(t,e){return pe.H.useMemo(t,e)};O.useOptimistic=function(t,e){return pe.H.useOptimistic(t,e)};O.useReducer=function(t,e,n){return pe.H.useReducer(t,e,n)};O.useRef=function(t){return pe.H.useRef(t)};O.useState=function(t){return pe.H.useState(t)};O.useSyncExternalStore=function(t,e,n){return pe.H.useSyncExternalStore(t,e,n)};O.useTransition=function(){return pe.H.useTransition()};O.version="19.1.1";Jd.exports=O;var k=Jd.exports,jd={exports:{}},Ra={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,B){var H=b.length;b.push(B);e:for(;0<H;){var re=H-1>>>1,de=b[re];if(0<l(de,B))b[re]=B,b[H]=de,H=re;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var B=b[0],H=b.pop();if(H!==B){b[0]=H;e:for(var re=0,de=b.length,Ze=de>>>1;re<Ze;){var vt=2*(re+1)-1,bt=b[vt],ze=vt+1,Le=b[ze];if(0>l(bt,H))ze<de&&0>l(Le,bt)?(b[re]=Le,b[ze]=H,re=ze):(b[re]=bt,b[vt]=H,re=vt);else if(ze<de&&0>l(Le,H))b[re]=Le,b[ze]=H,re=ze;else break e}}return B}function l(b,B){var H=b.sortIndex-B.sortIndex;return H!==0?H:b.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,r=u.now();t.unstable_now=function(){return u.now()-r}}var f=[],c=[],d=1,m=null,p=3,g=!1,S=!1,E=!1,D=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(b){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=b)i(c),B.sortIndex=B.expirationTime,e(f,B);else break;B=n(c)}}function _(b){if(E=!1,C(b),!S)if(n(f)!==null)S=!0,x||(x=!0,j());else{var B=n(c);B!==null&&Se(_,B.startTime-b)}}var x=!1,R=-1,N=5,I=-1;function L(){return D?!0:!(t.unstable_now()-I<N)}function q(){if(D=!1,x){var b=t.unstable_now();I=b;var B=!0;try{e:{S=!1,E&&(E=!1,y(R),R=-1),g=!0;var H=p;try{t:{for(C(b),m=n(f);m!==null&&!(m.expirationTime>b&&L());){var re=m.callback;if(typeof re=="function"){m.callback=null,p=m.priorityLevel;var de=re(m.expirationTime<=b);if(b=t.unstable_now(),typeof de=="function"){m.callback=de,C(b),B=!0;break t}m===n(f)&&i(f),C(b)}else i(f);m=n(f)}if(m!==null)B=!0;else{var Ze=n(c);Ze!==null&&Se(_,Ze.startTime-b),B=!1}}break e}finally{m=null,p=H,g=!1}B=void 0}}finally{B?j():x=!1}}}var j;if(typeof T=="function")j=function(){T(q)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,jt=Et.port2;Et.port1.onmessage=q,j=function(){jt.postMessage(null)}}else j=function(){v(q,0)};function Se(b,B){R=v(function(){b(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(b){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var H=p;p=B;try{return b()}finally{p=H}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(b,B){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var H=p;p=b;try{return B()}finally{p=H}},t.unstable_scheduleCallback=function(b,B,H){var re=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,b){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=H+de,b={id:d++,callback:B,priorityLevel:b,startTime:H,expirationTime:de,sortIndex:-1},H>re?(b.sortIndex=H,e(c,b),n(f)===null&&b===n(c)&&(E?(y(R),R=-1):E=!0,Se(_,H-re))):(b.sortIndex=de,e(f,b),S||g||(S=!0,x||(x=!0,j()))),b},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(b){var B=p;return function(){var H=p;p=B;try{return b.apply(this,arguments)}finally{p=H}}}})(tm);em.exports=tm;var hy=em.exports,nm={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=k;function im(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function en(){}var Ye={d:{f:en,r:function(){throw Error(im(522))},D:en,C:en,L:en,m:en,X:en,S:en,M:en},p:0,findDOMNode:null},yy=Symbol.for("react.portal");function vy(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yy,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var pl=gy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Na(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;Oe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(im(299));return vy(t,e,null,n)};Oe.flushSync=function(t){var e=pl.T,n=Ye.p;try{if(pl.T=null,Ye.p=2,t)return t()}finally{pl.T=e,Ye.p=n,Ye.d.f()}};Oe.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ye.d.C(t,e))};Oe.prefetchDNS=function(t){typeof t=="string"&&Ye.d.D(t)};Oe.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Na(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ye.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):n==="script"&&Ye.d.X(t,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Oe.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Na(e.as,e.crossOrigin);Ye.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ye.d.M(t)};Oe.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Na(n,e.crossOrigin);Ye.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Oe.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Na(e.as,e.crossOrigin);Ye.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ye.d.m(t)};Oe.requestFormReset=function(t){Ye.d.r(t)};Oe.unstable_batchedUpdates=function(t,e){return t(e)};Oe.useFormState=function(t,e,n){return pl.H.useFormState(t,e,n)};Oe.useFormStatus=function(){return pl.H.useHostTransitionStatus()};Oe.version="19.1.1";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(t){console.error(t)}}lm(),nm.exports=Oe;var Ty=nm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=hy,om=k,Cy=Ty;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oc(t){if(Yl(t)!==t)throw Error(U(188))}function Sy(t){var e=t.alternate;if(!e){if(e=Yl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return oc(l),t;if(o===i)return oc(l),e;o=o.sibling}throw Error(U(188))}if(n.return!==i.return)n=l,i=o;else{for(var u=!1,r=l.child;r;){if(r===n){u=!0,n=l,i=o;break}if(r===i){u=!0,i=l,n=o;break}r=r.sibling}if(!u){for(r=o.child;r;){if(r===n){u=!0,n=o,i=l;break}if(r===i){u=!0,i=o,n=l;break}r=r.sibling}if(!u)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function um(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=um(t),e!==null)return e;t=t.sibling}return null}var fe=Object.assign,Ey=Symbol.for("react.element"),ho=Symbol.for("react.transitional.element"),cl=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),Ls=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),cm=Symbol.for("react.consumer"),Ht=Symbol.for("react.context"),Ju=Symbol.for("react.forward_ref"),Vs=Symbol.for("react.suspense"),qs=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),ks=Symbol.for("react.activity"),_y=Symbol.for("react.memo_cache_sentinel"),ac=Symbol.iterator;function tl(t){return t===null||typeof t!="object"?null:(t=ac&&t[ac]||t["@@iterator"],typeof t=="function"?t:null)}var My=Symbol.for("react.client.reference");function Ps(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===My?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case Ls:return"Profiler";case rm:return"StrictMode";case Vs:return"Suspense";case qs:return"SuspenseList";case ks:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case cl:return"Portal";case Ht:return(t.displayName||"Context")+".Provider";case cm:return(t._context.displayName||"Context")+".Consumer";case Ju:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ku:return e=t.displayName||null,e!==null?e:Ps(t.type)||"Memo";case ln:e=t._payload,t=t._init;try{return Ps(t(e))}catch{}}return null}var fl=Array.isArray,F=om.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Cy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,In={pending:!1,data:null,method:null,action:null},Gs=[],ui=-1;function wt(t){return{current:t}}function be(t){0>ui||(t.current=Gs[ui],Gs[ui]=null,ui--)}function he(t,e){ui++,Gs[ui]=t.current,t.current=e}var Nt=wt(null),Ul=wt(null),pn=wt(null),Ko=wt(null);function $o(t,e){switch(he(pn,e),he(Ul,t),he(Nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?df(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=df(e),t=Rh(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}be(Nt),he(Nt,t)}function wi(){be(Nt),be(Ul),be(pn)}function Hs(t){t.memoizedState!==null&&he(Ko,t);var e=Nt.current,n=Rh(e,t.type);e!==n&&(he(Ul,t),he(Nt,n))}function Xo(t){Ul.current===t&&(be(Nt),be(Ul)),Ko.current===t&&(be(Ko),Hl._currentValue=In)}var Bs=Object.prototype.hasOwnProperty,$u=Ne.unstable_scheduleCallback,Za=Ne.unstable_cancelCallback,xy=Ne.unstable_shouldYield,Ry=Ne.unstable_requestPaint,Dt=Ne.unstable_now,Ny=Ne.unstable_getCurrentPriorityLevel,fm=Ne.unstable_ImmediatePriority,dm=Ne.unstable_UserBlockingPriority,Qo=Ne.unstable_NormalPriority,Dy=Ne.unstable_LowPriority,mm=Ne.unstable_IdlePriority,Uy=Ne.log,wy=Ne.unstable_setDisableYieldValue,Ol=null,it=null;function cn(t){if(typeof Uy=="function"&&wy(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ol,t)}catch{}}var lt=Math.clz32?Math.clz32:Ly,Iy=Math.log,by=Math.LN2;function Ly(t){return t>>>=0,t===0?32:31-(Iy(t)/by|0)|0}var go=256,yo=4194304;function Dn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Da(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,o=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var r=i&134217727;return r!==0?(i=r&~o,i!==0?l=Dn(i):(u&=r,u!==0?l=Dn(u):n||(n=r&~t,n!==0&&(l=Dn(n))))):(r=i&~o,r!==0?l=Dn(r):u!==0?l=Dn(u):n||(n=i&~t,n!==0&&(l=Dn(n)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:l}function Jl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Vy(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(){var t=go;return go<<=1,!(go&4194048)&&(go=256),t}function hm(){var t=yo;return yo<<=1,!(yo&62914560)&&(yo=4194304),t}function Wa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qy(t,e,n,i,l,o){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,f=t.expirationTimes,c=t.hiddenUpdates;for(n=u&~n;0<n;){var d=31-lt(n),m=1<<d;r[d]=0,f[d]=-1;var p=c[d];if(p!==null)for(c[d]=null,d=0;d<p.length;d++){var g=p[d];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&gm(t,i,0),o!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=o&~(u&~e))}function gm(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-lt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function ym(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-lt(n),l=1<<i;l&e|t[i]&e&&(t[i]|=e),n&=~l}}function Xu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function vm(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:kh(t.type))}function ky(t,e){var n=W.p;try{return W.p=t,e()}finally{W.p=n}}var Mn=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Mn,Xe="__reactProps$"+Mn,Fi="__reactContainer$"+Mn,zs="__reactEvents$"+Mn,Py="__reactListeners$"+Mn,Gy="__reactHandles$"+Mn,sc="__reactResources$"+Mn,$l="__reactMarker$"+Mn;function Zu(t){delete t[Ge],delete t[Xe],delete t[zs],delete t[Py],delete t[Gy]}function ri(t){var e=t[Ge];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fi]||n[Ge]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hf(t);t!==null;){if(n=t[Ge])return n;t=hf(t)}return e}t=n,n=t.parentNode}return null}function Yi(t){if(t=t[Ge]||t[Fi]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function dl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Ci(t){var e=t[sc];return e||(e=t[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function we(t){t[$l]=!0}var Tm=new Set,Cm={};function Yn(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(Cm[t]=e,t=0;t<e.length;t++)Tm.add(e[t])}var Hy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},rc={};function By(t){return Bs.call(rc,t)?!0:Bs.call(uc,t)?!1:Hy.test(t)?rc[t]=!0:(uc[t]=!0,!1)}function wo(t,e,n){if(By(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function vo(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function qt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var ja,cc;function li(t){if(ja===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ja=e&&e[1]||"",cc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+t+cc}var es=!1;function ts(t,e){if(!t||es)return"";es=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var p=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){p=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){p=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),u=o[0],r=o[1];if(u&&r){var f=u.split(`
`),c=r.split(`
`);for(l=i=0;i<f.length&&!f[i].includes("DetermineComponentFrameRoot");)i++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(i===f.length||l===c.length)for(i=f.length-1,l=c.length-1;1<=i&&0<=l&&f[i]!==c[l];)l--;for(;1<=i&&0<=l;i--,l--)if(f[i]!==c[l]){if(i!==1||l!==1)do if(i--,l--,0>l||f[i]!==c[l]){var d=`
`+f[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=l);break}}}finally{es=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?li(n):""}function zy(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return ts(t.type,!1);case 11:return ts(t.type.render,!1);case 1:return ts(t.type,!0);case 31:return li("Activity");default:return""}}function fc(t){try{var e="";do e+=zy(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function rt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fy(t){var e=Sm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){i=""+u,o.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zo(t){t._valueTracker||(t._valueTracker=Fy(t))}function Em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Sm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yy=/[\n"\\]/g;function dt(t){return t.replace(Yy,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Fs(t,e,n,i,l,o,u,r){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+rt(e)):t.value!==""+rt(e)&&(t.value=""+rt(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Ys(t,u,rt(e)):n!=null?Ys(t,u,rt(n)):i!=null&&t.removeAttribute("value"),l==null&&o!=null&&(t.defaultChecked=!!o),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+rt(r):t.removeAttribute("name")}function Am(t,e,n,i,l,o,u,r){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+rt(n):"",e=e!=null?""+rt(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=r?t.checked:!!i,t.defaultChecked=!!i,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u)}function Ys(t,e,n){e==="number"&&Wo(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Si(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+rt(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function _m(t,e,n){if(e!=null&&(e=""+rt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+rt(n):""}function Mm(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(fl(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=rt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function bi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Oy.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function xm(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&n[l]!==i&&dc(t,l,i)}else for(var o in e)e.hasOwnProperty(o)&&dc(t,o,e[o])}function Wu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(t){return Ky.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Os=null;function ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,Ei=null;function mc(t){var e=Yi(t);if(e&&(t=e.stateNode)){var n=t[Xe]||null;e:switch(t=e.stateNode,e.type){case"input":if(Fs(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+dt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=i[Xe]||null;if(!l)throw Error(U(90));Fs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Em(i)}break e;case"textarea":_m(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Si(t,!!n.multiple,e,!1)}}}var ns=!1;function Rm(t,e,n){if(ns)return t(e,n);ns=!0;try{var i=t(e);return i}finally{if(ns=!1,(ci!==null||Ei!==null)&&(Ga(),ci&&(e=ci,t=Ei,Ei=ci=null,mc(e),t)))for(e=0;e<t.length;e++)mc(t[e])}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Xe]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(Kt)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){Js=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Js=!1}var fn=null,er=null,bo=null;function Nm(){if(bo)return bo;var t,e=er,n=e.length,i,l="value"in fn?fn.value:fn.textContent,o=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===l[o-i];i++);return bo=l.slice(t,1<i?1-i:void 0)}function Lo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function To(){return!0}function pc(){return!1}function Qe(t){function e(n,i,l,o,u){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(o):o[r]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?To:pc,this.isPropagationStopped=pc,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),e}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Qe(On),Xl=fe({},On,{view:0,detail:0}),$y=Qe(Xl),is,ls,il,wa=fe({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==il&&(il&&t.type==="mousemove"?(is=t.screenX-il.screenX,ls=t.screenY-il.screenY):ls=is=0,il=t),is)},movementY:function(t){return"movementY"in t?t.movementY:ls}}),hc=Qe(wa),Xy=fe({},wa,{dataTransfer:0}),Qy=Qe(Xy),Zy=fe({},Xl,{relatedTarget:0}),os=Qe(Zy),Wy=fe({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),jy=Qe(Wy),ev=fe({},On,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tv=Qe(ev),nv=fe({},On,{data:0}),gc=Qe(nv),iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function av(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ov[t])?!!e[t]:!1}function tr(){return av}var sv=fe({},Xl,{key:function(t){if(t.key){var e=iv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(t){return t.type==="keypress"?Lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uv=Qe(sv),rv=fe({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Qe(rv),cv=fe({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),fv=Qe(cv),dv=fe({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),mv=Qe(dv),pv=fe({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=Qe(pv),gv=fe({},On,{newState:0,oldState:0}),yv=Qe(gv),vv=[9,13,27,32],nr=Kt&&"CompositionEvent"in window,hl=null;Kt&&"documentMode"in document&&(hl=document.documentMode);var Tv=Kt&&"TextEvent"in window&&!hl,Dm=Kt&&(!nr||hl&&8<hl&&11>=hl),vc=" ",Tc=!1;function Um(t,e){switch(t){case"keyup":return vv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fi=!1;function Cv(t,e){switch(t){case"compositionend":return wm(e);case"keypress":return e.which!==32?null:(Tc=!0,vc);case"textInput":return t=e.data,t===vc&&Tc?null:t;default:return null}}function Sv(t,e){if(fi)return t==="compositionend"||!nr&&Um(t,e)?(t=Nm(),bo=er=fn=null,fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dm&&e.locale!=="ko"?null:e.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ev[t.type]:e==="textarea"}function Im(t,e,n,i){ci?Ei?Ei.push(i):Ei=[i]:ci=i,e=ga(e,"onChange"),0<e.length&&(n=new Ua("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var gl=null,Il=null;function Av(t){_h(t,0)}function Ia(t){var e=dl(t);if(Em(e))return t}function Sc(t,e){if(t==="change")return e}var bm=!1;if(Kt){var as;if(Kt){var ss="oninput"in document;if(!ss){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),ss=typeof Ec.oninput=="function"}as=ss}else as=!1;bm=as&&(!document.documentMode||9<document.documentMode)}function Ac(){gl&&(gl.detachEvent("onpropertychange",Lm),Il=gl=null)}function Lm(t){if(t.propertyName==="value"&&Ia(Il)){var e=[];Im(e,Il,t,ju(t)),Rm(Av,e)}}function _v(t,e,n){t==="focusin"?(Ac(),gl=e,Il=n,gl.attachEvent("onpropertychange",Lm)):t==="focusout"&&Ac()}function Mv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ia(Il)}function xv(t,e){if(t==="click")return Ia(e)}function Rv(t,e){if(t==="input"||t==="change")return Ia(e)}function Nv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:Nv;function bl(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!Bs.call(e,l)||!st(t[l],e[l]))return!1}return!0}function _c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mc(t,e){var n=_c(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function Vm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Wo(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wo(t.document)}return e}function ir(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Dv=Kt&&"documentMode"in document&&11>=document.documentMode,di=null,Ks=null,yl=null,$s=!1;function xc(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$s||di==null||di!==Wo(i)||(i=di,"selectionStart"in i&&ir(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),yl&&bl(yl,i)||(yl=i,i=ga(Ks,"onSelect"),0<i.length&&(e=new Ua("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=di)))}function Nn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},us={},km={};Kt&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Jn(t){if(us[t])return us[t];if(!mi[t])return t;var e=mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in km)return us[t]=e[n];return t}var Pm=Jn("animationend"),Gm=Jn("animationiteration"),Hm=Jn("animationstart"),Uv=Jn("transitionrun"),wv=Jn("transitionstart"),Iv=Jn("transitioncancel"),Bm=Jn("transitionend"),zm=new Map,Xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xs.push("scrollEnd");function St(t,e){zm.set(t,e),Yn(e,[t])}var Rc=new WeakMap;function mt(t,e){if(typeof t=="object"&&t!==null){var n=Rc.get(t);return n!==void 0?n:(e={value:t,source:e,stack:fc(e)},Rc.set(t,e),e)}return{value:t,source:e,stack:fc(e)}}var ut=[],pi=0,lr=0;function ba(){for(var t=pi,e=lr=pi=0;e<t;){var n=ut[e];ut[e++]=null;var i=ut[e];ut[e++]=null;var l=ut[e];ut[e++]=null;var o=ut[e];if(ut[e++]=null,i!==null&&l!==null){var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}o!==0&&Fm(n,l,o)}}function La(t,e,n,i){ut[pi++]=t,ut[pi++]=e,ut[pi++]=n,ut[pi++]=i,lr|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function or(t,e,n,i){return La(t,e,n,i),jo(t)}function Oi(t,e){return La(t,null,null,e),jo(t)}function Fm(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var l=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(l=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,l&&e!==null&&(l=31-lt(n),t=o.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=n|536870912),o):null}function jo(t){if(50<Rl)throw Rl=0,gu=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var hi={};function bv(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,i){return new bv(t,e,n,i)}function ar(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ot(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ym(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vo(t,e,n,i,l,o){var u=0;if(i=t,typeof t=="function")ar(t)&&(u=1);else if(typeof t=="string")u=VT(t,n,Nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ks:return t=nt(31,n,e,l),t.elementType=ks,t.lanes=o,t;case si:return bn(n.children,l,o,e);case rm:u=8,l|=24;break;case Ls:return t=nt(12,n,e,l|2),t.elementType=Ls,t.lanes=o,t;case Vs:return t=nt(13,n,e,l),t.elementType=Vs,t.lanes=o,t;case qs:return t=nt(19,n,e,l),t.elementType=qs,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ay:case Ht:u=10;break e;case cm:u=9;break e;case Ju:u=11;break e;case Ku:u=14;break e;case ln:u=16,i=null;break e}u=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=nt(u,n,e,l),e.elementType=t,e.type=i,e.lanes=o,e}function bn(t,e,n,i){return t=nt(7,t,i,e),t.lanes=n,t}function rs(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function cs(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var gi=[],yi=0,ea=null,ta=0,ct=[],ft=0,Ln=null,Bt=1,zt="";function Un(t,e){gi[yi++]=ta,gi[yi++]=ea,ea=t,ta=e}function Om(t,e,n){ct[ft++]=Bt,ct[ft++]=zt,ct[ft++]=Ln,Ln=t;var i=Bt;t=zt;var l=32-lt(i)-1;i&=~(1<<l),n+=1;var o=32-lt(e)+l;if(30<o){var u=l-l%5;o=(i&(1<<u)-1).toString(32),i>>=u,l-=u,Bt=1<<32-lt(e)+l|n<<l|i,zt=o+t}else Bt=1<<o|n<<l|i,zt=t}function sr(t){t.return!==null&&(Un(t,1),Om(t,1,0))}function ur(t){for(;t===ea;)ea=gi[--yi],gi[yi]=null,ta=gi[--yi],gi[yi]=null;for(;t===Ln;)Ln=ct[--ft],ct[ft]=null,zt=ct[--ft],ct[ft]=null,Bt=ct[--ft],ct[ft]=null}var Fe=null,ve=null,Z=!1,Vn=null,xt=!1,Qs=Error(U(519));function Gn(t){var e=Error(U(418,""));throw Ll(mt(e,t)),Qs}function Nc(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ge]=t,e[Xe]=i,n){case"dialog":$("cancel",e),$("close",e);break;case"iframe":case"object":case"embed":$("load",e);break;case"video":case"audio":for(n=0;n<kl.length;n++)$(kl[n],e);break;case"source":$("error",e);break;case"img":case"image":case"link":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"input":$("invalid",e),Am(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Zo(e);break;case"select":$("invalid",e);break;case"textarea":$("invalid",e),Mm(e,i.value,i.defaultValue,i.children),Zo(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||xh(e.textContent,n)?(i.popover!=null&&($("beforetoggle",e),$("toggle",e)),i.onScroll!=null&&$("scroll",e),i.onScrollEnd!=null&&$("scrollend",e),i.onClick!=null&&(e.onclick=za),e=!0):e=!1,e||Gn(t)}function Dc(t){for(Fe=t.return;Fe;)switch(Fe.tag){case 5:case 13:xt=!1;return;case 27:case 3:xt=!0;return;default:Fe=Fe.return}}function ll(t){if(t!==Fe)return!1;if(!Z)return Dc(t),Z=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Eu(t.type,t.memoizedProps)),n=!n),n&&ve&&Gn(t),Dc(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ve=Ct(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ve=null}}else e===27?(e=ve,xn(t.type)?(t=Mu,Mu=null,ve=t):ve=e):ve=Fe?Ct(t.stateNode.nextSibling):null;return!0}function Ql(){ve=Fe=null,Z=!1}function Uc(){var t=Vn;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Vn=null),t}function Ll(t){Vn===null?Vn=[t]:Vn.push(t)}var Zs=wt(null),Kn=null,Ft=null;function an(t,e,n){he(Zs,e._currentValue),e._currentValue=n}function Jt(t){t._currentValue=Zs.current,be(Zs)}function Ws(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function js(t,e,n,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){var u=l.child;o=o.firstContext;e:for(;o!==null;){var r=o;o=l;for(var f=0;f<e.length;f++)if(r.context===e[f]){o.lanes|=n,r=o.alternate,r!==null&&(r.lanes|=n),Ws(o.return,n,t),i||(u=null);break e}o=r.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(U(341));u.lanes|=n,o=u.alternate,o!==null&&(o.lanes|=n),Ws(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Zl(t,e,n,i){t=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(U(387));if(u=u.memoizedProps,u!==null){var r=l.type;st(l.pendingProps.value,u.value)||(t!==null?t.push(r):t=[r])}}else if(l===Ko.current){if(u=l.alternate,u===null)throw Error(U(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}l=l.return}t!==null&&js(e,t,n,i),e.flags|=262144}function na(t){for(t=t.firstContext;t!==null;){if(!st(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hn(t){Kn=t,Ft=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Jm(Kn,t)}function Co(t,e){return Kn===null&&Hn(t),Jm(t,e)}function Jm(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ft===null){if(t===null)throw Error(U(308));Ft=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ft=Ft.next=e;return n}var Lv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Vv=Ne.unstable_scheduleCallback,qv=Ne.unstable_NormalPriority,xe={$$typeof:Ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rr(){return{controller:new Lv,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&Vv(qv,function(){t.controller.abort()})}var vl=null,eu=0,Li=0,Ai=null;function kv(t,e){if(vl===null){var n=vl=[];eu=0,Li=Ir(),Ai={status:"pending",value:void 0,then:function(i){n.push(i)}}}return eu++,e.then(wc,wc),e}function wc(){if(--eu===0&&vl!==null){Ai!==null&&(Ai.status="fulfilled");var t=vl;vl=null,Li=0,Ai=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Pv(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Ic=F.S;F.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&kv(t,e),Ic!==null&&Ic(t,e)};var qn=wt(null);function cr(){var t=qn.current;return t!==null?t:ue.pooledCache}function qo(t,e){e===null?he(qn,qn.current):he(qn,e.pool)}function Km(){var t=cr();return t===null?null:{parent:xe._currentValue,pool:t}}var jl=Error(U(460)),$m=Error(U(474)),Va=Error(U(542)),tu={then:function(){}};function bc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function So(){}function Xm(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(So,So),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Vc(t),t;default:if(typeof e.status=="string")e.then(So,So);else{if(t=ue,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Vc(t),t}throw Tl=e,jl}}var Tl=null;function Lc(){if(Tl===null)throw Error(U(459));var t=Tl;return Tl=null,t}function Vc(t){if(t===jl||t===Va)throw Error(U(483))}var on=!1;function fr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ie&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=jo(t),Fm(t,null,n),e}return La(t,i,e,n),jo(t)}function Cl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ym(t,n)}}function fs(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?l=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?l=o=e:o=o.next=e}else l=o=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var iu=!1;function Sl(){if(iu){var t=Ai;if(t!==null)throw t}}function El(t,e,n,i){iu=!1;var l=t.updateQueue;on=!1;var o=l.firstBaseUpdate,u=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var f=r,c=f.next;f.next=null,u===null?o=c:u.next=c,u=f;var d=t.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==u&&(r===null?d.firstBaseUpdate=c:r.next=c,d.lastBaseUpdate=f))}if(o!==null){var m=l.baseState;u=0,d=c=f=null,r=o;do{var p=r.lane&-536870913,g=p!==r.lane;if(g?(Q&p)===p:(i&p)===p){p!==0&&p===Li&&(iu=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var S=t,E=r;p=e;var D=n;switch(E.tag){case 1:if(S=E.payload,typeof S=="function"){m=S.call(D,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,p=typeof S=="function"?S.call(D,m,p):S,p==null)break e;m=fe({},m,p);break e;case 2:on=!0}}p=r.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=l.callbacks,g===null?l.callbacks=[p]:g.push(p))}else g={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(c=d=g,f=m):d=d.next=g,u|=p;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;g=r,r=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);d===null&&(f=m),l.baseState=f,l.firstBaseUpdate=c,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),_n|=u,t.lanes=u,t.memoizedState=m}}function Qm(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function Zm(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Qm(n[t],e)}var Vi=wt(null),ia=wt(0);function qc(t,e){t=Qt,he(ia,t),he(Vi,e),Qt=t|e.baseLanes}function lu(){he(ia,Qt),he(Vi,Vi.current)}function dr(){Qt=ia.current,be(Vi),be(ia)}var En=0,K=null,ae=null,_e=null,la=!1,_i=!1,Bn=!1,oa=0,Vl=0,Mi=null,Gv=0;function Ee(){throw Error(U(321))}function mr(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function pr(t,e,n,i,l,o){return En=o,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F.H=t===null||t.memoizedState===null?Np:Dp,Bn=!1,o=n(i,l),Bn=!1,_i&&(o=jm(e,n,i,l)),Wm(t),o}function Wm(t){F.H=aa;var e=ae!==null&&ae.next!==null;if(En=0,_e=ae=K=null,la=!1,Vl=0,Mi=null,e)throw Error(U(300));t===null||Ie||(t=t.dependencies,t!==null&&na(t)&&(Ie=!0))}function jm(t,e,n,i){K=t;var l=0;do{if(_i&&(Mi=null),Vl=0,_i=!1,25<=l)throw Error(U(301));if(l+=1,_e=ae=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}F.H=Jv,o=e(n,i)}while(_i);return o}function Hv(){var t=F.H,e=t.useState()[0];return e=typeof e.then=="function"?eo(e):e,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(K.flags|=1024),e}function hr(){var t=oa!==0;return oa=0,t}function gr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function yr(t){if(la){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}la=!1}En=0,_e=ae=K=null,_i=!1,Vl=oa=0,Mi=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?K.memoizedState=_e=t:_e=_e.next=t,_e}function Me(){if(ae===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=_e===null?K.memoizedState:_e.next;if(e!==null)_e=e,ae=t;else{if(t===null)throw K.alternate===null?Error(U(467)):Error(U(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},_e===null?K.memoizedState=_e=t:_e=_e.next=t}return _e}function vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(t){var e=Vl;return Vl+=1,Mi===null&&(Mi=[]),t=Xm(Mi,t,e),e=K,(_e===null?e.memoizedState:_e.next)===null&&(e=e.alternate,F.H=e===null||e.memoizedState===null?Np:Dp),t}function qa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eo(t);if(t.$$typeof===Ht)return He(t)}throw Error(U(438,String(t)))}function Tr(t){var e=null,n=K.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=K.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=vr(),K.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=_y;return e.index++,n}function $t(t,e){return typeof e=="function"?e(t):e}function ko(t){var e=Me();return Cr(e,ae,t)}function Cr(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var l=t.baseQueue,o=i.pending;if(o!==null){if(l!==null){var u=l.next;l.next=o.next,o.next=u}e.baseQueue=l=o,i.pending=null}if(o=t.baseState,l===null)t.memoizedState=o;else{e=l.next;var r=u=null,f=null,c=e,d=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Q&m)===m:(En&m)===m){var p=c.revertLane;if(p===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Li&&(d=!0);else if((En&p)===p){c=c.next,p===Li&&(d=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(r=f=m,u=o):f=f.next=m,K.lanes|=p,_n|=p;m=c.action,Bn&&n(o,m),o=c.hasEagerState?c.eagerState:n(o,m)}else p={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(r=f=p,u=o):f=f.next=p,K.lanes|=m,_n|=m;c=c.next}while(c!==null&&c!==e);if(f===null?u=o:f.next=r,!st(o,t.memoizedState)&&(Ie=!0,d&&(n=Ai,n!==null)))throw n;t.memoizedState=o,t.baseState=u,t.baseQueue=f,i.lastRenderedState=o}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function ds(t){var e=Me(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,o=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do o=t(o,u.action),u=u.next;while(u!==l);st(o,e.memoizedState)||(Ie=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ep(t,e,n){var i=K,l=Me(),o=Z;if(o){if(n===void 0)throw Error(U(407));n=n()}else n=e();var u=!st((ae||l).memoizedState,n);u&&(l.memoizedState=n,Ie=!0),l=l.queue;var r=ip.bind(null,i,l,t);if(to(2048,8,r,[t]),l.getSnapshot!==e||u||_e!==null&&_e.memoizedState.tag&1){if(i.flags|=2048,qi(9,ka(),np.bind(null,i,l,n,e),null),ue===null)throw Error(U(349));o||En&124||tp(i,e,n)}return n}function tp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e=vr(),K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function np(t,e,n,i){e.value=n,e.getSnapshot=i,lp(e)&&op(t)}function ip(t,e,n){return n(function(){lp(e)&&op(t)})}function lp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function op(t){var e=Oi(t,2);e!==null&&at(e,t,2)}function ou(t){var e=Je();if(typeof t=="function"){var n=t;if(t=n(),Bn){cn(!0);try{n()}finally{cn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},e}function ap(t,e,n,i){return t.baseState=n,Cr(t,ae,typeof i=="function"?i:$t)}function Bv(t,e,n,i,l){if(Pa(t))throw Error(U(485));if(t=e.action,t!==null){var o={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){o.listeners.push(u)}};F.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,sp(e,o)):(o.next=n.next,e.pending=n.next=o)}}function sp(t,e){var n=e.action,i=e.payload,l=t.state;if(e.isTransition){var o=F.T,u={};F.T=u;try{var r=n(l,i),f=F.S;f!==null&&f(u,r),kc(t,e,r)}catch(c){au(t,e,c)}finally{F.T=o}}else try{o=n(l,i),kc(t,e,o)}catch(c){au(t,e,c)}}function kc(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Pc(t,e,i)},function(i){return au(t,e,i)}):Pc(t,e,n)}function Pc(t,e,n){e.status="fulfilled",e.value=n,up(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sp(t,n)))}function au(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,up(e),e=e.next;while(e!==i)}t.action=null}function up(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function rp(t,e){return e}function Gc(t,e){if(Z){var n=ue.formState;if(n!==null){e:{var i=K;if(Z){if(ve){t:{for(var l=ve,o=xt;l.nodeType!==8;){if(!o){l=null;break t}if(l=Ct(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){ve=Ct(l.nextSibling),i=l.data==="F!";break e}}Gn(i)}i=!1}i&&(e=n[0])}}return n=Je(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:e},n.queue=i,n=Mp.bind(null,K,i),i.dispatch=n,i=ou(!1),o=_r.bind(null,K,!1,i.queue),i=Je(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,n=Bv.bind(null,K,l,o,n),l.dispatch=n,i.memoizedState=t,[e,n,!1]}function Hc(t){var e=Me();return cp(e,ae,t)}function cp(t,e,n){if(e=Cr(t,e,rp)[0],t=ko($t)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=eo(e)}catch(u){throw u===jl?Va:u}else i=e;e=Me();var l=e.queue,o=l.dispatch;return n!==e.memoizedState&&(K.flags|=2048,qi(9,ka(),zv.bind(null,l,n),null)),[i,o,t]}function zv(t,e){t.action=e}function Bc(t){var e=Me(),n=ae;if(n!==null)return cp(e,n,t);Me(),e=e.memoizedState,n=Me();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function qi(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=K.updateQueue,e===null&&(e=vr(),K.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ka(){return{destroy:void 0,resource:void 0}}function fp(){return Me().memoizedState}function Po(t,e,n,i){var l=Je();i=i===void 0?null:i,K.flags|=t,l.memoizedState=qi(1|e,ka(),n,i)}function to(t,e,n,i){var l=Me();i=i===void 0?null:i;var o=l.memoizedState.inst;ae!==null&&i!==null&&mr(i,ae.memoizedState.deps)?l.memoizedState=qi(e,o,n,i):(K.flags|=t,l.memoizedState=qi(1|e,o,n,i))}function zc(t,e){Po(8390656,8,t,e)}function dp(t,e){to(2048,8,t,e)}function mp(t,e){return to(4,2,t,e)}function pp(t,e){return to(4,4,t,e)}function hp(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gp(t,e,n){n=n!=null?n.concat([t]):null,to(4,4,hp.bind(null,e,t),n)}function Sr(){}function yp(t,e){var n=Me();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&mr(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function vp(t,e){var n=Me();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&mr(e,i[1]))return i[0];if(i=t(),Bn){cn(!0);try{t()}finally{cn(!1)}}return n.memoizedState=[i,e],i}function Er(t,e,n){return n===void 0||En&1073741824?t.memoizedState=e:(t.memoizedState=n,t=uh(),K.lanes|=t,_n|=t,n)}function Tp(t,e,n,i){return st(n,e)?n:Vi.current!==null?(t=Er(t,n,i),st(t,e)||(Ie=!0),t):En&42?(t=uh(),K.lanes|=t,_n|=t,e):(Ie=!0,t.memoizedState=n)}function Cp(t,e,n,i,l){var o=W.p;W.p=o!==0&&8>o?o:8;var u=F.T,r={};F.T=r,_r(t,!1,e,n);try{var f=l(),c=F.S;if(c!==null&&c(r,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=Pv(f,i);Al(t,e,d,ot(t))}else Al(t,e,i,ot(t))}catch(m){Al(t,e,{then:function(){},status:"rejected",reason:m},ot())}finally{W.p=o,F.T=u}}function Fv(){}function su(t,e,n,i){if(t.tag!==5)throw Error(U(476));var l=Sp(t).queue;Cp(t,l,e,In,n===null?Fv:function(){return Ep(t),n(i)})}function Sp(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:In,baseState:In,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:In},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ep(t){var e=Sp(t).next.queue;Al(t,e,{},ot())}function Ar(){return He(Hl)}function Ap(){return Me().memoizedState}function _p(){return Me().memoizedState}function Yv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ot();t=hn(n);var i=gn(e,t,n);i!==null&&(at(i,e,n),Cl(i,e,n)),e={cache:rr()},t.payload=e;return}e=e.return}}function Ov(t,e,n){var i=ot();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Pa(t)?xp(e,n):(n=or(t,e,n,i),n!==null&&(at(n,t,i),Rp(n,e,i)))}function Mp(t,e,n){var i=ot();Al(t,e,n,i)}function Al(t,e,n,i){var l={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pa(t))xp(e,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,r=o(u,n);if(l.hasEagerState=!0,l.eagerState=r,st(r,u))return La(t,e,l,0),ue===null&&ba(),!1}catch{}finally{}if(n=or(t,e,l,i),n!==null)return at(n,t,i),Rp(n,e,i),!0}return!1}function _r(t,e,n,i){if(i={lane:2,revertLane:Ir(),action:i,hasEagerState:!1,eagerState:null,next:null},Pa(t)){if(e)throw Error(U(479))}else e=or(t,n,i,2),e!==null&&at(e,t,2)}function Pa(t){var e=t.alternate;return t===K||e!==null&&e===K}function xp(t,e){_i=la=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rp(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ym(t,n)}}var aa={readContext:He,use:qa,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},Np={readContext:He,use:qa,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:zc,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Po(4194308,4,hp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Po(4194308,4,t,e)},useInsertionEffect:function(t,e){Po(4,2,t,e)},useMemo:function(t,e){var n=Je();e=e===void 0?null:e;var i=t();if(Bn){cn(!0);try{t()}finally{cn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Je();if(n!==void 0){var l=n(e);if(Bn){cn(!0);try{n(e)}finally{cn(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=Ov.bind(null,K,t),[i.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=ou(t);var e=t.queue,n=Mp.bind(null,K,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Sr,useDeferredValue:function(t,e){var n=Je();return Er(n,t,e)},useTransition:function(){var t=ou(!1);return t=Cp.bind(null,K,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=K,l=Je();if(Z){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ue===null)throw Error(U(349));Q&124||tp(i,e,n)}l.memoizedState=n;var o={value:n,getSnapshot:e};return l.queue=o,zc(ip.bind(null,i,o,t),[t]),i.flags|=2048,qi(9,ka(),np.bind(null,i,o,n,e),null),n},useId:function(){var t=Je(),e=ue.identifierPrefix;if(Z){var n=zt,i=Bt;n=(i&~(1<<32-lt(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=oa++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Gv++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Ar,useFormState:Gc,useActionState:Gc,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=_r.bind(null,K,!0,n),n.dispatch=e,[t,e]},useMemoCache:Tr,useCacheRefresh:function(){return Je().memoizedState=Yv.bind(null,K)}},Dp={readContext:He,use:qa,useCallback:yp,useContext:He,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:vp,useReducer:ko,useRef:fp,useState:function(){return ko($t)},useDebugValue:Sr,useDeferredValue:function(t,e){var n=Me();return Tp(n,ae.memoizedState,t,e)},useTransition:function(){var t=ko($t)[0],e=Me().memoizedState;return[typeof t=="boolean"?t:eo(t),e]},useSyncExternalStore:ep,useId:Ap,useHostTransitionStatus:Ar,useFormState:Hc,useActionState:Hc,useOptimistic:function(t,e){var n=Me();return ap(n,ae,t,e)},useMemoCache:Tr,useCacheRefresh:_p},Jv={readContext:He,use:qa,useCallback:yp,useContext:He,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:vp,useReducer:ds,useRef:fp,useState:function(){return ds($t)},useDebugValue:Sr,useDeferredValue:function(t,e){var n=Me();return ae===null?Er(n,t,e):Tp(n,ae.memoizedState,t,e)},useTransition:function(){var t=ds($t)[0],e=Me().memoizedState;return[typeof t=="boolean"?t:eo(t),e]},useSyncExternalStore:ep,useId:Ap,useHostTransitionStatus:Ar,useFormState:Bc,useActionState:Bc,useOptimistic:function(t,e){var n=Me();return ae!==null?ap(n,ae,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Tr,useCacheRefresh:_p},xi=null,ql=0;function Eo(t){var e=ql;return ql+=1,xi===null&&(xi=[]),Xm(xi,t,e)}function ol(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ao(t,e){throw e.$$typeof===Ey?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Fc(t){var e=t._init;return e(t._payload)}function Up(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function l(v,y){return v=Ot(v,y),v.index=0,v.sibling=null,v}function o(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=67108866,y):T):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function u(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function r(v,y,T,C){return y===null||y.tag!==6?(y=rs(T,v.mode,C),y.return=v,y):(y=l(y,T),y.return=v,y)}function f(v,y,T,C){var _=T.type;return _===si?d(v,y,T.props.children,C,T.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ln&&Fc(_)===y.type)?(y=l(y,T.props),ol(y,T),y.return=v,y):(y=Vo(T.type,T.key,T.props,null,v.mode,C),ol(y,T),y.return=v,y)}function c(v,y,T,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=cs(T,v.mode,C),y.return=v,y):(y=l(y,T.children||[]),y.return=v,y)}function d(v,y,T,C,_){return y===null||y.tag!==7?(y=bn(T,v.mode,C,_),y.return=v,y):(y=l(y,T),y.return=v,y)}function m(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=rs(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ho:return T=Vo(y.type,y.key,y.props,null,v.mode,T),ol(T,y),T.return=v,T;case cl:return y=cs(y,v.mode,T),y.return=v,y;case ln:var C=y._init;return y=C(y._payload),m(v,y,T)}if(fl(y)||tl(y))return y=bn(y,v.mode,T,null),y.return=v,y;if(typeof y.then=="function")return m(v,Eo(y),T);if(y.$$typeof===Ht)return m(v,Co(v,y),T);Ao(v,y)}return null}function p(v,y,T,C){var _=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return _!==null?null:r(v,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ho:return T.key===_?f(v,y,T,C):null;case cl:return T.key===_?c(v,y,T,C):null;case ln:return _=T._init,T=_(T._payload),p(v,y,T,C)}if(fl(T)||tl(T))return _!==null?null:d(v,y,T,C,null);if(typeof T.then=="function")return p(v,y,Eo(T),C);if(T.$$typeof===Ht)return p(v,y,Co(v,T),C);Ao(v,T)}return null}function g(v,y,T,C,_){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return v=v.get(T)||null,r(y,v,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ho:return v=v.get(C.key===null?T:C.key)||null,f(y,v,C,_);case cl:return v=v.get(C.key===null?T:C.key)||null,c(y,v,C,_);case ln:var x=C._init;return C=x(C._payload),g(v,y,T,C,_)}if(fl(C)||tl(C))return v=v.get(T)||null,d(y,v,C,_,null);if(typeof C.then=="function")return g(v,y,T,Eo(C),_);if(C.$$typeof===Ht)return g(v,y,T,Co(y,C),_);Ao(y,C)}return null}function S(v,y,T,C){for(var _=null,x=null,R=y,N=y=0,I=null;R!==null&&N<T.length;N++){R.index>N?(I=R,R=null):I=R.sibling;var L=p(v,R,T[N],C);if(L===null){R===null&&(R=I);break}t&&R&&L.alternate===null&&e(v,R),y=o(L,y,N),x===null?_=L:x.sibling=L,x=L,R=I}if(N===T.length)return n(v,R),Z&&Un(v,N),_;if(R===null){for(;N<T.length;N++)R=m(v,T[N],C),R!==null&&(y=o(R,y,N),x===null?_=R:x.sibling=R,x=R);return Z&&Un(v,N),_}for(R=i(R);N<T.length;N++)I=g(R,v,N,T[N],C),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?N:I.key),y=o(I,y,N),x===null?_=I:x.sibling=I,x=I);return t&&R.forEach(function(q){return e(v,q)}),Z&&Un(v,N),_}function E(v,y,T,C){if(T==null)throw Error(U(151));for(var _=null,x=null,R=y,N=y=0,I=null,L=T.next();R!==null&&!L.done;N++,L=T.next()){R.index>N?(I=R,R=null):I=R.sibling;var q=p(v,R,L.value,C);if(q===null){R===null&&(R=I);break}t&&R&&q.alternate===null&&e(v,R),y=o(q,y,N),x===null?_=q:x.sibling=q,x=q,R=I}if(L.done)return n(v,R),Z&&Un(v,N),_;if(R===null){for(;!L.done;N++,L=T.next())L=m(v,L.value,C),L!==null&&(y=o(L,y,N),x===null?_=L:x.sibling=L,x=L);return Z&&Un(v,N),_}for(R=i(R);!L.done;N++,L=T.next())L=g(R,v,N,L.value,C),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?N:L.key),y=o(L,y,N),x===null?_=L:x.sibling=L,x=L);return t&&R.forEach(function(j){return e(v,j)}),Z&&Un(v,N),_}function D(v,y,T,C){if(typeof T=="object"&&T!==null&&T.type===si&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ho:e:{for(var _=T.key;y!==null;){if(y.key===_){if(_=T.type,_===si){if(y.tag===7){n(v,y.sibling),C=l(y,T.props.children),C.return=v,v=C;break e}}else if(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ln&&Fc(_)===y.type){n(v,y.sibling),C=l(y,T.props),ol(C,T),C.return=v,v=C;break e}n(v,y);break}else e(v,y);y=y.sibling}T.type===si?(C=bn(T.props.children,v.mode,C,T.key),C.return=v,v=C):(C=Vo(T.type,T.key,T.props,null,v.mode,C),ol(C,T),C.return=v,v=C)}return u(v);case cl:e:{for(_=T.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),C=l(y,T.children||[]),C.return=v,v=C;break e}else{n(v,y);break}else e(v,y);y=y.sibling}C=cs(T,v.mode,C),C.return=v,v=C}return u(v);case ln:return _=T._init,T=_(T._payload),D(v,y,T,C)}if(fl(T))return S(v,y,T,C);if(tl(T)){if(_=tl(T),typeof _!="function")throw Error(U(150));return T=_.call(T),E(v,y,T,C)}if(typeof T.then=="function")return D(v,y,Eo(T),C);if(T.$$typeof===Ht)return D(v,y,Co(v,T),C);Ao(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),C=l(y,T),C.return=v,v=C):(n(v,y),C=rs(T,v.mode,C),C.return=v,v=C),u(v)):n(v,y)}return function(v,y,T,C){try{ql=0;var _=D(v,y,T,C);return xi=null,_}catch(R){if(R===jl||R===Va)throw R;var x=nt(29,R,null,v.mode);return x.lanes=C,x.return=v,x}finally{}}}var ki=Up(!0),wp=Up(!1),gt=wt(null),Ut=null;function sn(t){var e=t.alternate;he(Re,Re.current&1),he(gt,t),Ut===null&&(e===null||Vi.current!==null||e.memoizedState!==null)&&(Ut=t)}function Ip(t){if(t.tag===22){if(he(Re,Re.current),he(gt,t),Ut===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ut=t)}}else un()}function un(){he(Re,Re.current),he(gt,gt.current)}function Yt(t){be(gt),Ut===t&&(Ut=null),be(Re)}var Re=wt(0);function sa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||_u(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ms(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uu={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ot(),l=hn(i);l.payload=e,n!=null&&(l.callback=n),e=gn(t,l,i),e!==null&&(at(e,t,i),Cl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ot(),l=hn(i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=gn(t,l,i),e!==null&&(at(e,t,i),Cl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),i=hn(n);i.tag=2,e!=null&&(i.callback=e),e=gn(t,i,n),e!==null&&(at(e,t,n),Cl(e,t,n))}};function Yc(t,e,n,i,l,o,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,u):e.prototype&&e.prototype.isPureReactComponent?!bl(n,i)||!bl(l,o):!0}function Oc(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&uu.enqueueReplaceState(e,e.state,null)}function zn(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=fe({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}var ua=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bp(t){ua(t)}function Lp(t){console.error(t)}function Vp(t){ua(t)}function ra(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Jc(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ru(t,e,n){return n=hn(n),n.tag=3,n.payload={element:null},n.callback=function(){ra(t,e)},n}function qp(t){return t=hn(t),t.tag=3,t}function kp(t,e,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;t.payload=function(){return l(o)},t.callback=function(){Jc(e,n,i)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){Jc(e,n,i),typeof l!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function Kv(t,e,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Zl(e,n,l,!0),n=gt.current,n!==null){switch(n.tag){case 13:return Ut===null?yu():n.alternate===null&&Ce===0&&(Ce=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===tu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),_s(t,i,l)),!1;case 22:return n.flags|=65536,i===tu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),_s(t,i,l)),!1}throw Error(U(435,n.tag))}return _s(t,i,l),yu(),!1}if(Z)return e=gt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==Qs&&(t=Error(U(422),{cause:i}),Ll(mt(t,n)))):(i!==Qs&&(e=Error(U(423),{cause:i}),Ll(mt(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=mt(i,n),l=ru(t.stateNode,i,l),fs(t,l),Ce!==4&&(Ce=2)),!1;var o=Error(U(520),{cause:i});if(o=mt(o,n),xl===null?xl=[o]:xl.push(o),Ce!==4&&(Ce=2),e===null)return!0;i=mt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=ru(n.stateNode,i,t),fs(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(yn===null||!yn.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,l=qp(l),kp(l,t,n,i),fs(n,l),!1}n=n.return}while(n!==null);return!1}var Pp=Error(U(461)),Ie=!1;function Ve(t,e,n,i){e.child=t===null?wp(e,null,n,i):ki(e,t.child,n,i)}function Kc(t,e,n,i,l){n=n.render;var o=e.ref;if("ref"in i){var u={};for(var r in i)r!=="ref"&&(u[r]=i[r])}else u=i;return Hn(e),i=pr(t,e,n,u,o,l),r=hr(),t!==null&&!Ie?(gr(t,e,l),Xt(t,e,l)):(Z&&r&&sr(e),e.flags|=1,Ve(t,e,i,l),e.child)}function $c(t,e,n,i,l){if(t===null){var o=n.type;return typeof o=="function"&&!ar(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,Gp(t,e,o,i,l)):(t=Vo(n.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!Mr(t,l)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(u,i)&&t.ref===e.ref)return Xt(t,e,l)}return e.flags|=1,t=Ot(o,i),t.ref=e.ref,t.return=e,e.child=t}function Gp(t,e,n,i,l){if(t!==null){var o=t.memoizedProps;if(bl(o,i)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=i=o,Mr(t,l))t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,Xt(t,e,l)}return cu(t,e,n,i,l)}function Hp(t,e,n){var i=e.pendingProps,l=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|n:n,t!==null){for(l=e.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return Xc(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(e,o!==null?o.cachePool:null),o!==null?qc(e,o):lu(),Ip(e);else return e.lanes=e.childLanes=536870912,Xc(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(qo(e,o.cachePool),qc(e,o),un(),e.memoizedState=null):(t!==null&&qo(e,null),lu(),un());return Ve(t,e,l,n),e.child}function Xc(t,e,n,i){var l=cr();return l=l===null?null:{parent:xe._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&qo(e,null),lu(),Ip(e),t!==null&&Zl(t,e,i,!0),null}function Go(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function cu(t,e,n,i,l){return Hn(e),n=pr(t,e,n,i,void 0,l),i=hr(),t!==null&&!Ie?(gr(t,e,l),Xt(t,e,l)):(Z&&i&&sr(e),e.flags|=1,Ve(t,e,n,l),e.child)}function Qc(t,e,n,i,l,o){return Hn(e),e.updateQueue=null,n=jm(e,i,n,l),Wm(t),i=hr(),t!==null&&!Ie?(gr(t,e,o),Xt(t,e,o)):(Z&&i&&sr(e),e.flags|=1,Ve(t,e,n,o),e.child)}function Zc(t,e,n,i,l){if(Hn(e),e.stateNode===null){var o=hi,u=n.contextType;typeof u=="object"&&u!==null&&(o=He(u)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uu,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},fr(e),u=n.contextType,o.context=typeof u=="object"&&u!==null?He(u):hi,o.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(ms(e,n,u,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(u=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),u!==o.state&&uu.enqueueReplaceState(o,o.state,null),El(e,i,o,l),Sl(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var r=e.memoizedProps,f=zn(n,r);o.props=f;var c=o.context,d=n.contextType;u=hi,typeof d=="object"&&d!==null&&(u=He(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r||c!==u)&&Oc(e,o,i,u),on=!1;var p=e.memoizedState;o.state=p,El(e,i,o,l),Sl(),c=e.memoizedState,r||p!==c||on?(typeof m=="function"&&(ms(e,n,m,i),c=e.memoizedState),(f=on||Yc(e,n,f,i,p,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=u,i=f):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,nu(t,e),u=e.memoizedProps,d=zn(n,u),o.props=d,m=e.pendingProps,p=o.context,c=n.contextType,f=hi,typeof c=="object"&&c!==null&&(f=He(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||p!==f)&&Oc(e,o,i,f),on=!1,p=e.memoizedState,o.state=p,El(e,i,o,l),Sl();var g=e.memoizedState;u!==m||p!==g||on||t!==null&&t.dependencies!==null&&na(t.dependencies)?(typeof r=="function"&&(ms(e,n,r,i),g=e.memoizedState),(d=on||Yc(e,n,d,i,p,g,f)||t!==null&&t.dependencies!==null&&na(t.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=f,i=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,Go(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=ki(e,t.child,null,l),e.child=ki(e,null,n,l)):Ve(t,e,n,l),e.memoizedState=o.state,t=e.child):t=Xt(t,e,l),t}function Wc(t,e,n,i){return Ql(),e.flags|=256,Ve(t,e,n,i),e.child}var ps={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hs(t){return{baseLanes:t,cachePool:Km()}}function gs(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=pt),t}function Bp(t,e,n){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Z){if(l?sn(e):un(),Z){var r=ve,f;if(f=r){e:{for(f=r,r=xt;f.nodeType!==8;){if(!r){r=null;break e}if(f=Ct(f.nextSibling),f===null){r=null;break e}}r=f}r!==null?(e.memoizedState={dehydrated:r,treeContext:Ln!==null?{id:Bt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},f=nt(18,null,null,0),f.stateNode=r,f.return=e,e.child=f,Fe=e,ve=null,f=!0):f=!1}f||Gn(e)}if(r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return _u(r)?e.lanes=32:e.lanes=536870912,null;Yt(e)}return r=i.children,i=i.fallback,l?(un(),l=e.mode,r=ca({mode:"hidden",children:r},l),i=bn(i,l,n,null),r.return=e,i.return=e,r.sibling=i,e.child=r,l=e.child,l.memoizedState=hs(n),l.childLanes=gs(t,u,n),e.memoizedState=ps,i):(sn(e),fu(e,r))}if(f=t.memoizedState,f!==null&&(r=f.dehydrated,r!==null)){if(o)e.flags&256?(sn(e),e.flags&=-257,e=ys(t,e,n)):e.memoizedState!==null?(un(),e.child=t.child,e.flags|=128,e=null):(un(),l=i.fallback,r=e.mode,i=ca({mode:"visible",children:i.children},r),l=bn(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,ki(e,t.child,null,n),i=e.child,i.memoizedState=hs(n),i.childLanes=gs(t,u,n),e.memoizedState=ps,e=l);else if(sn(e),_u(r)){if(u=r.nextSibling&&r.nextSibling.dataset,u)var c=u.dgst;u=c,i=Error(U(419)),i.stack="",i.digest=u,Ll({value:i,source:null,stack:null}),e=ys(t,e,n)}else if(Ie||Zl(t,e,n,!1),u=(n&t.childLanes)!==0,Ie||u){if(u=ue,u!==null&&(i=n&-n,i=i&42?1:Xu(i),i=i&(u.suspendedLanes|n)?0:i,i!==0&&i!==f.retryLane))throw f.retryLane=i,Oi(t,i),at(u,t,i),Pp;r.data==="$?"||yu(),e=ys(t,e,n)}else r.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=f.treeContext,ve=Ct(r.nextSibling),Fe=e,Z=!0,Vn=null,xt=!1,t!==null&&(ct[ft++]=Bt,ct[ft++]=zt,ct[ft++]=Ln,Bt=t.id,zt=t.overflow,Ln=e),e=fu(e,i.children),e.flags|=4096);return e}return l?(un(),l=i.fallback,r=e.mode,f=t.child,c=f.sibling,i=Ot(f,{mode:"hidden",children:i.children}),i.subtreeFlags=f.subtreeFlags&65011712,c!==null?l=Ot(c,l):(l=bn(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,r=t.child.memoizedState,r===null?r=hs(n):(f=r.cachePool,f!==null?(c=xe._currentValue,f=f.parent!==c?{parent:c,pool:c}:f):f=Km(),r={baseLanes:r.baseLanes|n,cachePool:f}),l.memoizedState=r,l.childLanes=gs(t,u,n),e.memoizedState=ps,i):(sn(e),n=t.child,t=n.sibling,n=Ot(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function fu(t,e){return e=ca({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ca(t,e){return t=nt(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ys(t,e,n){return ki(e,t.child,null,n),t=fu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jc(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ws(t.return,e,n)}function vs(t,e,n,i,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function zp(t,e,n){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(Ve(t,e,i.children,n),i=Re.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,n,e);else if(t.tag===19)jc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(he(Re,i),l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&sa(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),vs(e,!1,l,n,o);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&sa(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}vs(e,!0,n,null,o);break;case"together":vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_n|=e.lanes,!(n&e.childLanes))if(t!==null){if(Zl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ot(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ot(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mr(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&na(t)))}function $v(t,e,n){switch(e.tag){case 3:$o(e,e.stateNode.containerInfo),an(e,xe,t.memoizedState.cache),Ql();break;case 27:case 5:Hs(e);break;case 4:$o(e,e.stateNode.containerInfo);break;case 10:an(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(sn(e),e.flags|=128,null):n&e.child.childLanes?Bp(t,e,n):(sn(e),t=Xt(t,e,n),t!==null?t.sibling:null);sn(e);break;case 19:var l=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Zl(t,e,n,!1),i=(n&e.childLanes)!==0),l){if(i)return zp(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),he(Re,Re.current),i)break;return null;case 22:case 23:return e.lanes=0,Hp(t,e,n);case 24:an(e,xe,t.memoizedState.cache)}return Xt(t,e,n)}function Fp(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ie=!0;else{if(!Mr(t,n)&&!(e.flags&128))return Ie=!1,$v(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,Z&&e.flags&1048576&&Om(e,ta,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")ar(i)?(t=zn(i,t),e.tag=1,e=Zc(null,e,i,t,n)):(e.tag=0,e=cu(null,e,i,t,n));else{if(i!=null){if(l=i.$$typeof,l===Ju){e.tag=11,e=Kc(null,e,i,t,n);break e}else if(l===Ku){e.tag=14,e=$c(null,e,i,t,n);break e}}throw e=Ps(i)||i,Error(U(306,e,""))}}return e;case 0:return cu(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,l=zn(i,e.pendingProps),Zc(t,e,i,l,n);case 3:e:{if($o(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,nu(t,e),El(e,i,null,n);var u=e.memoizedState;if(i=u.cache,an(e,xe,i),i!==o.cache&&js(e,[xe],n,!0),Sl(),i=u.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Wc(t,e,i,n);break e}else if(i!==l){l=mt(Error(U(424)),e),Ll(l),e=Wc(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=Ct(t.firstChild),Fe=e,Z=!0,Vn=null,xt=!0,n=wp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ql(),i===l){e=Xt(t,e,n);break e}Ve(t,e,i,n)}e=e.child}return e;case 26:return Go(t,e),t===null?(n=yf(e.type,null,e.pendingProps,null))?e.memoizedState=n:Z||(n=e.type,t=e.pendingProps,i=ya(pn.current).createElement(n),i[Ge]=e,i[Xe]=t,ke(i,n,t),we(i),e.stateNode=i):e.memoizedState=yf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Hs(e),t===null&&Z&&(i=e.stateNode=Dh(e.type,e.pendingProps,pn.current),Fe=e,xt=!0,l=ve,xn(e.type)?(Mu=l,ve=Ct(i.firstChild)):ve=l),Ve(t,e,e.pendingProps.children,n),Go(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Z&&((l=i=ve)&&(i=ET(i,e.type,e.pendingProps,xt),i!==null?(e.stateNode=i,Fe=e,ve=Ct(i.firstChild),xt=!1,l=!0):l=!1),l||Gn(e)),Hs(e),l=e.type,o=e.pendingProps,u=t!==null?t.memoizedProps:null,i=o.children,Eu(l,o)?i=null:u!==null&&Eu(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=pr(t,e,Hv,null,null,n),Hl._currentValue=l),Go(t,e),Ve(t,e,i,n),e.child;case 6:return t===null&&Z&&((t=n=ve)&&(n=AT(n,e.pendingProps,xt),n!==null?(e.stateNode=n,Fe=e,ve=null,t=!0):t=!1),t||Gn(e)),null;case 13:return Bp(t,e,n);case 4:return $o(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ki(e,null,i,n):Ve(t,e,i,n),e.child;case 11:return Kc(t,e,e.type,e.pendingProps,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,an(e,e.type,i.value),Ve(t,e,i.children,n),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,Hn(e),l=He(l),i=i(l),e.flags|=1,Ve(t,e,i,n),e.child;case 14:return $c(t,e,e.type,e.pendingProps,n);case 15:return Gp(t,e,e.type,e.pendingProps,n);case 19:return zp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=ca(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ot(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Hp(t,e,n);case 24:return Hn(e),i=He(xe),t===null?(l=cr(),l===null&&(l=ue,o=rr(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=n),l=o),e.memoizedState={parent:i,cache:l},fr(e),an(e,xe,l)):(t.lanes&n&&(nu(t,e),El(e,null,null,n),Sl()),l=t.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),an(e,xe,i)):(i=o.cache,an(e,xe,i),i!==l.cache&&js(e,[xe],n,!0))),Ve(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function kt(t){t.flags|=4}function ef(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Ih(e)){if(e=gt.current,e!==null&&((Q&4194048)===Q?Ut!==null:(Q&62914560)!==Q&&!(Q&536870912)||e!==Ut))throw Tl=tu,$m;t.flags|=8192}}function _o(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?hm():536870912,t.lanes|=e,Pi|=e)}function al(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xv(t,e,n){var i=e.pendingProps;switch(ur(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return ge(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Jt(xe),wi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ll(e)?kt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Uc())),ge(e),null;case 26:return n=e.memoizedState,t===null?(kt(e),n!==null?(ge(e),ef(e,n)):(ge(e),e.flags&=-16777217)):n?n!==t.memoizedState?(kt(e),ge(e),ef(e,n)):(ge(e),e.flags&=-16777217):(t.memoizedProps!==i&&kt(e),ge(e),e.flags&=-16777217),null;case 27:Xo(e),n=pn.current;var l=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&kt(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return ge(e),null}t=Nt.current,ll(e)?Nc(e):(t=Dh(l,i,n),e.stateNode=t,kt(e))}return ge(e),null;case 5:if(Xo(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&kt(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return ge(e),null}if(t=Nt.current,ll(e))Nc(e);else{switch(l=ya(pn.current),t){case 1:t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?l.createElement(n,{is:i.is}):l.createElement(n)}}t[Ge]=e,t[Xe]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=t;e:switch(ke(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&kt(e)}}return ge(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&kt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=pn.current,ll(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,l=Fe,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}t[Ge]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||xh(t.nodeValue,n)),t||Gn(e)}else t=ya(t).createTextNode(i),t[Ge]=e,e.stateNode=t}return ge(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=ll(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(U(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[Ge]=e}else Ql(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),l=!1}else l=Uc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Yt(e),e):(Yt(e),null)}if(Yt(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),_o(e,e.updateQueue),ge(e),null;case 4:return wi(),t===null&&br(e.stateNode.containerInfo),ge(e),null;case 10:return Jt(e.type),ge(e),null;case 19:if(be(Re),l=e.memoizedState,l===null)return ge(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)al(l,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sa(t),o!==null){for(e.flags|=128,al(l,!1),t=o.updateQueue,e.updateQueue=t,_o(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ym(n,t),n=n.sibling;return he(Re,Re.current&1|2),e.child}t=t.sibling}l.tail!==null&&Dt()>da&&(e.flags|=128,i=!0,al(l,!1),e.lanes=4194304)}else{if(!i)if(t=sa(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,_o(e,t),al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Z)return ge(e),null}else 2*Dt()-l.renderingStartTime>da&&n!==536870912&&(e.flags|=128,i=!0,al(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(t=l.last,t!==null?t.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,t=Re.current,he(Re,i?t&1|2:t&1),e):(ge(e),null);case 22:case 23:return Yt(e),dr(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),n=e.updateQueue,n!==null&&_o(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&be(qn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Jt(xe),ge(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function Qv(t,e){switch(ur(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jt(xe),wi(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Xo(e),null;case 13:if(Yt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ql()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Re),null;case 4:return wi(),null;case 10:return Jt(e.type),null;case 22:case 23:return Yt(e),dr(),t!==null&&be(qn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Jt(xe),null;case 25:return null;default:return null}}function Yp(t,e){switch(ur(e),e.tag){case 3:Jt(xe),wi();break;case 26:case 27:case 5:Xo(e);break;case 4:wi();break;case 13:Yt(e);break;case 19:be(Re);break;case 10:Jt(e.type);break;case 22:case 23:Yt(e),dr(),t!==null&&be(qn);break;case 24:Jt(xe)}}function no(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){i=void 0;var o=n.create,u=n.inst;i=o(),u.destroy=i}n=n.next}while(n!==l)}}catch(r){se(e,e.return,r)}}function An(t,e,n){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&t)===t){var u=i.inst,r=u.destroy;if(r!==void 0){u.destroy=void 0,l=e;var f=n,c=r;try{c()}catch(d){se(l,f,d)}}}i=i.next}while(i!==o)}}catch(d){se(e,e.return,d)}}function Op(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Zm(e,n)}catch(i){se(t,t.return,i)}}}function Jp(t,e,n){n.props=zn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){se(t,e,i)}}function _l(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(l){se(t,e,l)}}function Rt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){se(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){se(t,e,l)}else n.current=null}function Kp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){se(t,t.return,l)}}function Ts(t,e,n){try{var i=t.stateNode;yT(i,t.type,n,e),i[Xe]=e}catch(l){se(t,t.return,l)}}function $p(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xn(t.type)||t.tag===4}function Cs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=za));else if(i!==4&&(i===27&&xn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(du(t,e,n),t=t.sibling;t!==null;)du(t,e,n),t=t.sibling}function fa(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&xn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(fa(t,e,n),t=t.sibling;t!==null;)fa(t,e,n),t=t.sibling}function Xp(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);ke(e,i,n),e[Ge]=t,e[Xe]=n}catch(o){se(t,t.return,o)}}var Gt=!1,Ae=!1,Ss=!1,tf=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Zv(t,e){if(t=t.containerInfo,Cu=Sa,t=qm(t),ir(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,r=-1,f=-1,c=0,d=0,m=t,p=null;t:for(;;){for(var g;m!==n||l!==0&&m.nodeType!==3||(r=u+l),m!==o||i!==0&&m.nodeType!==3||(f=u+i),m.nodeType===3&&(u+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++c===l&&(r=u),p===o&&++d===i&&(f=u),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=r===-1||f===-1?null:{start:r,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:t,selectionRange:n},Sa=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){switch(e=Ue,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,l=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var S=zn(n.type,l,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(S,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(E){se(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Au(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Au(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function Qp(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:tn(t,n),i&4&&no(5,n);break;case 1:if(tn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){se(n,n.return,u)}else{var l=zn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){se(n,n.return,u)}}i&64&&Op(n),i&512&&_l(n,n.return);break;case 3:if(tn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Zm(t,e)}catch(u){se(n,n.return,u)}}break;case 27:e===null&&i&4&&Xp(n);case 26:case 5:tn(t,n),e===null&&i&4&&Kp(n),i&512&&_l(n,n.return);break;case 12:tn(t,n);break;case 13:tn(t,n),i&4&&jp(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=aT.bind(null,n),_T(t,n))));break;case 22:if(i=n.memoizedState!==null||Gt,!i){e=e!==null&&e.memoizedState!==null||Ae,l=Gt;var o=Ae;Gt=i,(Ae=e)&&!o?nn(t,n,(n.subtreeFlags&8772)!==0):tn(t,n),Gt=l,Ae=o}break;case 30:break;default:tn(t,n)}}function Zp(t){var e=t.alternate;e!==null&&(t.alternate=null,Zp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Zu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,Ke=!1;function Pt(t,e,n){for(n=n.child;n!==null;)Wp(t,e,n),n=n.sibling}function Wp(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 26:Ae||Rt(n,e),Pt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ae||Rt(n,e);var i=me,l=Ke;xn(n.type)&&(me=n.stateNode,Ke=!1),Pt(t,e,n),Nl(n.stateNode),me=i,Ke=l;break;case 5:Ae||Rt(n,e);case 6:if(i=me,l=Ke,me=null,Pt(t,e,n),me=i,Ke=l,me!==null)if(Ke)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(n.stateNode)}catch(o){se(n,e,o)}else try{me.removeChild(n.stateNode)}catch(o){se(n,e,o)}break;case 18:me!==null&&(Ke?(t=me,pf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Fl(t)):pf(me,n.stateNode));break;case 4:i=me,l=Ke,me=n.stateNode.containerInfo,Ke=!0,Pt(t,e,n),me=i,Ke=l;break;case 0:case 11:case 14:case 15:Ae||An(2,n,e),Ae||An(4,n,e),Pt(t,e,n);break;case 1:Ae||(Rt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Jp(n,e,i)),Pt(t,e,n);break;case 21:Pt(t,e,n);break;case 22:Ae=(i=Ae)||n.memoizedState!==null,Pt(t,e,n),Ae=i;break;default:Pt(t,e,n)}}function jp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(n){se(e,e.return,n)}}function Wv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new tf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new tf),e;default:throw Error(U(435,t.tag))}}function Es(t,e){var n=Wv(t);e.forEach(function(i){var l=sT.bind(null,t,i);n.has(i)||(n.add(i),i.then(l,l))})}function je(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],o=t,u=e,r=u;e:for(;r!==null;){switch(r.tag){case 27:if(xn(r.type)){me=r.stateNode,Ke=!1;break e}break;case 5:me=r.stateNode,Ke=!1;break e;case 3:case 4:me=r.stateNode.containerInfo,Ke=!0;break e}r=r.return}if(me===null)throw Error(U(160));Wp(o,u,l),me=null,Ke=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)eh(e,t),e=e.sibling}var Tt=null;function eh(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:je(e,t),et(t),i&4&&(An(3,t,t.return),no(3,t),An(5,t,t.return));break;case 1:je(e,t),et(t),i&512&&(Ae||n===null||Rt(n,n.return)),i&64&&Gt&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Tt;if(je(e,t),et(t),i&512&&(Ae||n===null||Rt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[$l]||o[Ge]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),ke(o,i,n),o[Ge]=t,we(o),i=o;break e;case"link":var u=Tf("link","href",l).get(i+(n.href||""));if(u){for(var r=0;r<u.length;r++)if(o=u[r],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(r,1);break t}}o=l.createElement(i),ke(o,i,n),l.head.appendChild(o);break;case"meta":if(u=Tf("meta","content",l).get(i+(n.content||""))){for(r=0;r<u.length;r++)if(o=u[r],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(r,1);break t}}o=l.createElement(i),ke(o,i,n),l.head.appendChild(o);break;default:throw Error(U(468,i))}o[Ge]=t,we(o),i=o}t.stateNode=i}else Cf(l,t.type,t.stateNode);else t.stateNode=vf(l,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?Cf(l,t.type,t.stateNode):vf(l,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Ts(t,t.memoizedProps,n.memoizedProps)}break;case 27:je(e,t),et(t),i&512&&(Ae||n===null||Rt(n,n.return)),n!==null&&i&4&&Ts(t,t.memoizedProps,n.memoizedProps);break;case 5:if(je(e,t),et(t),i&512&&(Ae||n===null||Rt(n,n.return)),t.flags&32){l=t.stateNode;try{bi(l,"")}catch(g){se(t,t.return,g)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,Ts(t,l,n!==null?n.memoizedProps:l)),i&1024&&(Ss=!0);break;case 6:if(je(e,t),et(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){se(t,t.return,g)}}break;case 3:if(zo=null,l=Tt,Tt=va(e.containerInfo),je(e,t),Tt=l,et(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(g){se(t,t.return,g)}Ss&&(Ss=!1,th(t));break;case 4:i=Tt,Tt=va(t.stateNode.containerInfo),je(e,t),et(t),Tt=i;break;case 12:je(e,t),et(t);break;case 13:je(e,t),et(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ur=Dt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Es(t,i)));break;case 22:l=t.memoizedState!==null;var f=n!==null&&n.memoizedState!==null,c=Gt,d=Ae;if(Gt=c||l,Ae=d||f,je(e,t),Ae=d,Gt=c,et(t),i&8192)e:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||f||Gt||Ae||wn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){f=n=e;try{if(o=f.stateNode,l)u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{r=f.stateNode;var m=f.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(g){se(f,f.return,g)}}}else if(e.tag===6){if(n===null){f=e;try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){se(f,f.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Es(t,n))));break;case 19:je(e,t),et(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Es(t,i)));break;case 30:break;case 21:break;default:je(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if($p(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var l=n.stateNode,o=Cs(t);fa(t,o,l);break;case 5:var u=n.stateNode;n.flags&32&&(bi(u,""),n.flags&=-33);var r=Cs(t);fa(t,r,u);break;case 3:case 4:var f=n.stateNode.containerInfo,c=Cs(t);du(t,c,f);break;default:throw Error(U(161))}}catch(d){se(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function th(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;th(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function tn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Qp(t,e.alternate,e),e=e.sibling}function wn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:An(4,e,e.return),wn(e);break;case 1:Rt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Jp(e,e.return,n),wn(e);break;case 27:Nl(e.stateNode);case 26:case 5:Rt(e,e.return),wn(e);break;case 22:e.memoizedState===null&&wn(e);break;case 30:wn(e);break;default:wn(e)}t=t.sibling}}function nn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,o=e,u=o.flags;switch(o.tag){case 0:case 11:case 15:nn(l,o,n),no(4,o);break;case 1:if(nn(l,o,n),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){se(i,i.return,c)}if(i=o,l=i.updateQueue,l!==null){var r=i.stateNode;try{var f=l.shared.hiddenCallbacks;if(f!==null)for(l.shared.hiddenCallbacks=null,l=0;l<f.length;l++)Qm(f[l],r)}catch(c){se(i,i.return,c)}}n&&u&64&&Op(o),_l(o,o.return);break;case 27:Xp(o);case 26:case 5:nn(l,o,n),n&&i===null&&u&4&&Kp(o),_l(o,o.return);break;case 12:nn(l,o,n);break;case 13:nn(l,o,n),n&&u&4&&jp(l,o);break;case 22:o.memoizedState===null&&nn(l,o,n),_l(o,o.return);break;case 30:break;default:nn(l,o,n)}e=e.sibling}}function xr(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Wl(n))}function Rr(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wl(t))}function Mt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nh(t,e,n,i),e=e.sibling}function nh(t,e,n,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:Mt(t,e,n,i),l&2048&&no(9,e);break;case 1:Mt(t,e,n,i);break;case 3:Mt(t,e,n,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wl(t)));break;case 12:if(l&2048){Mt(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,u=o.id,r=o.onPostCommit;typeof r=="function"&&r(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(f){se(e,e.return,f)}}else Mt(t,e,n,i);break;case 13:Mt(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,u=e.alternate,e.memoizedState!==null?o._visibility&2?Mt(t,e,n,i):Ml(t,e):o._visibility&2?Mt(t,e,n,i):(o._visibility|=2,oi(t,e,n,i,(e.subtreeFlags&10256)!==0)),l&2048&&xr(u,e);break;case 24:Mt(t,e,n,i),l&2048&&Rr(e.alternate,e);break;default:Mt(t,e,n,i)}}function oi(t,e,n,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,u=e,r=n,f=i,c=u.flags;switch(u.tag){case 0:case 11:case 15:oi(o,u,r,f,l),no(8,u);break;case 23:break;case 22:var d=u.stateNode;u.memoizedState!==null?d._visibility&2?oi(o,u,r,f,l):Ml(o,u):(d._visibility|=2,oi(o,u,r,f,l)),l&&c&2048&&xr(u.alternate,u);break;case 24:oi(o,u,r,f,l),l&&c&2048&&Rr(u.alternate,u);break;default:oi(o,u,r,f,l)}e=e.sibling}}function Ml(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,l=i.flags;switch(i.tag){case 22:Ml(n,i),l&2048&&xr(i.alternate,i);break;case 24:Ml(n,i),l&2048&&Rr(i.alternate,i);break;default:Ml(n,i)}e=e.sibling}}var ml=8192;function ti(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)ih(t),t=t.sibling}function ih(t){switch(t.tag){case 26:ti(t),t.flags&ml&&t.memoizedState!==null&&kT(Tt,t.memoizedState,t.memoizedProps);break;case 5:ti(t);break;case 3:case 4:var e=Tt;Tt=va(t.stateNode.containerInfo),ti(t),Tt=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=ml,ml=16777216,ti(t),ml=e):ti(t));break;default:ti(t)}}function lh(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function sl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ue=i,ah(i,t)}lh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)oh(t),t=t.sibling}function oh(t){switch(t.tag){case 0:case 11:case 15:sl(t),t.flags&2048&&An(9,t,t.return);break;case 3:sl(t);break;case 12:sl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ho(t)):sl(t);break;default:sl(t)}}function Ho(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ue=i,ah(i,t)}lh(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:An(8,e,e.return),Ho(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ho(e));break;default:Ho(e)}t=t.sibling}}function ah(t,e){for(;Ue!==null;){var n=Ue;switch(n.tag){case 0:case 11:case 15:An(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Wl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ue=i;else e:for(n=t;Ue!==null;){i=Ue;var l=i.sibling,o=i.return;if(Zp(i),i===n){Ue=null;break e}if(l!==null){l.return=o,Ue=l;break e}Ue=o}}}var jv={getCacheForType:function(t){var e=He(xe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},eT=typeof WeakMap=="function"?WeakMap:Map,ie=0,ue=null,X=null,Q=0,ne=0,tt=null,dn=!1,Ji=!1,Nr=!1,Qt=0,Ce=0,_n=0,kn=0,Dr=0,pt=0,Pi=0,xl=null,$e=null,mu=!1,Ur=0,da=1/0,ma=null,yn=null,qe=0,vn=null,Gi=null,Ri=0,pu=0,hu=null,sh=null,Rl=0,gu=null;function ot(){if(ie&2&&Q!==0)return Q&-Q;if(F.T!==null){var t=Li;return t!==0?t:Ir()}return vm()}function uh(){pt===0&&(pt=!(Q&536870912)||Z?pm():536870912);var t=gt.current;return t!==null&&(t.flags|=32),pt}function at(t,e,n){(t===ue&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(Hi(t,0),mn(t,Q,pt,!1)),Kl(t,n),(!(ie&2)||t!==ue)&&(t===ue&&(!(ie&2)&&(kn|=n),Ce===4&&mn(t,Q,pt,!1)),It(t))}function rh(t,e,n){if(ie&6)throw Error(U(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Jl(t,e),l=i?iT(t,e):As(t,e,!0),o=i;do{if(l===0){Ji&&!i&&mn(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!tT(n)){l=As(t,e,!1),o=!1;continue}if(l===2){if(o=e,t.errorRecoveryDisabledLanes&o)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;e:{var r=t;l=xl;var f=r.current.memoizedState.isDehydrated;if(f&&(Hi(r,u).flags|=256),u=As(r,u,!1),u!==2){if(Nr&&!f){r.errorRecoveryDisabledLanes|=o,kn|=o,l=4;break e}o=$e,$e=l,o!==null&&($e===null?$e=o:$e.push.apply($e,o))}l=u}if(o=!1,l!==2)continue}}if(l===1){Hi(t,0),mn(t,e,0,!0);break}e:{switch(i=t,o=l,o){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:mn(i,e,pt,!dn);break e;case 2:$e=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(l=Ur+300-Dt(),10<l)){if(mn(i,e,pt,!dn),Da(i,0,!0)!==0)break e;i.timeoutHandle=Nh(nf.bind(null,i,n,$e,ma,mu,e,pt,kn,Pi,dn,o,2,-0,0),l);break e}nf(i,n,$e,ma,mu,e,pt,kn,Pi,dn,o,0,-0,0)}}break}while(!0);It(t)}function nf(t,e,n,i,l,o,u,r,f,c,d,m,p,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:qT},ih(e),m=PT(),m!==null)){t.cancelPendingCommit=m(of.bind(null,t,e,o,n,i,l,u,r,f,d,1,p,g)),mn(t,o,u,!c);return}of(t,e,o,n,i,l,u,r,f)}function tT(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!st(o(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mn(t,e,n,i){e&=~Dr,e&=~kn,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var o=31-lt(l),u=1<<o;i[o]=-1,l&=~u}n!==0&&gm(t,n,e)}function Ga(){return ie&6?!0:(io(0),!1)}function wr(){if(X!==null){if(ne===0)var t=X.return;else t=X,Ft=Kn=null,yr(t),xi=null,ql=0,t=X;for(;t!==null;)Yp(t.alternate,t),t=t.return;X=null}}function Hi(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,TT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),wr(),ue=t,X=n=Ot(t.current,null),Q=e,ne=0,tt=null,dn=!1,Ji=Jl(t,e),Nr=!1,Pi=pt=Dr=kn=_n=Ce=0,$e=xl=null,mu=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-lt(i),o=1<<l;e|=t[l],i&=~o}return Qt=e,ba(),n}function ch(t,e){K=null,F.H=aa,e===jl||e===Va?(e=Lc(),ne=3):e===$m?(e=Lc(),ne=4):ne=e===Pp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,tt=e,X===null&&(Ce=1,ra(t,mt(e,t.current)))}function fh(){var t=F.H;return F.H=aa,t===null?aa:t}function dh(){var t=F.A;return F.A=jv,t}function yu(){Ce=4,dn||(Q&4194048)!==Q&&gt.current!==null||(Ji=!0),!(_n&134217727)&&!(kn&134217727)||ue===null||mn(ue,Q,pt,!1)}function As(t,e,n){var i=ie;ie|=2;var l=fh(),o=dh();(ue!==t||Q!==e)&&(ma=null,Hi(t,e)),e=!1;var u=Ce;e:do try{if(ne!==0&&X!==null){var r=X,f=tt;switch(ne){case 8:wr(),u=6;break e;case 3:case 2:case 9:case 6:gt.current===null&&(e=!0);var c=ne;if(ne=0,tt=null,vi(t,r,f,c),n&&Ji){u=0;break e}break;default:c=ne,ne=0,tt=null,vi(t,r,f,c)}}nT(),u=Ce;break}catch(d){ch(t,d)}while(!0);return e&&t.shellSuspendCounter++,Ft=Kn=null,ie=i,F.H=l,F.A=o,X===null&&(ue=null,Q=0,ba()),u}function nT(){for(;X!==null;)mh(X)}function iT(t,e){var n=ie;ie|=2;var i=fh(),l=dh();ue!==t||Q!==e?(ma=null,da=Dt()+500,Hi(t,e)):Ji=Jl(t,e);e:do try{if(ne!==0&&X!==null){e=X;var o=tt;t:switch(ne){case 1:ne=0,tt=null,vi(t,e,o,1);break;case 2:case 9:if(bc(o)){ne=0,tt=null,lf(e);break}e=function(){ne!==2&&ne!==9||ue!==t||(ne=7),It(t)},o.then(e,e);break e;case 3:ne=7;break e;case 4:ne=5;break e;case 7:bc(o)?(ne=0,tt=null,lf(e)):(ne=0,tt=null,vi(t,e,o,7));break;case 5:var u=null;switch(X.tag){case 26:u=X.memoizedState;case 5:case 27:var r=X;if(!u||Ih(u)){ne=0,tt=null;var f=r.sibling;if(f!==null)X=f;else{var c=r.return;c!==null?(X=c,Ha(c)):X=null}break t}}ne=0,tt=null,vi(t,e,o,5);break;case 6:ne=0,tt=null,vi(t,e,o,6);break;case 8:wr(),Ce=6;break e;default:throw Error(U(462))}}lT();break}catch(d){ch(t,d)}while(!0);return Ft=Kn=null,F.H=i,F.A=l,ie=n,X!==null?0:(ue=null,Q=0,ba(),Ce)}function lT(){for(;X!==null&&!xy();)mh(X)}function mh(t){var e=Fp(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?Ha(t):X=e}function lf(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Qc(n,e,e.pendingProps,e.type,void 0,Q);break;case 11:e=Qc(n,e,e.pendingProps,e.type.render,e.ref,Q);break;case 5:yr(e);default:Yp(n,e),e=X=Ym(e,Qt),e=Fp(n,e,Qt)}t.memoizedProps=t.pendingProps,e===null?Ha(t):X=e}function vi(t,e,n,i){Ft=Kn=null,yr(e),xi=null,ql=0;var l=e.return;try{if(Kv(t,l,e,n,Q)){Ce=1,ra(t,mt(n,t.current)),X=null;return}}catch(o){if(l!==null)throw X=l,o;Ce=1,ra(t,mt(n,t.current)),X=null;return}e.flags&32768?(Z||i===1?t=!0:Ji||Q&536870912?t=!1:(dn=t=!0,(i===2||i===9||i===3||i===6)&&(i=gt.current,i!==null&&i.tag===13&&(i.flags|=16384))),ph(e,t)):Ha(e)}function Ha(t){var e=t;do{if(e.flags&32768){ph(e,dn);return}t=e.return;var n=Xv(e.alternate,e,Qt);if(n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);Ce===0&&(Ce=5)}function ph(t,e){do{var n=Qv(t.alternate,t);if(n!==null){n.flags&=32767,X=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){X=t;return}X=t=n}while(t!==null);Ce=6,X=null}function of(t,e,n,i,l,o,u,r,f){t.cancelPendingCommit=null;do Ba();while(qe!==0);if(ie&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(o=e.lanes|e.childLanes,o|=lr,qy(t,n,o,u,r,f),t===ue&&(X=ue=null,Q=0),Gi=e,vn=t,Ri=n,pu=o,hu=l,sh=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,uT(Qo,function(){return Th(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=F.T,F.T=null,l=W.p,W.p=2,u=ie,ie|=4;try{Zv(t,e,n)}finally{ie=u,W.p=l,F.T=i}}qe=1,hh(),gh(),yh()}}function hh(){if(qe===1){qe=0;var t=vn,e=Gi,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=F.T,F.T=null;var i=W.p;W.p=2;var l=ie;ie|=4;try{eh(e,t);var o=Su,u=qm(t.containerInfo),r=o.focusedElem,f=o.selectionRange;if(u!==r&&r&&r.ownerDocument&&Vm(r.ownerDocument.documentElement,r)){if(f!==null&&ir(r)){var c=f.start,d=f.end;if(d===void 0&&(d=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(d,r.value.length);else{var m=r.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var g=p.getSelection(),S=r.textContent.length,E=Math.min(f.start,S),D=f.end===void 0?E:Math.min(f.end,S);!g.extend&&E>D&&(u=D,D=E,E=u);var v=Mc(r,E),y=Mc(r,D);if(v&&y&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=m.createRange();T.setStart(v.node,v.offset),g.removeAllRanges(),E>D?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(m=[],g=r;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<m.length;r++){var C=m[r];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Sa=!!Cu,Su=Cu=null}finally{ie=l,W.p=i,F.T=n}}t.current=e,qe=2}}function gh(){if(qe===2){qe=0;var t=vn,e=Gi,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=F.T,F.T=null;var i=W.p;W.p=2;var l=ie;ie|=4;try{Qp(t,e.alternate,e)}finally{ie=l,W.p=i,F.T=n}}qe=3}}function yh(){if(qe===4||qe===3){qe=0,Ry();var t=vn,e=Gi,n=Ri,i=sh;e.subtreeFlags&10256||e.flags&10256?qe=5:(qe=0,Gi=vn=null,vh(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(yn=null),Qu(n),e=e.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=F.T,l=W.p,W.p=2,F.T=null;try{for(var o=t.onRecoverableError,u=0;u<i.length;u++){var r=i[u];o(r.value,{componentStack:r.stack})}}finally{F.T=e,W.p=l}}Ri&3&&Ba(),It(t),l=t.pendingLanes,n&4194090&&l&42?t===gu?Rl++:(Rl=0,gu=t):Rl=0,io(0)}}function vh(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Wl(e)))}function Ba(t){return hh(),gh(),yh(),Th()}function Th(){if(qe!==5)return!1;var t=vn,e=pu;pu=0;var n=Qu(Ri),i=F.T,l=W.p;try{W.p=32>n?32:n,F.T=null,n=hu,hu=null;var o=vn,u=Ri;if(qe=0,Gi=vn=null,Ri=0,ie&6)throw Error(U(331));var r=ie;if(ie|=4,oh(o.current),nh(o,o.current,u,n),ie=r,io(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ol,o)}catch{}return!0}finally{W.p=l,F.T=i,vh(t,e)}}function af(t,e,n){e=mt(n,e),e=ru(t.stateNode,e,2),t=gn(t,e,2),t!==null&&(Kl(t,2),It(t))}function se(t,e,n){if(t.tag===3)af(t,t,n);else for(;e!==null;){if(e.tag===3){af(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yn===null||!yn.has(i))){t=mt(n,t),n=qp(2),i=gn(e,n,2),i!==null&&(kp(n,i,e,t),Kl(i,2),It(i));break}}e=e.return}}function _s(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new eT;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(n)||(Nr=!0,l.add(n),t=oT.bind(null,t,e,n),e.then(t,t))}function oT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ue===t&&(Q&n)===n&&(Ce===4||Ce===3&&(Q&62914560)===Q&&300>Dt()-Ur?!(ie&2)&&Hi(t,0):Dr|=n,Pi===Q&&(Pi=0)),It(t)}function Ch(t,e){e===0&&(e=hm()),t=Oi(t,e),t!==null&&(Kl(t,e),It(t))}function aT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ch(t,n)}function sT(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),Ch(t,n)}function uT(t,e){return $u(t,e)}var pa=null,ai=null,vu=!1,ha=!1,Ms=!1,Pn=0;function It(t){t!==ai&&t.next===null&&(ai===null?pa=ai=t:ai=ai.next=t),ha=!0,vu||(vu=!0,cT())}function io(t,e){if(!Ms&&ha){Ms=!0;do for(var n=!1,i=pa;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var u=i.suspendedLanes,r=i.pingedLanes;o=(1<<31-lt(42|t)+1)-1,o&=l&~(u&~r),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,sf(i,o))}else o=Q,o=Da(i,i===ue?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Jl(i,o)||(n=!0,sf(i,o));i=i.next}while(n);Ms=!1}}function rT(){Sh()}function Sh(){ha=vu=!1;var t=0;Pn!==0&&(vT()&&(t=Pn),Pn=0);for(var e=Dt(),n=null,i=pa;i!==null;){var l=i.next,o=Eh(i,e);o===0?(i.next=null,n===null?pa=l:n.next=l,l===null&&(ai=n)):(n=i,(t!==0||o&3)&&(ha=!0)),i=l}io(t)}function Eh(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var u=31-lt(o),r=1<<u,f=l[u];f===-1?(!(r&n)||r&i)&&(l[u]=Vy(r,e)):f<=e&&(t.expiredLanes|=r),o&=~r}if(e=ue,n=Q,n=Da(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Za(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Za(i),Qu(n)){case 2:case 8:n=dm;break;case 32:n=Qo;break;case 268435456:n=mm;break;default:n=Qo}return i=Ah.bind(null,t),n=$u(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Za(i),t.callbackPriority=2,t.callbackNode=null,2}function Ah(t,e){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ba()&&t.callbackNode!==n)return null;var i=Q;return i=Da(t,t===ue?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(rh(t,i,e),Eh(t,Dt()),t.callbackNode!=null&&t.callbackNode===n?Ah.bind(null,t):null)}function sf(t,e){if(Ba())return null;rh(t,e,!0)}function cT(){CT(function(){ie&6?$u(fm,rT):Sh()})}function Ir(){return Pn===0&&(Pn=pm()),Pn}function uf(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Io(""+t)}function rf(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function fT(t,e,n,i,l){if(e==="submit"&&n&&n.stateNode===l){var o=uf((l[Xe]||null).action),u=i.submitter;u&&(e=(e=u[Xe]||null)?uf(e.formAction):u.getAttribute("formAction"),e!==null&&(o=e,u=null));var r=new Ua("action","action",null,i,l);t.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Pn!==0){var f=u?rf(l,u):new FormData(l);su(n,{pending:!0,data:f,method:l.method,action:o},null,f)}}else typeof o=="function"&&(r.preventDefault(),f=u?rf(l,u):new FormData(l),su(n,{pending:!0,data:f,method:l.method,action:o},o,f))},currentTarget:l}]})}}for(var xs=0;xs<Xs.length;xs++){var Rs=Xs[xs],dT=Rs.toLowerCase(),mT=Rs[0].toUpperCase()+Rs.slice(1);St(dT,"on"+mT)}St(Pm,"onAnimationEnd");St(Gm,"onAnimationIteration");St(Hm,"onAnimationStart");St("dblclick","onDoubleClick");St("focusin","onFocus");St("focusout","onBlur");St(Uv,"onTransitionRun");St(wv,"onTransitionStart");St(Iv,"onTransitionCancel");St(Bm,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function _h(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var u=i.length-1;0<=u;u--){var r=i[u],f=r.instance,c=r.currentTarget;if(r=r.listener,f!==o&&l.isPropagationStopped())break e;o=r,l.currentTarget=c;try{o(l)}catch(d){ua(d)}l.currentTarget=null,o=f}else for(u=0;u<i.length;u++){if(r=i[u],f=r.instance,c=r.currentTarget,r=r.listener,f!==o&&l.isPropagationStopped())break e;o=r,l.currentTarget=c;try{o(l)}catch(d){ua(d)}l.currentTarget=null,o=f}}}}function $(t,e){var n=e[zs];n===void 0&&(n=e[zs]=new Set);var i=t+"__bubble";n.has(i)||(Mh(e,t,2,!1),n.add(i))}function Ns(t,e,n){var i=0;e&&(i|=4),Mh(n,t,i,e)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function br(t){if(!t[Mo]){t[Mo]=!0,Tm.forEach(function(n){n!=="selectionchange"&&(pT.has(n)||Ns(n,!1,t),Ns(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mo]||(e[Mo]=!0,Ns("selectionchange",!1,e))}}function Mh(t,e,n,i){switch(kh(e)){case 2:var l=BT;break;case 8:l=zT;break;default:l=kr}n=l.bind(null,e,n,t),l=void 0,!Js||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Ds(t,e,n,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var r=i.stateNode.containerInfo;if(r===l)break;if(u===4)for(u=i.return;u!==null;){var f=u.tag;if((f===3||f===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;r!==null;){if(u=ri(r),u===null)return;if(f=u.tag,f===5||f===6||f===26||f===27){i=o=u;continue e}r=r.parentNode}}i=i.return}Rm(function(){var c=o,d=ju(n),m=[];e:{var p=zm.get(t);if(p!==void 0){var g=Ua,S=t;switch(t){case"keypress":if(Lo(n)===0)break e;case"keydown":case"keyup":g=uv;break;case"focusin":S="focus",g=os;break;case"focusout":S="blur",g=os;break;case"beforeblur":case"afterblur":g=os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=fv;break;case Pm:case Gm:case Hm:g=jy;break;case Bm:g=mv;break;case"scroll":case"scrollend":g=$y;break;case"wheel":g=hv;break;case"copy":case"cut":case"paste":g=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yc;break;case"toggle":case"beforetoggle":g=yv}var E=(e&4)!==0,D=!E&&(t==="scroll"||t==="scrollend"),v=E?p!==null?p+"Capture":null:p;E=[];for(var y=c,T;y!==null;){var C=y;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||v===null||(C=wl(y,v),C!=null&&E.push(Pl(y,C,T))),D)break;y=y.return}0<E.length&&(p=new g(p,S,null,n,d),m.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Os&&(S=n.relatedTarget||n.fromElement)&&(ri(S)||S[Fi]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=c,S=S?ri(S):null,S!==null&&(D=Yl(S),E=S.tag,S!==D||E!==5&&E!==27&&E!==6)&&(S=null)):(g=null,S=c),g!==S)){if(E=hc,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=yc,C="onPointerLeave",v="onPointerEnter",y="pointer"),D=g==null?p:dl(g),T=S==null?p:dl(S),p=new E(C,y+"leave",g,n,d),p.target=D,p.relatedTarget=T,C=null,ri(d)===c&&(E=new E(v,y+"enter",S,n,d),E.target=T,E.relatedTarget=D,C=E),D=C,g&&S)t:{for(E=g,v=S,y=0,T=E;T;T=ni(T))y++;for(T=0,C=v;C;C=ni(C))T++;for(;0<y-T;)E=ni(E),y--;for(;0<T-y;)v=ni(v),T--;for(;y--;){if(E===v||v!==null&&E===v.alternate)break t;E=ni(E),v=ni(v)}E=null}else E=null;g!==null&&cf(m,p,g,E,!1),S!==null&&D!==null&&cf(m,D,S,E,!0)}}e:{if(p=c?dl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var _=Sc;else if(Cc(p))if(bm)_=Rv;else{_=Mv;var x=_v}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Wu(c.elementType)&&(_=Sc):_=xv;if(_&&(_=_(t,c))){Im(m,_,n,d);break e}x&&x(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Ys(p,"number",p.value)}switch(x=c?dl(c):window,t){case"focusin":(Cc(x)||x.contentEditable==="true")&&(di=x,Ks=c,yl=null);break;case"focusout":yl=Ks=di=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,xc(m,n,d);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":xc(m,n,d)}var R;if(nr)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fi?Um(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Dm&&n.locale!=="ko"&&(fi||N!=="onCompositionStart"?N==="onCompositionEnd"&&fi&&(R=Nm()):(fn=d,er="value"in fn?fn.value:fn.textContent,fi=!0)),x=ga(c,N),0<x.length&&(N=new gc(N,t,null,n,d),m.push({event:N,listeners:x}),R?N.data=R:(R=wm(n),R!==null&&(N.data=R)))),(R=Tv?Cv(t,n):Sv(t,n))&&(N=ga(c,"onBeforeInput"),0<N.length&&(x=new gc("onBeforeInput","beforeinput",null,n,d),m.push({event:x,listeners:N}),x.data=R)),fT(m,t,c,n,d)}_h(m,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ga(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=wl(t,n),l!=null&&i.unshift(Pl(t,l,o)),l=wl(t,e),l!=null&&i.push(Pl(t,l,o))),t.tag===3)return i;t=t.return}return[]}function ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cf(t,e,n,i,l){for(var o=e._reactName,u=[];n!==null&&n!==i;){var r=n,f=r.alternate,c=r.stateNode;if(r=r.tag,f!==null&&f===i)break;r!==5&&r!==26&&r!==27||c===null||(f=c,l?(c=wl(n,o),c!=null&&u.unshift(Pl(n,c,f))):l||(c=wl(n,o),c!=null&&u.push(Pl(n,c,f)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var hT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function ff(t){return(typeof t=="string"?t:""+t).replace(hT,`
`).replace(gT,"")}function xh(t,e){return e=ff(e),ff(t)===e}function za(){}function oe(t,e,n,i,l,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||bi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&bi(t,""+i);break;case"className":vo(t,"class",i);break;case"tabIndex":vo(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":vo(t,n,i);break;case"style":xm(t,i,o);break;case"data":if(e!=="object"){vo(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Io(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&oe(t,e,"name",l.name,l,null),oe(t,e,"formEncType",l.formEncType,l,null),oe(t,e,"formMethod",l.formMethod,l,null),oe(t,e,"formTarget",l.formTarget,l,null)):(oe(t,e,"encType",l.encType,l,null),oe(t,e,"method",l.method,l,null),oe(t,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Io(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=za);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Io(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":$("beforetoggle",t),$("toggle",t),wo(t,"popover",i);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":wo(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jy.get(n)||n,wo(t,n,i))}}function Tu(t,e,n,i,l,o){switch(n){case"style":xm(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?bi(t,i):(typeof i=="number"||typeof i=="bigint")&&bi(t,""+i);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"onClick":i!=null&&(t.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),o=t[Xe]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,l);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):wo(t,n,i)}}}function ke(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",t),$("load",t);var i=!1,l=!1,o;for(o in n)if(n.hasOwnProperty(o)){var u=n[o];if(u!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:oe(t,e,o,u,n,null)}}l&&oe(t,e,"srcSet",n.srcSet,n,null),i&&oe(t,e,"src",n.src,n,null);return;case"input":$("invalid",t);var r=o=u=l=null,f=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":l=d;break;case"type":u=d;break;case"checked":f=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,e));break;default:oe(t,e,i,d,n,null)}}Am(t,o,r,f,c,u,l,!1),Zo(t);return;case"select":$("invalid",t),i=u=o=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":o=r;break;case"defaultValue":u=r;break;case"multiple":i=r;default:oe(t,e,l,r,n,null)}e=o,n=u,t.multiple=!!i,e!=null?Si(t,!!i,e,!1):n!=null&&Si(t,!!i,n,!0);return;case"textarea":$("invalid",t),o=l=i=null;for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"value":i=r;break;case"defaultValue":l=r;break;case"children":o=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:oe(t,e,u,r,n,null)}Mm(t,i,l,o),Zo(t);return;case"option":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:oe(t,e,f,i,n,null)}return;case"dialog":$("beforetoggle",t),$("toggle",t),$("cancel",t),$("close",t);break;case"iframe":case"object":$("load",t);break;case"video":case"audio":for(i=0;i<kl.length;i++)$(kl[i],t);break;case"image":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"embed":case"source":case"link":$("error",t),$("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:oe(t,e,c,i,n,null)}return;default:if(Wu(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Tu(t,e,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&oe(t,e,r,i,n,null))}function yT(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,u=null,r=null,f=null,c=null,d=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":f=m;default:i.hasOwnProperty(g)||oe(t,e,g,null,i,m)}}for(var p in i){var g=i[p];if(m=n[p],i.hasOwnProperty(p)&&(g!=null||m!=null))switch(p){case"type":o=g;break;case"name":l=g;break;case"checked":c=g;break;case"defaultChecked":d=g;break;case"value":u=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,e));break;default:g!==m&&oe(t,e,p,g,i,m)}}Fs(t,u,r,f,c,d,o,l);return;case"select":g=u=r=p=null;for(o in n)if(f=n[o],n.hasOwnProperty(o)&&f!=null)switch(o){case"value":break;case"multiple":g=f;default:i.hasOwnProperty(o)||oe(t,e,o,null,i,f)}for(l in i)if(o=i[l],f=n[l],i.hasOwnProperty(l)&&(o!=null||f!=null))switch(l){case"value":p=o;break;case"defaultValue":r=o;break;case"multiple":u=o;default:o!==f&&oe(t,e,l,o,i,f)}e=r,n=u,i=g,p!=null?Si(t,!!n,p,!1):!!i!=!!n&&(e!=null?Si(t,!!n,e,!0):Si(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:oe(t,e,r,null,i,l)}for(u in i)if(l=i[u],o=n[u],i.hasOwnProperty(u)&&(l!=null||o!=null))switch(u){case"value":p=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:l!==o&&oe(t,e,u,l,i,o)}_m(t,p,g);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!i.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:oe(t,e,S,null,i,p)}for(f in i)if(p=i[f],g=n[f],i.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:oe(t,e,f,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&oe(t,e,E,null,i,p);for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:oe(t,e,c,p,i,g)}return;default:if(Wu(e)){for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!==void 0&&!i.hasOwnProperty(D)&&Tu(t,e,D,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||p===void 0&&g===void 0||Tu(t,e,d,p,i,g);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!i.hasOwnProperty(v)&&oe(t,e,v,null,i,p);for(m in i)p=i[m],g=n[m],!i.hasOwnProperty(m)||p===g||p==null&&g==null||oe(t,e,m,p,i,g)}var Cu=null,Su=null;function ya(t){return t.nodeType===9?t:t.ownerDocument}function df(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rh(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Eu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Us=null;function vT(){var t=window.event;return t&&t.type==="popstate"?t===Us?!1:(Us=t,!0):(Us=null,!1)}var Nh=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(t){return mf.resolve(null).then(t).catch(ST)}:Nh;function ST(t){setTimeout(function(){throw t})}function xn(t){return t==="head"}function pf(t,e){var n=e,i=0,l=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<i&&8>i){n=i;var u=t.ownerDocument;if(n&1&&Nl(u.documentElement),n&2&&Nl(u.body),n&4)for(n=u.head,Nl(n),u=n.firstChild;u;){var r=u.nextSibling,f=u.nodeName;u[$l]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=r}}if(l===0){t.removeChild(o),Fl(e);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);Fl(e)}function Au(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Au(n),Zu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function ET(t,e,n,i){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[$l])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=Ct(t.nextSibling),t===null)break}return null}function AT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ct(t.nextSibling),t===null))return null;return t}function _u(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _T(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Mu=null;function hf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Dh(t,e,n){switch(e=ya(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function Nl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Zu(t)}var yt=new Map,gf=new Set;function va(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zt=W.d;W.d={f:MT,r:xT,D:RT,C:NT,L:DT,m:UT,X:IT,S:wT,M:bT};function MT(){var t=Zt.f(),e=Ga();return t||e}function xT(t){var e=Yi(t);e!==null&&e.tag===5&&e.type==="form"?Ep(e):Zt.r(t)}var Ki=typeof document>"u"?null:document;function Uh(t,e,n){var i=Ki;if(i&&typeof e=="string"&&e){var l=dt(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),gf.has(l)||(gf.add(l),t={rel:t,crossOrigin:n,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),ke(e,"link",t),we(e),i.head.appendChild(e)))}}function RT(t){Zt.D(t),Uh("dns-prefetch",t,null)}function NT(t,e){Zt.C(t,e),Uh("preconnect",t,e)}function DT(t,e,n){Zt.L(t,e,n);var i=Ki;if(i&&t&&e){var l='link[rel="preload"][as="'+dt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+dt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+dt(n.imageSizes)+'"]')):l+='[href="'+dt(t)+'"]';var o=l;switch(e){case"style":o=Bi(t);break;case"script":o=$i(t)}yt.has(o)||(t=fe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),yt.set(o,t),i.querySelector(l)!==null||e==="style"&&i.querySelector(lo(o))||e==="script"&&i.querySelector(oo(o))||(e=i.createElement("link"),ke(e,"link",t),we(e),i.head.appendChild(e)))}}function UT(t,e){Zt.m(t,e);var n=Ki;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+dt(i)+'"][href="'+dt(t)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=$i(t)}if(!yt.has(o)&&(t=fe({rel:"modulepreload",href:t},e),yt.set(o,t),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(oo(o)))return}i=n.createElement("link"),ke(i,"link",t),we(i),n.head.appendChild(i)}}}function wT(t,e,n){Zt.S(t,e,n);var i=Ki;if(i&&t){var l=Ci(i).hoistableStyles,o=Bi(t);e=e||"default";var u=l.get(o);if(!u){var r={loading:0,preload:null};if(u=i.querySelector(lo(o)))r.loading=5;else{t=fe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=yt.get(o))&&Lr(t,n);var f=u=i.createElement("link");we(f),ke(f,"link",t),f._p=new Promise(function(c,d){f.onload=c,f.onerror=d}),f.addEventListener("load",function(){r.loading|=1}),f.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Bo(u,e,i)}u={type:"stylesheet",instance:u,count:1,state:r},l.set(o,u)}}}function IT(t,e){Zt.X(t,e);var n=Ki;if(n&&t){var i=Ci(n).hoistableScripts,l=$i(t),o=i.get(l);o||(o=n.querySelector(oo(l)),o||(t=fe({src:t,async:!0},e),(e=yt.get(l))&&Vr(t,e),o=n.createElement("script"),we(o),ke(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function bT(t,e){Zt.M(t,e);var n=Ki;if(n&&t){var i=Ci(n).hoistableScripts,l=$i(t),o=i.get(l);o||(o=n.querySelector(oo(l)),o||(t=fe({src:t,async:!0,type:"module"},e),(e=yt.get(l))&&Vr(t,e),o=n.createElement("script"),we(o),ke(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function yf(t,e,n,i){var l=(l=pn.current)?va(l):null;if(!l)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Bi(n.href),n=Ci(l).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Bi(n.href);var o=Ci(l).hoistableStyles,u=o.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,u),(o=l.querySelector(lo(t)))&&!o._p&&(u.instance=o,u.state.loading=5),yt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yt.set(t,n),o||LT(l,t,n,u.state))),e&&i===null)throw Error(U(528,""));return u}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=$i(n),n=Ci(l).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function Bi(t){return'href="'+dt(t)+'"'}function lo(t){return'link[rel="stylesheet"]['+t+"]"}function wh(t){return fe({},t,{"data-precedence":t.precedence,precedence:null})}function LT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ke(e,"link",n),we(e),t.head.appendChild(e))}function $i(t){return'[src="'+dt(t)+'"]'}function oo(t){return"script[async]"+t}function vf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+dt(n.href)+'"]');if(i)return e.instance=i,we(i),i;var l=fe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),we(i),ke(i,"style",l),Bo(i,n.precedence,t),e.instance=i;case"stylesheet":l=Bi(n.href);var o=t.querySelector(lo(l));if(o)return e.state.loading|=4,e.instance=o,we(o),o;i=wh(n),(l=yt.get(l))&&Lr(i,l),o=(t.ownerDocument||t).createElement("link"),we(o);var u=o;return u._p=new Promise(function(r,f){u.onload=r,u.onerror=f}),ke(o,"link",i),e.state.loading|=4,Bo(o,n.precedence,t),e.instance=o;case"script":return o=$i(n.src),(l=t.querySelector(oo(o)))?(e.instance=l,we(l),l):(i=n,(l=yt.get(o))&&(i=fe({},n),Vr(i,l)),t=t.ownerDocument||t,l=t.createElement("script"),we(l),ke(l,"link",i),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Bo(i,n.precedence,t));return e.instance}function Bo(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,u=0;u<i.length;u++){var r=i[u];if(r.dataset.precedence===e)o=r;else if(o!==l)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Lr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Vr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var zo=null;function Tf(t,e,n){if(zo===null){var i=new Map,l=zo=new Map;l.set(n,i)}else l=zo,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var o=n[l];if(!(o[$l]||o[Ge]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var u=o.getAttribute(e)||"";u=t+u;var r=i.get(u);r?r.push(o):i.set(u,[o])}}return i}function Cf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function VT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ih(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Gl=null;function qT(){}function kT(t,e,n){if(Gl===null)throw Error(U(475));var i=Gl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=Bi(n.href),o=t.querySelector(lo(l));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Ta.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,we(o);return}o=t.ownerDocument||t,n=wh(n),(l=yt.get(l))&&Lr(n,l),o=o.createElement("link"),we(o);var u=o;u._p=new Promise(function(r,f){u.onload=r,u.onerror=f}),ke(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Ta.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function PT(){if(Gl===null)throw Error(U(475));var t=Gl;return t.stylesheets&&t.count===0&&xu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ta(){if(this.count--,this.count===0){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ca=null;function xu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ca=new Map,e.forEach(GT,t),Ca=null,Ta.call(t))}function GT(t,e){if(!(e.state.loading&4)){var n=Ca.get(t);if(n)var i=n.get(null);else{n=new Map,Ca.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var u=l[o];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),i=u)}i&&n.set(null,i)}l=e.instance,u=l.getAttribute("data-precedence"),o=n.get(u)||i,o===i&&n.set(null,l),n.set(u,l),this.count++,i=Ta.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Hl={$$typeof:Ht,Provider:null,Consumer:null,_currentValue:In,_currentValue2:In,_threadCount:0};function HT(t,e,n,i,l,o,u,r){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function bh(t,e,n,i,l,o,u,r,f,c,d,m){return t=new HT(t,e,n,u,r,f,c,m),e=1,o===!0&&(e|=24),o=nt(3,null,null,e),t.current=o,o.stateNode=t,e=rr(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},fr(o),t}function Lh(t){return t?(t=hi,t):hi}function Vh(t,e,n,i,l,o){l=Lh(l),i.context===null?i.context=l:i.pendingContext=l,i=hn(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=gn(t,i,e),n!==null&&(at(n,t,e),Cl(n,t,e))}function Sf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qr(t,e){Sf(t,e),(t=t.alternate)&&Sf(t,e)}function qh(t){if(t.tag===13){var e=Oi(t,67108864);e!==null&&at(e,t,67108864),qr(t,67108864)}}var Sa=!0;function BT(t,e,n,i){var l=F.T;F.T=null;var o=W.p;try{W.p=2,kr(t,e,n,i)}finally{W.p=o,F.T=l}}function zT(t,e,n,i){var l=F.T;F.T=null;var o=W.p;try{W.p=8,kr(t,e,n,i)}finally{W.p=o,F.T=l}}function kr(t,e,n,i){if(Sa){var l=Ru(i);if(l===null)Ds(t,e,i,Ea,n),Ef(t,i);else if(YT(l,t,e,n,i))i.stopPropagation();else if(Ef(t,i),e&4&&-1<FT.indexOf(t)){for(;l!==null;){var o=Yi(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var u=Dn(o.pendingLanes);if(u!==0){var r=o;for(r.pendingLanes|=2,r.entangledLanes|=2;u;){var f=1<<31-lt(u);r.entanglements[1]|=f,u&=~f}It(o),!(ie&6)&&(da=Dt()+500,io(0))}}break;case 13:r=Oi(o,2),r!==null&&at(r,o,2),Ga(),qr(o,2)}if(o=Ru(i),o===null&&Ds(t,e,i,Ea,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else Ds(t,e,i,null,n)}}function Ru(t){return t=ju(t),Pr(t)}var Ea=null;function Pr(t){if(Ea=null,t=ri(t),t!==null){var e=Yl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=sm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ea=t,null}function kh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ny()){case fm:return 2;case dm:return 8;case Qo:case Dy:return 32;case mm:return 268435456;default:return 32}default:return 32}}var Nu=!1,Tn=null,Cn=null,Sn=null,Bl=new Map,zl=new Map,rn=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ef(t,e){switch(t){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function ul(t,e,n,i,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=Yi(e),e!==null&&qh(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function YT(t,e,n,i,l){switch(e){case"focusin":return Tn=ul(Tn,t,e,n,i,l),!0;case"dragenter":return Cn=ul(Cn,t,e,n,i,l),!0;case"mouseover":return Sn=ul(Sn,t,e,n,i,l),!0;case"pointerover":var o=l.pointerId;return Bl.set(o,ul(Bl.get(o)||null,t,e,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,zl.set(o,ul(zl.get(o)||null,t,e,n,i,l)),!0}return!1}function Ph(t){var e=ri(t.target);if(e!==null){var n=Yl(e);if(n!==null){if(e=n.tag,e===13){if(e=sm(n),e!==null){t.blockedOn=e,ky(t.priority,function(){if(n.tag===13){var i=ot();i=Xu(i);var l=Oi(n,i);l!==null&&at(l,n,i),qr(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ru(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Os=i,n.target.dispatchEvent(i),Os=null}else return e=Yi(n),e!==null&&qh(e),t.blockedOn=n,!1;e.shift()}return!0}function Af(t,e,n){Fo(t)&&n.delete(e)}function OT(){Nu=!1,Tn!==null&&Fo(Tn)&&(Tn=null),Cn!==null&&Fo(Cn)&&(Cn=null),Sn!==null&&Fo(Sn)&&(Sn=null),Bl.forEach(Af),zl.forEach(Af)}function xo(t,e){t.blockedOn===e&&(t.blockedOn=null,Nu||(Nu=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,OT)))}var Ro=null;function _f(t){Ro!==t&&(Ro=t,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,function(){Ro===t&&(Ro=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],l=t[e+2];if(typeof i!="function"){if(Pr(i||n)===null)continue;break}var o=Yi(n);o!==null&&(t.splice(e,3),e-=3,su(o,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function Fl(t){function e(f){return xo(f,t)}Tn!==null&&xo(Tn,t),Cn!==null&&xo(Cn,t),Sn!==null&&xo(Sn,t),Bl.forEach(e),zl.forEach(e);for(var n=0;n<rn.length;n++){var i=rn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Ph(n),n.blockedOn===null&&rn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],o=n[i+1],u=l[Xe]||null;if(typeof o=="function")u||_f(n);else if(u){var r=null;if(o&&o.hasAttribute("formAction")){if(l=o,u=o[Xe]||null)r=u.formAction;else if(Pr(l)!==null)continue}else r=u.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),_f(n)}}}function Gr(t){this._internalRoot=t}Fa.prototype.render=Gr.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=ot();Vh(n,i,t,e,null,null)};Fa.prototype.unmount=Gr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vh(t.current,2,null,t,null,null),Ga(),e[Fi]=null}};function Fa(t){this._internalRoot=t}Fa.prototype.unstable_scheduleHydration=function(t){if(t){var e=vm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rn.length&&e!==0&&e<rn[n].priority;n++);rn.splice(n,0,t),n===0&&Ph(t)}};var Mf=om.version;if(Mf!=="19.1.1")throw Error(U(527,Mf,"19.1.1"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Sy(e),t=t!==null?um(t):null,t=t===null?null:t.stateNode,t};var JT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Ol=No.inject(JT),it=No}catch{}}Ra.createRoot=function(t,e){if(!am(t))throw Error(U(299));var n=!1,i="",l=bp,o=Lp,u=Vp,r=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(r=e.unstable_transitionCallbacks)),e=bh(t,1,!1,null,null,n,i,l,o,u,r,null),t[Fi]=e.current,br(t),new Gr(e)};Ra.hydrateRoot=function(t,e,n){if(!am(t))throw Error(U(299));var i=!1,l="",o=bp,u=Lp,r=Vp,f=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(f=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=bh(t,1,!0,e,n??null,i,l,o,u,r,f,c),e.context=Lh(null),n=e.current,i=ot(),i=Xu(i),l=hn(i),l.callback=null,gn(n,l,i),n=i,e.current.lanes=n,Kl(e,n),It(e),t[Fi]=e.current,br(t),new Fa(e)};Ra.version="19.1.1";function Gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gh)}catch(t){console.error(t)}}Gh(),jd.exports=Ra;var KT=jd.exports;const $T=Zg(KT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XT,QT;function ZT(){return{geminiUrl:XT,vertexUrl:QT}}function WT(t,e,n,i){var l,o;if(!(t!=null&&t.baseUrl)){const u=ZT();return e?(l=u.vertexUrl)!==null&&l!==void 0?l:n:(o=u.geminiUrl)!==null&&o!==void 0?o:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n{}function G(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function s(t,e,n){for(let o=0;o<e.length-1;o++){const u=e[o];if(u.endsWith("[]")){const r=u.slice(0,-2);if(!(r in t))if(Array.isArray(n))t[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[r])){const f=t[r];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];s(d,e.slice(o+1),n[c])}else for(const c of f)s(c,e.slice(o+1),n)}return}else if(u.endsWith("[0]")){const r=u.slice(0,-3);r in t||(t[r]=[{}]);const f=t[r];s(f[0],e.slice(o+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(u=>a(u,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Du(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xf;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xf||(xf={}));var Rf;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Rf||(Rf={}));var Te;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Te||(Te={}));var Nf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Nf||(Nf={}));var Df;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Df||(Df={}));var Uf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Uf||(Uf={}));var wf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wf||(wf={}));var If;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(If||(If={}));var bf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(bf||(bf={}));var Lf;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lf||(Lf={}));var Vf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Vf||(Vf={}));var qf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(qf||(qf={}));var kf;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kf||(kf={}));var Pf;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Pf||(Pf={}));var Gf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gf||(Gf={}));var Aa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Aa||(Aa={}));var Hf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hf||(Hf={}));var Uu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Uu||(Uu={}));var Bf;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bf||(Bf={}));var zf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zf||(zf={}));var Ff;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ff||(Ff={}));var Yf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Yf||(Yf={}));var Of;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Of||(Of={}));var Jf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jf||(Jf={}));var Kf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Kf||(Kf={}));var $f;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($f||($f={}));var Xf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Xf||(Xf={}));var Qf;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Qf||(Qf={}));var Zf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zf||(Zf={}));var Wf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wf||(Wf={}));var jf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jf||(jf={}));var ed;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ed||(ed={}));var td;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(td||(td={}));var nd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nd||(nd={}));var id;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(id||(id={}));var ld;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ld||(ld={}));var od;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(od||(od={}));var ad;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ad||(ad={}));var sd;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(sd||(sd={}));var ud;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ud||(ud={}));var rd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(rd||(rd={}));var cd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cd||(cd={}));var fd;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(fd||(fd={}));var Ti;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ti||(Ti={}));class wu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class rl{get text(){var e,n,i,l,o,u,r,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const m=[];for(const p of(f=(r=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)!==null&&f!==void 0?f:[]){for(const[g,S]of Object.entries(p))g!=="text"&&g!=="thought"&&(S!==null||S!==void 0)&&m.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,i,l,o,u,r,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const m of(f=(r=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)!==null&&f!==void 0?f:[]){for(const[p,g]of Object.entries(m))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,i,l,o,u,r,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(r=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,i,l,o,u,r,f,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(r=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,i,l,o,u,r,f,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(r=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class dd{}class md{}class jT{}class eC{}class tC{}class pd{}class hd{}class gd{}class nC{}class yd{}class vd{}class Td{}class Cd{}class iC{}class lC{}class oC{}class Sd{}class aC{get text(){var e,n,i;let l="",o=!1;const u=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,c]of Object.entries(r))f!=="text"&&f!=="thought"&&c!==null&&u.push(f);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;o=!0,l+=r.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,n,i;let l="";const o=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,f]of Object.entries(u))r!=="inlineData"&&f!==null&&o.push(r);u.inlineData&&typeof u.inlineData.data=="string"&&(l+=atob(u.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class _a{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new _a;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const l=e.response;if(l){const o=new yd,u=l.videos;o.generatedVideos=u==null?void 0:u.map(r=>({video:{uri:r.gcsUri,videoBytes:r.bytesBase64Encoded?Du(r.bytesBase64Encoded):void 0,mimeType:r.mimeType}})),o.raiMediaFilteredCount=l.raiMediaFilteredCount,o.raiMediaFilteredReasons=l.raiMediaFilteredReasons,i.response=o}}else{const l=e.response;if(l){const o=new yd,u=l.generateVideoResponse,r=u==null?void 0:u.generatedSamples;o.generatedVideos=r==null?void 0:r.map(f=>{const c=f.video;return{video:{uri:c==null?void 0:c.uri,videoBytes:c!=null&&c.encodedVideo?Du(c==null?void 0:c.encodedVideo):void 0,mimeType:f.encoding}}}),o.raiMediaFilteredCount=u==null?void 0:u.raiMediaFilteredCount,o.raiMediaFilteredReasons=u==null?void 0:u.raiMediaFilteredReasons,i.response=o}}return i}}class sC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ee(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hh(t,e){const n=ee(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Bh(t){return Array.isArray(t)?t.map(e=>Ma(e)):[Ma(t)]}function Ma(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zh(t){const e=Ma(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fh(t){const e=Ma(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ed(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Yh(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Ed(e)):[Ed(t)]}function Iu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ad(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function _d(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Be(t){if(t==null)throw new Error("ContentUnion is required");return Iu(t)?t:{role:"user",parts:Yh(t)}}function Oh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Be(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Be(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Be(n)):[Be(e)]}function ht(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ad(t)||_d(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Be(t)]}const e=[],n=[],i=Iu(t[0]);for(const l of t){const o=Iu(l);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(Ad(l)||_d(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:Yh(n)}),e}function uC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Te).includes(n[0].toUpperCase())?n[0].toUpperCase():Te.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Te).includes(i.toUpperCase())?i.toUpperCase():Te.TYPE_UNSPECIFIED})}}function Ni(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&uC(t.type,e);for(const[u,r]of Object.entries(t))if(r!=null)if(u=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;e.type=Object.values(Te).includes(r.toUpperCase())?r.toUpperCase():Te.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Ni(r);else if(i.includes(u)){const f=[];for(const c of r){if(c.type=="null"){e.nullable=!0;continue}f.push(Ni(c))}e[u]=f}else if(l.includes(u)){const f={};for(const[c,d]of Object.entries(r))f[c]=Ni(d);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=r}return e}function Hr(t){return Ni(t)}function Br(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zr(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ni(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ni(e.response));return t}function Qi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function rC(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function Wt(t,e){if(typeof e!="string")throw new Error("name must be a string");return rC(t,e,"cachedContents")}function Jh(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Xn(t){return Du(t)}function cC(t){return t!=null&&typeof t=="object"&&"name"in t}function fC(t){return t!=null&&typeof t=="object"&&"video"in t}function dC(t){return t!=null&&typeof t=="object"&&"uri"in t}function Kh(t){var e;let n;if(cC(t)&&(n=t.name),!(dC(t)&&(n=t.uri,n===void 0))&&!(fC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $h(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Xh(t){for(const e of["models","tunedModels","publisherModels"])if(mC(t,e))return t[e];return[]}function mC(t,e){return t!==null&&typeof t=="object"&&e in t}function pC(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function hC(t,e={}){const n=[],i=new Set;for(const l of t){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const u=pC(l,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Qh(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function gC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Zh(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function vC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function TC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function CC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],yC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],vC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],TC(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Wh(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>CC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function SC(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const u=a(t,["example"]);u!=null&&s(e,["example"],u);const r=a(t,["format"]);r!=null&&s(e,["format"],r);const f=a(t,["items"]);f!=null&&s(e,["items"],f);const c=a(t,["maxItems"]);c!=null&&s(e,["maxItems"],c);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=a(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const E=a(t,["minProperties"]);E!=null&&s(e,["minProperties"],E);const D=a(t,["minimum"]);D!=null&&s(e,["minimum"],D);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const x=a(t,["title"]);x!=null&&s(e,["title"],x);const R=a(t,["type"]);return R!=null&&s(e,["type"],R),e}function EC(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function AC(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const f=a(t,["responseJsonSchema"]);return f!=null&&s(e,["responseJsonSchema"],f),e}function _C(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function MC(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],_C(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function xC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function RC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],xC(n)),e}function NC(){return{}}function DC(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function UC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>AC(c))),s(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],MC(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],RC(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],NC());const u=a(t,["computerUse"]);u!=null&&s(e,["computerUse"],DC(u));const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function wC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function IC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function bC(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],IC(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function LC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],wC(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],bC(i)),e}function VC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function jh(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],VC(n)),e}function qC(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],jh(i)),e}function kC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>qC(l))),s(e,["speakerVoiceConfigs"],i)}return e}function PC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],jh(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],kC(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function GC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function HC(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Wh(Be(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const u=a(e,["topP"]);u!=null&&s(i,["topP"],u);const r=a(e,["topK"]);r!=null&&s(i,["topK"],r);const f=a(e,["candidateCount"]);f!=null&&s(i,["candidateCount"],f);const c=a(e,["maxOutputTokens"]);c!=null&&s(i,["maxOutputTokens"],c);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=a(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const E=a(e,["seed"]);E!=null&&s(i,["seed"],E);const D=a(e,["responseMimeType"]);D!=null&&s(i,["responseMimeType"],D);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],SC(Hr(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(j=>EC(j))),s(n,["safetySettings"],q)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let q=Qi(C);Array.isArray(q)&&(q=q.map(j=>UC(Xi(j)))),s(n,["tools"],q)}const _=a(e,["toolConfig"]);if(n!==void 0&&_!=null&&s(n,["toolConfig"],LC(_)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=a(e,["cachedContent"]);n!==void 0&&x!=null&&s(n,["cachedContent"],Wt(t,x));const R=a(e,["responseModalities"]);R!=null&&s(i,["responseModalities"],R);const N=a(e,["mediaResolution"]);N!=null&&s(i,["mediaResolution"],N);const I=a(e,["speechConfig"]);if(I!=null&&s(i,["speechConfig"],PC(Br(I))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=a(e,["thinkingConfig"]);return L!=null&&s(i,["thinkingConfig"],GC(L)),i}function BC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["request","model"],ee(t,i));const l=a(e,["contents"]);if(l!=null){let u=ht(l);Array.isArray(u)&&(u=u.map(r=>Wh(r))),s(n,["request","contents"],u)}const o=a(e,["config"]);return o!=null&&s(n,["request","generationConfig"],HC(t,o,n)),n}function zC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&s(n,["fileName"],i);const l=a(e,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>BC(t,u))),s(n,["requests","requests"],o)}return n}function FC(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function YC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["src"]);l!=null&&s(n,["batch","inputConfig"],zC(t,Qh(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],FC(o,n)),n}function OC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Zi(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function JC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Zi(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function KC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function $C(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],KC(n,e)),e}function XC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Zi(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function QC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ZC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function WC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["dest"]);return e!==void 0&&l!=null&&s(e,["outputConfig"],ZC(gC(l))),n}function jC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],ee(t,i));const l=a(e,["src"]);l!=null&&s(n,["inputConfig"],QC(Qh(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],WC(o,n)),n}function eS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Zi(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function tS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Zi(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function nS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function iS(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],nS(n,e)),e}function lS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Zi(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function oS(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function aS(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function sS(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function uS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],oS(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],aS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],sS(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function rS(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>uS(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function cS(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function fS(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function dS(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>fS(l))),s(e,["urlMetadata"],i)}return e}function mS(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],rS(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],cS(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const u=a(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],dS(u));const r=a(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const f=a(t,["groundingMetadata"]);f!=null&&s(e,["groundingMetadata"],f);const c=a(t,["index"]);c!=null&&s(e,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function pS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(c=>mS(c))),s(e,["candidates"],f)}const l=a(t,["modelVersion"]);l!=null&&s(e,["modelVersion"],l);const o=a(t,["promptFeedback"]);o!=null&&s(e,["promptFeedback"],o);const u=a(t,["responseId"]);u!=null&&s(e,["responseId"],u);const r=a(t,["usageMetadata"]);return r!=null&&s(e,["usageMetadata"],r),e}function eg(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const l=a(t,["message"]);return l!=null&&s(e,["message"],l),e}function hS(t){const e={},n=a(t,["response"]);n!=null&&s(e,["response"],pS(n));const i=a(t,["error"]);return i!=null&&s(e,["error"],eg(i)),e}function gS(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>hS(o))),s(e,["inlinedResponses"],l)}return e}function bu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["metadata","state"]);l!=null&&s(e,["state"],Zh(l));const o=a(t,["metadata","createTime"]);o!=null&&s(e,["createTime"],o);const u=a(t,["metadata","endTime"]);u!=null&&s(e,["endTime"],u);const r=a(t,["metadata","updateTime"]);r!=null&&s(e,["updateTime"],r);const f=a(t,["metadata","model"]);f!=null&&s(e,["model"],f);const c=a(t,["metadata","output"]);return c!=null&&s(e,["dest"],gS(c)),e}function yS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["operations"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>bu(u))),s(e,["batchJobs"],o)}return e}function vS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);return o!=null&&s(e,["error"],eg(o)),e}function tg(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const l=a(t,["message"]);return l!=null&&s(e,["message"],l),e}function TS(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function CS(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function Lu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],Zh(l));const o=a(t,["error"]);o!=null&&s(e,["error"],tg(o));const u=a(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=a(t,["startTime"]);r!=null&&s(e,["startTime"],r);const f=a(t,["endTime"]);f!=null&&s(e,["endTime"],f);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const d=a(t,["model"]);d!=null&&s(e,["model"],d);const m=a(t,["inputConfig"]);m!=null&&s(e,["src"],TS(m));const p=a(t,["outputConfig"]);return p!=null&&s(e,["dest"],CS(p)),e}function SS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["batchPredictionJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>Lu(u))),s(e,["batchJobs"],o)}return e}function ES(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);return o!=null&&s(e,["error"],tg(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Fn||(Fn={}));class ao{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(o=(l=u.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends $n{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${l}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new ao(Fn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=jC(this.apiClient,e);return r=G("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Lu(d))}else{const c=YC(this.apiClient,e);return r=G("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>bu(d))}}async get(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=eS(this.apiClient,e);return r=G("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Lu(d))}else{const c=OC(this.apiClient,e);return r=G("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>bu(d))}}async cancel(e){var n,i,l,o;let u="",r={};if(this.apiClient.isVertexAI()){const f=tS(this.apiClient,e);u=G("batchPredictionJobs/{name}:cancel",f._url),r=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:r,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=JC(this.apiClient,e);u=G("batches/{name}:cancel",f._url),r=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:r,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=iS(e);return r=G("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=SS(d),p=new Sd;return Object.assign(p,m),p})}else{const c=$C(e);return r=G("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=yS(d),p=new Sd;return Object.assign(p,m),p})}}async delete(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=lS(this.apiClient,e);return r=G("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>ES(d))}else{const c=XC(this.apiClient,e);return r=G("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>vS(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function MS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function xS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function RS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],_S(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],MS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],xS(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Md(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>RS(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function NS(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const f=a(t,["responseJsonSchema"]);return f!=null&&s(e,["responseJsonSchema"],f),e}function DS(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function US(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],DS(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function wS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function IS(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],wS(n)),e}function bS(){return{}}function LS(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function VS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>NS(c))),s(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],US(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],IS(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],bS());const u=a(t,["computerUse"]);u!=null&&s(e,["computerUse"],LS(u));const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function qS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function kS(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function PS(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],kS(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function GS(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],qS(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],PS(i)),e}function HS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const u=a(t,["contents"]);if(e!==void 0&&u!=null){let d=ht(u);Array.isArray(d)&&(d=d.map(m=>Md(m))),s(e,["contents"],d)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],Md(Be(r)));const f=a(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(m=>VS(m))),s(e,["tools"],d)}const c=a(t,["toolConfig"]);if(e!==void 0&&c!=null&&s(e,["toolConfig"],GS(c)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function BS(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Hh(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],HS(l,n)),n}function zS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function FS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function YS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function OS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],YS(l,n)),n}function JS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function KS(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],JS(n,e)),e}function $S(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function XS(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function QS(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ZS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],$S(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],XS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],QS(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function xd(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>ZS(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function WS(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const r=a(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function jS(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function e0(t){const e={},n=a(t,["timeRangeFilter"]);n!=null&&s(e,["timeRangeFilter"],jS(n));const i=a(t,["excludeDomains"]);return i!=null&&s(e,["excludeDomains"],i),e}function t0(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function n0(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],t0(n)),e}function i0(t){const e={},n=a(t,["excludeDomains"]);return n!=null&&s(e,["excludeDomains"],n),e}function l0(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function o0(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],l0(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const u=a(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=a(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function a0(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],o0(n)),e}function s0(){return{}}function u0(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function r0(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>WS(p))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],e0(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],n0(o));const u=a(t,["enterpriseWebSearch"]);u!=null&&s(e,["enterpriseWebSearch"],i0(u));const r=a(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],a0(r)),a(t,["urlContext"])!=null&&s(e,["urlContext"],s0());const c=a(t,["computerUse"]);c!=null&&s(e,["computerUse"],u0(c));const d=a(t,["codeExecution"]);return d!=null&&s(e,["codeExecution"],d),e}function c0(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function f0(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function d0(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],f0(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function m0(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],c0(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],d0(i)),e}function p0(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const u=a(t,["contents"]);if(e!==void 0&&u!=null){let m=ht(u);Array.isArray(m)&&(m=m.map(p=>xd(p))),s(e,["contents"],m)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],xd(Be(r)));const f=a(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>r0(p))),s(e,["tools"],m)}const c=a(t,["toolConfig"]);e!==void 0&&c!=null&&s(e,["toolConfig"],m0(c));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function h0(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Hh(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],p0(l,n)),n}function g0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function y0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function v0(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function T0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],v0(l,n)),n}function C0(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function S0(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],C0(n,e)),e}function Yo(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const r=a(t,["expireTime"]);r!=null&&s(e,["expireTime"],r);const f=a(t,["usageMetadata"]);return f!=null&&s(e,["usageMetadata"],f),e}function E0(){return{}}function A0(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>Yo(u))),s(e,["cachedContents"],o)}return e}function Oo(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const r=a(t,["expireTime"]);r!=null&&s(e,["expireTime"],r);const f=a(t,["usageMetadata"]);return f!=null&&s(e,["usageMetadata"],f),e}function _0(){return{}}function M0(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>Oo(u))),s(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x0 extends $n{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ao(Fn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=h0(this.apiClient,e);return r=G("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Oo(d))}else{const c=BS(this.apiClient,e);return r=G("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>Yo(d))}}async get(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=g0(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Oo(d))}else{const c=zS(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>Yo(d))}}async delete(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=y0(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(()=>{const d=_0(),m=new Td;return Object.assign(m,d),m})}else{const c=FS(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(()=>{const d=E0(),m=new Td;return Object.assign(m,d),m})}}async update(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=T0(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Oo(d))}else{const c=OS(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>Yo(d))}}async listInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=S0(e);return r=G("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=M0(d),p=new Cd;return Object.assign(p,m),p})}else{const c=KS(e);return r=G("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=A0(d),p=new Cd;return Object.assign(p,m),p})}}}function Rd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(t){return this instanceof ce?(this.v=t,this):new ce(t)}function Di(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(g){return function(S){return Promise.resolve(S).then(g,m)}}function r(g,S){i[g]&&(l[g]=function(E){return new Promise(function(D,v){o.push([g,E,D,v])>1||f(g,E)})},S&&(l[g]=S(l[g])))}function f(g,S){try{c(i[g](S))}catch(E){p(o[0][3],E)}}function c(g){g.value instanceof ce?Promise.resolve(g.value.v).then(d,m):p(o[0][2],g)}function d(g){f("next",g)}function m(g){f("throw",g)}function p(g,S){g(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Dl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rd=="function"?Rd(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(u){return new Promise(function(r,f){u=t[o](u),l(r,f,u.done,u.value)})}}function l(o,u,r,f){Promise.resolve(f).then(function(c){o({value:c,done:r})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R0(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ng(n)}function ng(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function N0(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Nd(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let o=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),o&&!ng(t[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class D0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new U0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class U0{constructor(e,n,i,l={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),N0(o)}async sendMessage(e){var n;await this.sendPromise;const i=Be(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,u,r;const f=await l,c=(u=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content,d=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];d!=null&&(p=(r=d.slice(m))!==null&&r!==void 0?r:[]);const g=c?[c]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=Be(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?Nd(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return Di(this,arguments,function*(){var u,r,f,c;const d=[];try{for(var m=!0,p=Dl(e),g;g=yield ce(p.next()),u=g.done,!u;m=!0){c=g.value,m=!1;const S=c;if(R0(S)){const E=(l=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;E!==void 0&&d.push(E)}yield yield ce(S)}}catch(S){r={error:S}}finally{try{!m&&!u&&(f=p.return)&&(yield ce(f.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Nd(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ya.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w0(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function I0(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],w0(n,e)),e}function b0(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function L0(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const u=a(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=a(t,["expirationTime"]);r!=null&&s(e,["expirationTime"],r);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const c=a(t,["sha256Hash"]);c!=null&&s(e,["sha256Hash"],c);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const p=a(t,["state"]);p!=null&&s(e,["state"],p);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const S=a(t,["videoMetadata"]);S!=null&&s(e,["videoMetadata"],S);const E=a(t,["error"]);return E!=null&&s(e,["error"],b0(E)),e}function V0(t){const e={},n=a(t,["file"]);n!=null&&s(e,["file"],L0(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function q0(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Kh(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function k0(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Kh(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function P0(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function Vu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const u=a(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=a(t,["expirationTime"]);r!=null&&s(e,["expirationTime"],r);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const c=a(t,["sha256Hash"]);c!=null&&s(e,["sha256Hash"],c);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const p=a(t,["state"]);p!=null&&s(e,["state"],p);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const S=a(t,["videoMetadata"]);S!=null&&s(e,["videoMetadata"],S);const E=a(t,["error"]);return E!=null&&s(e,["error"],P0(E)),e}function G0(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>Vu(u))),s(e,["files"],o)}return e}function H0(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function B0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z0 extends $n{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ao(Fn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Vu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=I0(e);return o=G("files",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),l.then(f=>{const c=G0(f),d=new iC;return Object.assign(d,c),d})}}async createInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=V0(e);return o=G("upload/v1beta/files",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const c=H0(f),d=new lC;return Object.assign(d,c),d})}}async get(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=q0(e);return o=G("files/{file}",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Vu(f))}}async delete(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=k0(e);return o=G("files/{file}",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(()=>{const f=B0(),c=new oC;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F0(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function ig(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],F0(n)),e}function Y0(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],ig(i)),e}function O0(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Y0(l))),s(e,["speakerVoiceConfigs"],i)}return e}function J0(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],ig(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],O0(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function K0(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function $0(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function X0(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Q0(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],K0(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],$0(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],X0(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Z0(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Q0(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function W0(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const f=a(t,["responseJsonSchema"]);return f!=null&&s(e,["responseJsonSchema"],f),e}function j0(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function eE(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],j0(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function tE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function nE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],tE(n)),e}function iE(){return{}}function lE(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function oE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>W0(c))),s(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],eE(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],nE(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],iE());const u=a(t,["computerUse"]);u!=null&&s(e,["computerUse"],lE(u));const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function aE(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Dd(){return{}}function sE(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const u=a(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function uE(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],sE(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function rE(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function cE(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],rE(i)),e}function fE(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function dE(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const u=a(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=a(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const f=a(t,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);const c=a(t,["mediaResolution"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","mediaResolution"],c);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],J0(zr(m)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],Z0(Be(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let _=Qi(S);Array.isArray(_)&&(_=_.map(x=>oE(Xi(x)))),s(e,["setup","tools"],_)}const E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&s(e,["setup","sessionResumption"],aE(E));const D=a(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&s(e,["setup","inputAudioTranscription"],Dd());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Dd());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],uE(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],cE(T));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],fE(C)),n}function mE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],dE(l,n)),n}function pE(){return{}}function hE(){return{}}function gE(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Bh(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],Fh(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],zh(o));const u=a(t,["text"]);return u!=null&&s(e,["text"],u),a(t,["activityStart"])!=null&&s(e,["activityStart"],pE()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],hE()),e}function lg(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function yE(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>lg(l))),s(e,["weightedPrompts"],i)}return e}function og(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const u=a(t,["bpm"]);u!=null&&s(e,["bpm"],u);const r=a(t,["density"]);r!=null&&s(e,["density"],r);const f=a(t,["brightness"]);f!=null&&s(e,["brightness"],f);const c=a(t,["scale"]);c!=null&&s(e,["scale"],c);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const p=a(t,["onlyBassAndDrums"]);p!=null&&s(e,["onlyBassAndDrums"],p);const g=a(t,["musicGenerationMode"]);return g!=null&&s(e,["musicGenerationMode"],g),e}function vE(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],og(n)),e}function ag(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function sg(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>lg(l))),s(e,["weightedPrompts"],i)}return e}function qu(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],ag(n));const i=a(t,["clientContent"]);i!=null&&s(e,["clientContent"],sg(i));const l=a(t,["musicGenerationConfig"]);l!=null&&s(e,["musicGenerationConfig"],og(l));const o=a(t,["playbackControl"]);return o!=null&&s(e,["playbackControl"],o),e}function TE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function CE(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],TE(n)),e}function SE(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],CE(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function EE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function AE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function _E(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ME(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],EE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],AE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],_E(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function xE(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>ME(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function RE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const r=a(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function NE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function DE(t){const e={},n=a(t,["timeRangeFilter"]);n!=null&&s(e,["timeRangeFilter"],NE(n));const i=a(t,["excludeDomains"]);return i!=null&&s(e,["excludeDomains"],i),e}function UE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function wE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],UE(n)),e}function IE(t){const e={},n=a(t,["excludeDomains"]);return n!=null&&s(e,["excludeDomains"],n),e}function bE(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function LE(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],bE(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const u=a(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=a(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function VE(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],LE(n)),e}function qE(){return{}}function kE(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function PE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>RE(p))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],DE(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],wE(o));const u=a(t,["enterpriseWebSearch"]);u!=null&&s(e,["enterpriseWebSearch"],IE(u));const r=a(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],VE(r)),a(t,["urlContext"])!=null&&s(e,["urlContext"],qE());const c=a(t,["computerUse"]);c!=null&&s(e,["computerUse"],kE(c));const d=a(t,["codeExecution"]);return d!=null&&s(e,["codeExecution"],d),e}function GE(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function Ud(){return{}}function HE(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const u=a(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function BE(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],HE(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function zE(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function FE(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],zE(i)),e}function YE(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function OE(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const u=a(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=a(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const f=a(t,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);const c=a(t,["mediaResolution"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","mediaResolution"],c);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],SE(zr(m)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],xE(Be(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let _=Qi(S);Array.isArray(_)&&(_=_.map(x=>PE(Xi(x)))),s(e,["setup","tools"],_)}const E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&s(e,["setup","sessionResumption"],GE(E));const D=a(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&s(e,["setup","inputAudioTranscription"],Ud());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Ud());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],BE(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],FE(T));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],YE(C)),n}function JE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],OE(l,n)),n}function KE(){return{}}function $E(){return{}}function XE(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Bh(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],Fh(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],zh(o));const u=a(t,["text"]);return u!=null&&s(e,["text"],u),a(t,["activityStart"])!=null&&s(e,["activityStart"],KE()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],$E()),e}function QE(){return{}}function ZE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function WE(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function jE(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function eA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],ZE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],WE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],jE(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function tA(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>eA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function wd(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function nA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function iA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>nA(l))),s(e,["urlMetadata"],i)}return e}function lA(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],tA(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const u=a(t,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const r=a(t,["inputTranscription"]);r!=null&&s(e,["inputTranscription"],wd(r));const f=a(t,["outputTranscription"]);f!=null&&s(e,["outputTranscription"],wd(f));const c=a(t,["urlContextMetadata"]);return c!=null&&s(e,["urlContextMetadata"],iA(c)),e}function oA(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const i=a(t,["args"]);i!=null&&s(e,["args"],i);const l=a(t,["name"]);return l!=null&&s(e,["name"],l),e}function aA(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>oA(l))),s(e,["functionCalls"],i)}return e}function sA(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function Do(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function uA(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["responseTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const u=a(t,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const r=a(t,["totalTokenCount"]);r!=null&&s(e,["totalTokenCount"],r);const f=a(t,["promptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Do(g))),s(e,["promptTokensDetails"],p)}const c=a(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Do(g))),s(e,["cacheTokensDetails"],p)}const d=a(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Do(g))),s(e,["responseTokensDetails"],p)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(g=>Do(g))),s(e,["toolUsePromptTokensDetails"],p)}return e}function rA(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function cA(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function fA(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],QE());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],lA(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],aA(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],sA(o));const u=a(t,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],uA(u));const r=a(t,["goAway"]);r!=null&&s(e,["goAway"],rA(r));const f=a(t,["sessionResumptionUpdate"]);return f!=null&&s(e,["sessionResumptionUpdate"],cA(f)),e}function dA(){return{}}function mA(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function pA(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>mA(l))),s(e,["weightedPrompts"],i)}return e}function hA(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const u=a(t,["bpm"]);u!=null&&s(e,["bpm"],u);const r=a(t,["density"]);r!=null&&s(e,["density"],r);const f=a(t,["brightness"]);f!=null&&s(e,["brightness"],f);const c=a(t,["scale"]);c!=null&&s(e,["scale"],c);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const p=a(t,["onlyBassAndDrums"]);p!=null&&s(e,["onlyBassAndDrums"],p);const g=a(t,["musicGenerationMode"]);return g!=null&&s(e,["musicGenerationMode"],g),e}function gA(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],pA(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],hA(i)),e}function yA(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sourceMetadata"]);return l!=null&&s(e,["sourceMetadata"],gA(l)),e}function vA(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>yA(l))),s(e,["audioChunks"],i)}return e}function TA(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function CA(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],dA());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],vA(i));const l=a(t,["filteredPrompt"]);return l!=null&&s(e,["filteredPrompt"],TA(l)),e}function SA(t){const e={},n=a(t,["sessionId"]);return n!=null&&s(e,["sessionId"],n),e}function EA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function AA(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function _A(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function MA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],EA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],AA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],_A(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function xA(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>MA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function Id(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function RA(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],xA(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const u=a(t,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const r=a(t,["inputTranscription"]);r!=null&&s(e,["inputTranscription"],Id(r));const f=a(t,["outputTranscription"]);return f!=null&&s(e,["outputTranscription"],Id(f)),e}function NA(t){const e={},n=a(t,["args"]);n!=null&&s(e,["args"],n);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function DA(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>NA(l))),s(e,["functionCalls"],i)}return e}function UA(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function Uo(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function wA(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["candidatesTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const u=a(t,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const r=a(t,["totalTokenCount"]);r!=null&&s(e,["totalTokenCount"],r);const f=a(t,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(S=>Uo(S))),s(e,["promptTokensDetails"],g)}const c=a(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(S=>Uo(S))),s(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(S=>Uo(S))),s(e,["responseTokensDetails"],g)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(S=>Uo(S))),s(e,["toolUsePromptTokensDetails"],g)}const p=a(t,["trafficType"]);return p!=null&&s(e,["trafficType"],p),e}function IA(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function bA(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function LA(t){const e={},n=a(t,["setupComplete"]);n!=null&&s(e,["setupComplete"],SA(n));const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],RA(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],DA(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],UA(o));const u=a(t,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],wA(u));const r=a(t,["goAway"]);r!=null&&s(e,["goAway"],IA(r));const f=a(t,["sessionResumptionUpdate"]);return f!=null&&s(e,["sessionResumptionUpdate"],bA(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function qA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function kA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function PA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],VA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],qA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],kA(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Oa(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>PA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function GA(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const u=a(t,["example"]);u!=null&&s(e,["example"],u);const r=a(t,["format"]);r!=null&&s(e,["format"],r);const f=a(t,["items"]);f!=null&&s(e,["items"],f);const c=a(t,["maxItems"]);c!=null&&s(e,["maxItems"],c);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=a(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const E=a(t,["minProperties"]);E!=null&&s(e,["minProperties"],E);const D=a(t,["minimum"]);D!=null&&s(e,["minimum"],D);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const x=a(t,["title"]);x!=null&&s(e,["title"],x);const R=a(t,["type"]);return R!=null&&s(e,["type"],R),e}function HA(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function BA(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const f=a(t,["responseJsonSchema"]);return f!=null&&s(e,["responseJsonSchema"],f),e}function zA(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function FA(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],zA(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function YA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function OA(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],YA(n)),e}function JA(){return{}}function KA(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function $A(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>BA(c))),s(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],FA(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],OA(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],JA());const u=a(t,["computerUse"]);u!=null&&s(e,["computerUse"],KA(u));const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function XA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function QA(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function ZA(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],QA(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function WA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],XA(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],ZA(i)),e}function jA(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function ug(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],jA(n)),e}function e_(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],ug(i)),e}function t_(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>e_(l))),s(e,["speakerVoiceConfigs"],i)}return e}function n_(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],ug(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],t_(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function i_(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function l_(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Oa(Be(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const u=a(e,["topP"]);u!=null&&s(i,["topP"],u);const r=a(e,["topK"]);r!=null&&s(i,["topK"],r);const f=a(e,["candidateCount"]);f!=null&&s(i,["candidateCount"],f);const c=a(e,["maxOutputTokens"]);c!=null&&s(i,["maxOutputTokens"],c);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=a(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const E=a(e,["seed"]);E!=null&&s(i,["seed"],E);const D=a(e,["responseMimeType"]);D!=null&&s(i,["responseMimeType"],D);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],GA(Hr(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(j=>HA(j))),s(n,["safetySettings"],q)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let q=Qi(C);Array.isArray(q)&&(q=q.map(j=>$A(Xi(j)))),s(n,["tools"],q)}const _=a(e,["toolConfig"]);if(n!==void 0&&_!=null&&s(n,["toolConfig"],WA(_)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=a(e,["cachedContent"]);n!==void 0&&x!=null&&s(n,["cachedContent"],Wt(t,x));const R=a(e,["responseModalities"]);R!=null&&s(i,["responseModalities"],R);const N=a(e,["mediaResolution"]);N!=null&&s(i,["mediaResolution"],N);const I=a(e,["speechConfig"]);if(I!=null&&s(i,["speechConfig"],n_(Br(I))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=a(e,["thinkingConfig"]);return L!=null&&s(i,["thinkingConfig"],i_(L)),i}function bd(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);if(l!=null){let u=ht(l);Array.isArray(u)&&(u=u.map(r=>Oa(r))),s(n,["contents"],u)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],l_(t,o,n)),n}function o_(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["requests[]","title"],l);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&s(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function a_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);l!=null&&s(n,["requests[]","content"],Oh(t,l));const o=a(e,["config"]);o!=null&&s(n,["config"],o_(o,n));const u=a(e,["model"]);return u!==void 0&&s(n,["requests[]","model"],ee(t,u)),n}function s_(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&s(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&s(e,["parameters","safetySetting"],u);const r=a(t,["personGeneration"]);e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r);const f=a(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&s(e,["parameters","includeSafetyAttributes"],f);const c=a(t,["includeRaiReason"]);e!==void 0&&c!=null&&s(e,["parameters","includeRaiReason"],c);const d=a(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const p=a(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&s(e,["parameters","outputOptions","compressionQuality"],p),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&s(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function u_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],s_(o,n)),n}function r_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function c_(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const u=a(e,["filter"]);n!==void 0&&u!=null&&s(n,["_query","filter"],u);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&s(n,["_url","models_url"],$h(t,r)),i}function f_(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],c_(t,i,n)),n}function d_(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function m_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],d_(l,n)),n}function p_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function h_(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function g_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);if(l!=null){let u=ht(l);Array.isArray(u)&&(u=u.map(r=>Oa(r))),s(n,["contents"],u)}const o=a(e,["config"]);return o!=null&&s(n,["config"],h_(o)),n}function y_(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],Xn(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function v_(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&s(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);if(e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&s(e,["parameters","negativePrompt"],r);const f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&s(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function T_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&s(n,["instances[0]","image"],y_(o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=a(e,["config"]);return u!=null&&s(n,["config"],v_(u,n)),n}function C_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function S_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function E_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function A_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],C_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],S_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],E_(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Wi(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>A_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function __(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const u=a(t,["example"]);u!=null&&s(e,["example"],u);const r=a(t,["format"]);r!=null&&s(e,["format"],r);const f=a(t,["items"]);f!=null&&s(e,["items"],f);const c=a(t,["maxItems"]);c!=null&&s(e,["maxItems"],c);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=a(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const E=a(t,["minProperties"]);E!=null&&s(e,["minProperties"],E);const D=a(t,["minimum"]);D!=null&&s(e,["minimum"],D);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const x=a(t,["title"]);x!=null&&s(e,["title"],x);const R=a(t,["type"]);return R!=null&&s(e,["type"],R),e}function M_(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function x_(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const i=a(t,["category"]);i!=null&&s(e,["category"],i);const l=a(t,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function R_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const r=a(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function N_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function D_(t){const e={},n=a(t,["timeRangeFilter"]);n!=null&&s(e,["timeRangeFilter"],N_(n));const i=a(t,["excludeDomains"]);return i!=null&&s(e,["excludeDomains"],i),e}function U_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function w_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],U_(n)),e}function I_(t){const e={},n=a(t,["excludeDomains"]);return n!=null&&s(e,["excludeDomains"],n),e}function b_(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function L_(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],b_(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const u=a(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=a(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function V_(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],L_(n)),e}function q_(){return{}}function k_(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function rg(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>R_(p))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],D_(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],w_(o));const u=a(t,["enterpriseWebSearch"]);u!=null&&s(e,["enterpriseWebSearch"],I_(u));const r=a(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],V_(r)),a(t,["urlContext"])!=null&&s(e,["urlContext"],q_());const c=a(t,["computerUse"]);c!=null&&s(e,["computerUse"],k_(c));const d=a(t,["codeExecution"]);return d!=null&&s(e,["codeExecution"],d),e}function P_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function G_(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function H_(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],G_(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function B_(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],P_(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],H_(i)),e}function z_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function F_(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],z_(n)),e}function Y_(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],F_(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function O_(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function J_(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Wi(Be(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const u=a(e,["topP"]);u!=null&&s(i,["topP"],u);const r=a(e,["topK"]);r!=null&&s(i,["topK"],r);const f=a(e,["candidateCount"]);f!=null&&s(i,["candidateCount"],f);const c=a(e,["maxOutputTokens"]);c!=null&&s(i,["maxOutputTokens"],c);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=a(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const E=a(e,["seed"]);E!=null&&s(i,["seed"],E);const D=a(e,["responseMimeType"]);D!=null&&s(i,["responseMimeType"],D);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],__(Hr(v)));const y=a(e,["responseJsonSchema"]);y!=null&&s(i,["responseJsonSchema"],y);const T=a(e,["routingConfig"]);T!=null&&s(i,["routingConfig"],T);const C=a(e,["modelSelectionConfig"]);C!=null&&s(i,["modelConfig"],M_(C));const _=a(e,["safetySettings"]);if(n!==void 0&&_!=null){let Se=_;Array.isArray(Se)&&(Se=Se.map(b=>x_(b))),s(n,["safetySettings"],Se)}const x=a(e,["tools"]);if(n!==void 0&&x!=null){let Se=Qi(x);Array.isArray(Se)&&(Se=Se.map(b=>rg(Xi(b)))),s(n,["tools"],Se)}const R=a(e,["toolConfig"]);n!==void 0&&R!=null&&s(n,["toolConfig"],B_(R));const N=a(e,["labels"]);n!==void 0&&N!=null&&s(n,["labels"],N);const I=a(e,["cachedContent"]);n!==void 0&&I!=null&&s(n,["cachedContent"],Wt(t,I));const L=a(e,["responseModalities"]);L!=null&&s(i,["responseModalities"],L);const q=a(e,["mediaResolution"]);q!=null&&s(i,["mediaResolution"],q);const j=a(e,["speechConfig"]);j!=null&&s(i,["speechConfig"],Y_(Br(j)));const Et=a(e,["audioTimestamp"]);Et!=null&&s(i,["audioTimestamp"],Et);const jt=a(e,["thinkingConfig"]);return jt!=null&&s(i,["thinkingConfig"],O_(jt)),i}function Ld(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);if(l!=null){let u=ht(l);Array.isArray(u)&&(u=u.map(r=>Wi(r))),s(n,["contents"],u)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],J_(t,o,n)),n}function K_(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["instances[]","title"],l);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&s(e,["parameters","outputDimensionality"],o);const u=a(t,["mimeType"]);e!==void 0&&u!=null&&s(e,["instances[]","mimeType"],u);const r=a(t,["autoTruncate"]);return e!==void 0&&r!=null&&s(e,["parameters","autoTruncate"],r),n}function $_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);l!=null&&s(n,["instances[]","content"],Oh(t,l));const o=a(e,["config"]);return o!=null&&s(n,["config"],K_(o,n)),n}function X_(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&s(e,["parameters","guidanceScale"],r);const f=a(t,["seed"]);e!==void 0&&f!=null&&s(e,["parameters","seed"],f);const c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&s(e,["parameters","safetySetting"],c);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","mimeType"],S);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&s(e,["parameters","outputOptions","compressionQuality"],E);const D=a(t,["addWatermark"]);e!==void 0&&D!=null&&s(e,["parameters","addWatermark"],D);const v=a(t,["imageSize"]);e!==void 0&&v!=null&&s(e,["parameters","sampleImageSize"],v);const y=a(t,["enhancePrompt"]);return e!==void 0&&y!=null&&s(e,["parameters","enhancePrompt"],y),n}function Q_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],X_(o,n)),n}function ji(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],Xn(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Z_(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const l=a(t,["maskDilation"]);return l!=null&&s(e,["dilation"],l),e}function W_(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function j_(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function eM(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function tM(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],ji(n));const i=a(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const l=a(t,["referenceType"]);l!=null&&s(e,["referenceType"],l);const o=a(t,["maskImageConfig"]);o!=null&&s(e,["maskImageConfig"],Z_(o));const u=a(t,["controlImageConfig"]);u!=null&&s(e,["controlImageConfig"],W_(u));const r=a(t,["styleImageConfig"]);r!=null&&s(e,["styleImageConfig"],j_(r));const f=a(t,["subjectImageConfig"]);return f!=null&&s(e,["subjectImageConfig"],eM(f)),e}function nM(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&s(e,["parameters","guidanceScale"],r);const f=a(t,["seed"]);e!==void 0&&f!=null&&s(e,["parameters","seed"],f);const c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&s(e,["parameters","safetySetting"],c);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","mimeType"],S);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&s(e,["parameters","outputOptions","compressionQuality"],E);const D=a(t,["addWatermark"]);e!==void 0&&D!=null&&s(e,["parameters","addWatermark"],D);const v=a(t,["editMode"]);e!==void 0&&v!=null&&s(e,["parameters","editMode"],v);const y=a(t,["baseSteps"]);return e!==void 0&&y!=null&&s(e,["parameters","editConfig","baseSteps"],y),n}function iM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>tM(f))),s(n,["instances[0]","referenceImages"],r)}const u=a(e,["config"]);return u!=null&&s(n,["config"],nM(u,n)),n}function lM(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const o=a(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","compressionQuality"],o);const u=a(t,["enhanceInputImage"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],u);const r=a(t,["imagePreservationFactor"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],r);const f=a(t,["numberOfImages"]);e!==void 0&&f!=null&&s(e,["parameters","sampleCount"],f);const c=a(t,["mode"]);return e!==void 0&&c!=null&&s(e,["parameters","mode"],c),n}function oM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],ji(l));const o=a(e,["upscaleFactor"]);o!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],o);const u=a(e,["config"]);return u!=null&&s(n,["config"],lM(u,n)),n}function aM(t){const e={},n=a(t,["productImage"]);return n!=null&&s(e,["image"],ji(n)),e}function sM(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&s(e,["instances[0]","prompt"],i);const l=a(t,["personImage"]);e!==void 0&&l!=null&&s(e,["instances[0]","personImage","image"],ji(l));const o=a(t,["productImages"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(r=>aM(r))),s(e,["instances[0]","productImages"],u)}return n}function uM(t,e){const n={},i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["baseSteps"]);e!==void 0&&l!=null&&s(e,["parameters","editConfig","baseSteps"],l);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);const u=a(t,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&s(e,["parameters","personGeneration"],f);const c=a(t,["outputMimeType"]);e!==void 0&&c!=null&&s(e,["parameters","outputOptions","mimeType"],c);const d=a(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&s(e,["parameters","outputOptions","compressionQuality"],d);const m=a(t,["enhancePrompt"]);return e!==void 0&&m!=null&&s(e,["parameters","enhancePrompt"],m),n}function rM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["source"]);l!=null&&s(n,["config"],sM(l,n));const o=a(e,["config"]);return o!=null&&s(n,["config"],uM(o,n)),n}function cM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function fM(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const u=a(e,["filter"]);n!==void 0&&u!=null&&s(n,["_query","filter"],u);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&s(n,["_url","models_url"],$h(t,r)),i}function dM(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],fM(t,i,n)),n}function mM(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function pM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],mM(l,n)),n}function hM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function gM(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],Wi(Be(i)));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(r=>rg(r))),s(e,["tools"],u)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&s(e,["generationConfig"],o),n}function yM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);if(l!=null){let u=ht(l);Array.isArray(u)&&(u=u.map(r=>Wi(r))),s(n,["contents"],u)}const o=a(e,["config"]);return o!=null&&s(n,["config"],gM(o,n)),n}function vM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["contents"]);if(l!=null){let u=ht(l);Array.isArray(u)&&(u=u.map(r=>Wi(r))),s(n,["contents"],u)}const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function TM(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],Xn(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function CM(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const o=a(t,["fps"]);e!==void 0&&o!=null&&s(e,["parameters","fps"],o);const u=a(t,["durationSeconds"]);e!==void 0&&u!=null&&s(e,["parameters","durationSeconds"],u);const r=a(t,["seed"]);e!==void 0&&r!=null&&s(e,["parameters","seed"],r);const f=a(t,["aspectRatio"]);e!==void 0&&f!=null&&s(e,["parameters","aspectRatio"],f);const c=a(t,["resolution"]);e!==void 0&&c!=null&&s(e,["parameters","resolution"],c);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const p=a(t,["negativePrompt"]);e!==void 0&&p!=null&&s(e,["parameters","negativePrompt"],p);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const S=a(t,["generateAudio"]);e!==void 0&&S!=null&&s(e,["parameters","generateAudio"],S);const E=a(t,["lastFrame"]);e!==void 0&&E!=null&&s(e,["instances[0]","lastFrame"],ji(E));const D=a(t,["compressionQuality"]);return e!==void 0&&D!=null&&s(e,["parameters","compressionQuality"],D),n}function SM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ee(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&s(n,["instances[0]","image"],ji(o));const u=a(e,["video"]);u!=null&&s(n,["instances[0]","video"],TM(u));const r=a(e,["config"]);return r!=null&&s(n,["config"],CM(r,n)),n}function EM(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function AM(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function _M(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function MM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],EM(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],AM(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],_M(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function xM(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>MM(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function RM(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function NM(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function DM(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>NM(l))),s(e,["urlMetadata"],i)}return e}function UM(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],xM(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],RM(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const u=a(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],DM(u));const r=a(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const f=a(t,["groundingMetadata"]);f!=null&&s(e,["groundingMetadata"],f);const c=a(t,["index"]);c!=null&&s(e,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function Vd(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(c=>UM(c))),s(e,["candidates"],f)}const l=a(t,["modelVersion"]);l!=null&&s(e,["modelVersion"],l);const o=a(t,["promptFeedback"]);o!=null&&s(e,["promptFeedback"],o);const u=a(t,["responseId"]);u!=null&&s(e,["responseId"],u);const r=a(t,["usageMetadata"]);return r!=null&&s(e,["usageMetadata"],r),e}function wM(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function IM(){return{}}function bM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>wM(u))),s(e,["embeddings"],o)}return a(t,["metadata"])!=null&&s(e,["metadata"],IM()),e}function LM(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],Xn(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function cg(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function VM(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],LM(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);return l!=null&&s(e,["safetyAttributes"],cg(l)),e}function qM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>VM(u))),s(e,["generatedImages"],o)}const l=a(t,["positivePromptSafetyAttributes"]);return l!=null&&s(e,["positivePromptSafetyAttributes"],cg(l)),e}function kM(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function ku(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["version"]);o!=null&&s(e,["version"],o);const u=a(t,["_self"]);u!=null&&s(e,["tunedModelInfo"],kM(u));const r=a(t,["inputTokenLimit"]);r!=null&&s(e,["inputTokenLimit"],r);const f=a(t,["outputTokenLimit"]);f!=null&&s(e,["outputTokenLimit"],f);const c=a(t,["supportedGenerationMethods"]);return c!=null&&s(e,["supportedActions"],c),e}function PM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["_self"]);if(l!=null){let o=Xh(l);Array.isArray(o)&&(o=o.map(u=>ku(u))),s(e,["models"],o)}return e}function GM(){return{}}function HM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);i!=null&&s(e,["totalTokens"],i);const l=a(t,["cachedContentTokenCount"]);return l!=null&&s(e,["cachedContentTokenCount"],l),e}function BM(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],Xn(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function zM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],BM(n)),e}function FM(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>zM(u))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function YM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const u=a(t,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],FM(u)),e}function OM(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function JM(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function KM(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function $M(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],OM(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],JM(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],KM(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function XM(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>$M(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function QM(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function ZM(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function WM(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ZM(l))),s(e,["urlMetadata"],i)}return e}function jM(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],XM(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],QM(i));const l=a(t,["finishMessage"]);l!=null&&s(e,["finishMessage"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const u=a(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],WM(u));const r=a(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const f=a(t,["groundingMetadata"]);f!=null&&s(e,["groundingMetadata"],f);const c=a(t,["index"]);c!=null&&s(e,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function qd(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>jM(d))),s(e,["candidates"],c)}const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const u=a(t,["promptFeedback"]);u!=null&&s(e,["promptFeedback"],u);const r=a(t,["responseId"]);r!=null&&s(e,["responseId"],r);const f=a(t,["usageMetadata"]);return f!=null&&s(e,["usageMetadata"],f),e}function ex(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function tx(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&s(e,["statistics"],ex(i)),e}function nx(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function ix(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>tx(u))),s(e,["embeddings"],o)}const l=a(t,["metadata"]);return l!=null&&s(e,["metadata"],nx(l)),e}function lx(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],Xn(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function fg(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function Ja(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],lx(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);l!=null&&s(e,["safetyAttributes"],fg(l));const o=a(t,["prompt"]);return o!=null&&s(e,["enhancedPrompt"],o),e}function ox(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Ja(u))),s(e,["generatedImages"],o)}const l=a(t,["positivePromptSafetyAttributes"]);return l!=null&&s(e,["positivePromptSafetyAttributes"],fg(l)),e}function ax(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Ja(o))),s(e,["generatedImages"],l)}return e}function sx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Ja(o))),s(e,["generatedImages"],l)}return e}function ux(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Ja(l))),s(e,["generatedImages"],i)}return e}function rx(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function cx(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function fx(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);return l!=null&&s(e,["step"],l),e}function Pu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["versionId"]);o!=null&&s(e,["version"],o);const u=a(t,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>rx(p))),s(e,["endpoints"],m)}const r=a(t,["labels"]);r!=null&&s(e,["labels"],r);const f=a(t,["_self"]);f!=null&&s(e,["tunedModelInfo"],cx(f));const c=a(t,["defaultCheckpointId"]);c!=null&&s(e,["defaultCheckpointId"],c);const d=a(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>fx(p))),s(e,["checkpoints"],m)}return e}function dx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["_self"]);if(l!=null){let o=Xh(l);Array.isArray(o)&&(o=o.map(u=>Pu(u))),s(e,["models"],o)}return e}function mx(){return{}}function px(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);return i!=null&&s(e,["totalTokens"],i),e}function hx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["tokensInfo"]);return i!=null&&s(e,["tokensInfo"],i),e}function gx(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],Xn(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function yx(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],gx(n)),e}function vx(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>yx(u))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Tx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const u=a(t,["response"]);return u!=null&&s(e,["response"],vx(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx="Content-Type",Sx="X-Server-Timeout",Ex="User-Agent",Gu="x-goog-api-client",Ax="1.14.0",_x=`google-genai-sdk/${Ax}`,Mx="v1beta1",xx="v1beta",kd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Rx{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Mx,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xx,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,r]of Object.entries(e.queryParams))l.searchParams.append(u,String(r));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(n))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,o=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&Nx(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Pd(l),new wu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Pd(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Di(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let u="";for(;;){const{done:r,value:f}=yield ce(l.read());if(r){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=o.decode(f,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),g=p.status,S=p.code,E=`got status: ${g}. ${JSON.stringify(m)}`;if(S>=400&&S<600)throw new Ya({message:E,status:S})}}catch(m){if(m.name==="ApiError")throw m}u+=c;let d=u.match(kd);for(;d;){const m=d[1];try{const p=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ce(new wu(p)),u=u.slice(d[0].length),d=u.match(kd)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=_x+" "+this.clientOptions.userAgentExtra;return e[Ex]=n,e[Gu]=n,e[Cx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(Sx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,u=await o.stat(e);l.sizeBytes=String(u.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=r;const f=await this.fetchUploadUrl(l,n);return o.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},u=await this.request({path:G("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const r=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(r===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return r}}async function Pd(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new Ya({message:l,status:n}):new Error(l)}}function Nx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,u){const r=Object.assign({},o);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const c=u[f],d=r[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?r[f]=i(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),r[f]=c)}return r}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dx="mcp_used/unknown";let Ux=!1;function dg(t){for(const e of t)if(wx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ux}function mg(t){var e;const n=(e=t[Gu])!==null&&e!==void 0?e:"";t[Gu]=(n+` ${Dx}`).trimStart()}function wx(t){return t!==null&&typeof t=="object"&&t instanceof Fr}function Ix(t,e=100){return Di(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield ce(t.listTools({cursor:i}));for(const u of o.tools)yield yield ce(u),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class Fr{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Fr(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const o={},u=[];for(const d of this.mcpClients)try{for(var r=!0,f=(n=void 0,Dl(Ix(d))),c;c=await f.next(),e=c.done,!e;r=!0){l=c.value,r=!1;const m=l;u.push(m);const p=m.name;if(o[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);o[p]=d}}catch(m){n={error:m}}finally{try{!r&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),hC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const u=await l.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bx(t,e,n){const i=new sC;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const o=CA(l);Object.assign(i,o),e(i)}class Lx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),u=kx(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),f=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${r}`;let c=()=>{};const d=new Promise(T=>{c=T}),m=e.callbacks,p=function(){c({})},g=this.apiClient,S={onopen:p,onmessage:T=>{bx(g,m.onmessage,T)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},E=this.webSocketFactory.create(f,qx(u),S);E.connect(),await d;const D=ee(this.apiClient,e.model),v=ag({model:D}),y=qu({setup:v});return E.send(JSON.stringify(y)),new Vx(E,this.apiClient)}}class Vx{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=yE(e),i=sg(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=vE(e),i=qu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=qu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ti.PLAY)}pause(){this.sendPlaybackControl(Ti.PAUSE)}stop(){this.sendPlaybackControl(Ti.STOP)}resetContext(){this.sendPlaybackControl(Ti.RESET_CONTEXT)}close(){this.conn.close()}}function qx(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function kx(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Px="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Gx(t,e,n){const i=new aC;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const o=JSON.parse(l);if(t.isVertexAI()){const u=LA(o);Object.assign(i,u)}else{const u=fA(o);Object.assign(i,u)}e(i)}class Hx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Lx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,o,u,r;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&dg(e.config.tools)&&mg(m);const p=Yx(m);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const I=this.apiClient.getApiKey();let L="BidiGenerateContent",q="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",q="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${L}?${q}=${I}`}let g=()=>{};const S=new Promise(I=>{g=I}),E=e.callbacks,D=function(){var I;(I=E==null?void 0:E.onopen)===null||I===void 0||I.call(E),g({})},v=this.apiClient,y={onopen:D,onmessage:I=>{Gx(v,E.onmessage,I)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(I){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(I){}},T=this.webSocketFactory.create(d,Fx(p),y);T.connect(),await S;let C=ee(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const I=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${I}/locations/${L}/`+C}let _={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Aa.AUDIO]}:e.config.responseModalities=[Aa.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=(r=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&r!==void 0?r:[],R=[];for(const I of x)if(this.isCallableTool(I)){const L=I;R.push(await L.tool())}else R.push(I);R.length>0&&(e.config.tools=R);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=JE(this.apiClient,N):_=mE(this.apiClient,N),delete _.config,T.send(JSON.stringify(_)),new zx(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Bx={turnComplete:!0};class zx{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ht(n.turns),e.isVertexAI()?i=i.map(l=>Wi(l)):i=i.map(l=>Oa(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Px)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Bx),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:XE(e)}:n={realtimeInput:gE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Fx(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Yx(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gd=10;function Hd(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ui(u)){l=!0;break}if(!l)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ui(t){return"callTool"in t&&typeof t.callTool=="function"}function Ox(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>Ui(l)))!==null&&i!==void 0?i:!1}function Jx(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!Ui(l)))!==null&&i!==void 0?i:!1}function Bd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends $n{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,o,u,r;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Ox(n)||Hd(n.config))return await this.generateContentInternal(f);if(Jx(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const m=ht(f.contents),p=(o=(l=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Gd;let g=0;for(;g<p&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const S=c.candidates[0].content,E=[];for(const D of(r=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&r!==void 0?r:[])if(Ui(D)){const y=await D.callTool(c.functionCalls);E.push(...y)}g++,d={role:"user",parts:E},f.contents=ht(f.contents),f.contents.push(S),f.contents.push(d),Bd(f.config)&&(m.push(S),m.push(d))}return Bd(f.config)&&(c.automaticFunctionCallingHistory=m),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Hd(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let o;const u=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((l=f==null?void 0:f.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:u.push(f);let r;return o?r={generatedImages:u,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new ao(Fn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,l;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const u=await Promise.all(o.map(async f=>Ui(f)?await f.tool():f)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(r.config.tools=u,e.config&&e.config.tools&&dg(e.config.tools)){const f=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),mg(c),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return r}async initAfcToolsMap(e){var n,i,l;const o=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ui(u)){const r=u,f=await r.tool();for(const c of(l=f.functionDeclarations)!==null&&l!==void 0?l:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,r)}}return o}async processAfcStream(e){var n,i,l;const o=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Gd;let u=!1,r=0;const f=await this.initAfcToolsMap(e);return function(c,d,m){var p,g;return Di(this,arguments,function*(){for(var S,E,D,v;r<o;){u&&(r++,u=!1);const _=yield ce(c.processParamsMaybeAddMcpUsage(m)),x=yield ce(c.generateContentStreamInternal(_)),R=[],N=[];try{for(var y=!0,T=(E=void 0,Dl(x)),C;C=yield ce(T.next()),S=C.done,!S;y=!0){v=C.value,y=!1;const I=v;if(yield yield ce(I),I.candidates&&(!((p=I.candidates[0])===null||p===void 0)&&p.content)){N.push(I.candidates[0].content);for(const L of(g=I.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(r<o&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(L.functionCall.name)){const q=yield ce(d.get(L.functionCall.name).callTool([L.functionCall]));R.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(I){E={error:I}}finally{try{!y&&!S&&(D=T.return)&&(yield ce(D.call(T)))}finally{if(E)throw E.error}}if(R.length>0){u=!0;const I=new rl;I.candidates=[{content:{role:"user",parts:R}}],yield yield ce(I);const L=[];L.push(...N),L.push({role:"user",parts:R});const q=ht(m.contents).concat(L);m.contents=q}else break}})}(this,f,e)}async generateContentInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=Ld(this.apiClient,e);return r=G("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=qd(d),p=new rl;return Object.assign(p,m),p})}else{const c=bd(this.apiClient,e);return r=G("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=Vd(d),p=new rl;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=Ld(this.apiClient,e);return r=G("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.requestStream({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(m){return Di(this,arguments,function*(){var p,g,S,E;try{for(var D=!0,v=Dl(m),y;y=yield ce(v.next()),p=y.done,!p;D=!0){E=y.value,D=!1;const T=E,C=qd(yield ce(T.json()));C.sdkHttpResponse={headers:T.headers};const _=new rl;Object.assign(_,C),yield yield ce(_)}}catch(T){g={error:T}}finally{try{!D&&!p&&(S=v.return)&&(yield ce(S.call(v)))}finally{if(g)throw g.error}}})})}else{const c=bd(this.apiClient,e);return r=G("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.requestStream({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(m){return Di(this,arguments,function*(){var p,g,S,E;try{for(var D=!0,v=Dl(m),y;y=yield ce(v.next()),p=y.done,!p;D=!0){E=y.value,D=!1;const T=E,C=Vd(yield ce(T.json()));C.sdkHttpResponse={headers:T.headers};const _=new rl;Object.assign(_,C),yield yield ce(_)}}catch(T){g={error:T}}finally{try{!D&&!p&&(S=v.return)&&(yield ce(S.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=$_(this.apiClient,e);return r=G("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=ix(d),p=new dd;return Object.assign(p,m),p})}else{const c=a_(this.apiClient,e);return r=G("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=bM(d),p=new dd;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=Q_(this.apiClient,e);return r=G("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=ox(d),p=new md;return Object.assign(p,m),p})}else{const c=u_(this.apiClient,e);return r=G("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=qM(d),p=new md;return Object.assign(p,m),p})}}async editImageInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI()){const r=iM(this.apiClient,e);return o=G("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),l.then(f=>{const c=ax(f),d=new jT;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI()){const r=oM(this.apiClient,e);return o=G("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),l.then(f=>{const c=sx(f),d=new eC;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI()){const r=rM(this.apiClient,e);return o=G("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const c=ux(f),d=new tC;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=cM(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Pu(d))}else{const c=r_(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>ku(d))}}async listInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=dM(this.apiClient,e);return r=G("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=dx(d),p=new pd;return Object.assign(p,m),p})}else{const c=f_(this.apiClient,e);return r=G("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=PM(d),p=new pd;return Object.assign(p,m),p})}}async update(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=pM(this.apiClient,e);return r=G("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Pu(d))}else{const c=m_(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>ku(d))}}async delete(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=hM(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(()=>{const d=mx(),m=new hd;return Object.assign(m,d),m})}else{const c=p_(this.apiClient,e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(()=>{const d=GM(),m=new hd;return Object.assign(m,d),m})}}async countTokens(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=yM(this.apiClient,e);return r=G("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=px(d),p=new gd;return Object.assign(p,m),p})}else{const c=g_(this.apiClient,e);return r=G("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=HM(d),p=new gd;return Object.assign(p,m),p})}}async computeTokens(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI()){const r=vM(this.apiClient,e);return o=G("{model}:computeTokens",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),l.then(f=>{const c=hx(f),d=new nC;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=SM(this.apiClient,e);return r=G("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=Tx(d),p=new _a;return Object.assign(p,m),p})}else{const c=T_(this.apiClient,e);return r=G("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>{const m=YM(d),p=new _a;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Xx(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Qx(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const l=a(t,["config"]);return l!=null&&s(e,["config"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends $n{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:u,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:u,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=Xx(e);return r=G("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u}else{const c=$x(e);return r=G("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI()){const r=Qx(e);return o=G("{resourceName}:fetchPredictOperation",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function pg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],Wx(n)),e}function jx(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],pg(i)),e}function eR(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>jx(l))),s(e,["speakerVoiceConfigs"],i)}return e}function tR(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],pg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],eR(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function nR(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function iR(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function lR(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function oR(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],nR(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],iR(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],lR(o));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const f=a(t,["executableCode"]);f!=null&&s(e,["executableCode"],f);const c=a(t,["functionCall"]);c!=null&&s(e,["functionCall"],c);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function aR(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>oR(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function sR(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const f=a(t,["responseJsonSchema"]);return f!=null&&s(e,["responseJsonSchema"],f),e}function uR(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function rR(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],uR(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cR(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function fR(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],cR(n)),e}function dR(){return{}}function mR(t){const e={},n=a(t,["environment"]);return n!=null&&s(e,["environment"],n),e}function pR(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>sR(c))),s(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],rR(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],fR(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],dR());const u=a(t,["computerUse"]);u!=null&&s(e,["computerUse"],mR(u));const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function hR(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zd(){return{}}function gR(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const u=a(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function yR(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],gR(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function vR(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function TR(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],vR(i)),e}function CR(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function SR(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const u=a(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=a(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const f=a(t,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);const c=a(t,["mediaResolution"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","mediaResolution"],c);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],tR(zr(m)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],aR(Be(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let _=Qi(S);Array.isArray(_)&&(_=_.map(x=>pR(Xi(x)))),s(e,["setup","tools"],_)}const E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&s(e,["setup","sessionResumption"],hR(E));const D=a(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&s(e,["setup","inputAudioTranscription"],zd());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],zd());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],yR(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],TR(T));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],CR(C)),n}function ER(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ee(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],SR(l,n)),n}function AR(t,e,n){const i={},l=a(e,["expireTime"]);n!==void 0&&l!=null&&s(n,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&s(n,["newSessionExpireTime"],o);const u=a(e,["uses"]);n!==void 0&&u!=null&&s(n,["uses"],u);const r=a(e,["liveConnectConstraints"]);n!==void 0&&r!=null&&s(n,["bidiGenerateContentSetup"],ER(t,r));const f=a(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&s(n,["fieldMask"],f),i}function _R(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],AR(t,i,n)),n}function MR(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xR(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${n}.${o}`);e.push(...l)}else e.push(n)}return e.join(",")}function RR(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const o=xR(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];l.length>0&&(r=l.map(c=>u.includes(c)?`generationConfig.${c}`:c));const f=[];o&&f.push(o),r.length>0&&f.push(...r),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class NR extends $n{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=_R(this.apiClient,e);o=G("auth_tokens",r._url),u=r._query,delete r.config,delete r._url,delete r._query;const f=RR(r,e.config);return l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>MR(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DR(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function UR(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function wR(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],UR(n,e)),e}function IR(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&s(e,["output"],i),e}function bR(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>IR(l))),s(e,["examples","examples"],i)}return e}function LR(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);const o=a(t,["learningRateMultiplier"]);if(o!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(t,["batchSize"]);e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","batchSize"],u);const r=a(t,["learningRate"]);return e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","learningRate"],r),n}function VR(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["preTunedModel"]);i!=null&&s(e,["preTunedModel"],i);const l=a(t,["trainingDataset"]);l!=null&&s(e,["tuningTask","trainingData"],bR(l));const o=a(t,["config"]);return o!=null&&s(e,["config"],LR(o,e)),e}function qR(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function kR(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function PR(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],kR(n,e)),e}function GR(t,e){const n={},i=a(t,["gcsUri"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i);const l=a(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],l),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function HR(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&s(n,["validationDatasetUri"],i);const l=a(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],l),n}function BR(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],HR(i,n));const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const u=a(t,["epochCount"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const r=a(t,["learningRateMultiplier"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],r);const f=a(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=a(t,["preTunedModelCheckpointId"]);c!=null&&s(n,["preTunedModel","checkpointId"],c);const d=a(t,["adapterSize"]);if(e!==void 0&&d!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function zR(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["preTunedModel"]);i!=null&&s(e,["preTunedModel"],i);const l=a(t,["trainingDataset"]);l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],GR(l,e));const o=a(t,["config"]);return o!=null&&s(e,["config"],BR(o,e)),e}function FR(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const i=a(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function hg(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],Jh(l));const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const u=a(t,["tuningTask","startTime"]);u!=null&&s(e,["startTime"],u);const r=a(t,["tuningTask","completeTime"]);r!=null&&s(e,["endTime"],r);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const c=a(t,["description"]);c!=null&&s(e,["description"],c);const d=a(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=a(t,["_self"]);m!=null&&s(e,["tunedModel"],FR(m));const p=a(t,["customBaseModel"]);p!=null&&s(e,["customBaseModel"],p);const g=a(t,["experiment"]);g!=null&&s(e,["experiment"],g);const S=a(t,["labels"]);S!=null&&s(e,["labels"],S);const E=a(t,["outputUri"]);E!=null&&s(e,["outputUri"],E);const D=a(t,["pipelineJob"]);D!=null&&s(e,["pipelineJob"],D);const v=a(t,["serviceAccount"]);v!=null&&s(e,["serviceAccount"],v);const y=a(t,["tunedModelDisplayName"]);return y!=null&&s(e,["tunedModelDisplayName"],y),e}function YR(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>hg(u))),s(e,["tuningJobs"],o)}return e}function OR(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["metadata"]);l!=null&&s(e,["metadata"],l);const o=a(t,["done"]);o!=null&&s(e,["done"],o);const u=a(t,["error"]);return u!=null&&s(e,["error"],u),e}function JR(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);l!=null&&s(e,["step"],l);const o=a(t,["endpoint"]);return o!=null&&s(e,["endpoint"],o),e}function KR(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const l=a(t,["checkpoints"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>JR(u))),s(e,["checkpoints"],o)}return e}function Hu(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],Jh(l));const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const u=a(t,["startTime"]);u!=null&&s(e,["startTime"],u);const r=a(t,["endTime"]);r!=null&&s(e,["endTime"],r);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const c=a(t,["error"]);c!=null&&s(e,["error"],c);const d=a(t,["description"]);d!=null&&s(e,["description"],d);const m=a(t,["baseModel"]);m!=null&&s(e,["baseModel"],m);const p=a(t,["tunedModel"]);p!=null&&s(e,["tunedModel"],KR(p));const g=a(t,["preTunedModel"]);g!=null&&s(e,["preTunedModel"],g);const S=a(t,["supervisedTuningSpec"]);S!=null&&s(e,["supervisedTuningSpec"],S);const E=a(t,["tuningDataStats"]);E!=null&&s(e,["tuningDataStats"],E);const D=a(t,["encryptionSpec"]);D!=null&&s(e,["encryptionSpec"],D);const v=a(t,["partnerModelTuningSpec"]);v!=null&&s(e,["partnerModelTuningSpec"],v);const y=a(t,["customBaseModel"]);y!=null&&s(e,["customBaseModel"],y);const T=a(t,["experiment"]);T!=null&&s(e,["experiment"],T);const C=a(t,["labels"]);C!=null&&s(e,["labels"],C);const _=a(t,["outputUri"]);_!=null&&s(e,["outputUri"],_);const x=a(t,["pipelineJob"]);x!=null&&s(e,["pipelineJob"],x);const R=a(t,["serviceAccount"]);R!=null&&s(e,["serviceAccount"],R);const N=a(t,["tunedModelDisplayName"]);return N!=null&&s(e,["tunedModelDisplayName"],N),e}function $R(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&s(e,["nextPageToken"],i);const l=a(t,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>Hu(u))),s(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XR extends $n{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ao(Fn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel},l=Object.assign(Object.assign({},n),{preTunedModel:i});return l.baseModel=void 0,await this.tuneInternal(l)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),l=await this.tuneMldevInternal(i);let o="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?o=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(o=l.name.split("/operations/")[0]),{name:o,state:Uu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=qR(e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>Hu(d))}else{const c=DR(e);return r=G("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>hg(d))}}async listInternal(e){var n,i,l,o;let u,r="",f={};if(this.apiClient.isVertexAI()){const c=PR(e);return r=G("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=$R(d),p=new vd;return Object.assign(p,m),p})}else{const c=wR(e);return r=G("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,u=this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=YR(d),p=new vd;return Object.assign(p,m),p})}}async tuneInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI()){const r=zR(e);return o=G("tuningJobs",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),l.then(f=>Hu(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=VR(e);return o=G("tunedModels",r._url),u=r._query,delete r.config,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),l.then(f=>OR(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QR{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZR=1024*1024*8,WR=3,jR=1e3,eN=2,ws="x-goog-upload-status";async function tN(t,e,n){var i,l,o;let u=0,r=0,f=new wu(new Response),c="upload";for(u=t.size;r<u;){const m=Math.min(ZR,u-r),p=t.slice(r,r+m);r+m>=u&&(c+=", finalize");let g=0,S=jR;for(;g<WR&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(r),"Content-Length":String(m)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[ws]));)g++,await iN(S),S=S*eN;if(r+=m,((l=f==null?void 0:f.headers)===null||l===void 0?void 0:l[ws])!=="active")break;if(u<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[ws])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function nN(t){return{size:t.size,type:t.type}}function iN(t){return new Promise(e=>setTimeout(e,t))}class lN{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tN(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN{create(e,n,i){return new aN(e,n,i)}}class aN{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fd="x-goog-api-key";class sN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Fd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Fd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uN="gl-node/";class rN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=WT(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new sN(this.apiKey);this.apiClient=new Rx({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:uN+"web",uploader:new lN,downloader:new QR}),this.models=new Kx(this.apiClient),this.live=new Hx(this.apiClient,l,new oN),this.batches=new AS(this.apiClient),this.chats=new D0(this.models,this.apiClient),this.caches=new x0(this.apiClient),this.files=new z0(this.apiClient),this.operations=new Zx(this.apiClient),this.authTokens=new NR(this.apiClient),this.tunings=new XR(this.apiClient)}}const cN=({onLogin:t,error:e})=>{const[n,i]=k.useState(""),[l,o]=k.useState(""),u=r=>{r.preventDefault(),t(n,l)};return h.jsx("div",{className:"login-page",children:h.jsxs("div",{className:"login-container",children:[h.jsxs("div",{className:"login-content",children:[h.jsx("h1",{children:"Study Master"}),h.jsx("p",{children:"Your AI-powered study partner"})]}),h.jsxs("form",{onSubmit:u,className:"login-form",children:[h.jsxs("div",{className:"login-form-group",children:[h.jsx("input",{id:"username",type:"text",className:"login-input",value:n,onChange:r=>i(r.target.value),placeholder:"Username",autoComplete:"username",required:!0}),h.jsx("label",{htmlFor:"username",children:"Username"})]}),h.jsxs("div",{className:"login-form-group",children:[h.jsx("input",{id:"password",type:"password",className:"login-input",value:l,onChange:r=>o(r.target.value),placeholder:"Password",autoComplete:"current-password",required:!0}),h.jsx("label",{htmlFor:"password",children:"Password"})]}),e&&h.jsx("p",{className:"login-error",children:e}),h.jsx("button",{type:"submit",className:"login-button liquid-button",children:"Login"})]})]})})},Is={},bs=`You are 'Study Master', an expert AI tutor. 
You will be provided with text and often images from study documents. Your knowledge base for the session is an combination of all the documents.
When answering, use the provided materials as your primary source. Use Markdown for clear formatting (headings, lists, bold text, and tables). Do not just give the answer; explain the reasoning and the underlying concepts as a great teacher would.
If you are using web search, you MUST cite your sources. List the source links clearly below your answer. Your answer must be based on the information from those sources.
When asked for structured data like JSON, provide only the JSON object.
Be a supportive and encouraging study partner.`,Jo=t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>e(i.result),i.onerror=n,i.readAsDataURL(t)}),fN=({subject:t,isOpen:e,onClose:n,onSave:i,aiInstance:l})=>{const[o,u]=k.useState(t.documents),[r,f]=k.useState(!1),[c,d]=k.useState(""),m=k.useRef(null);if(k.useEffect(()=>{e&&u(t.documents)},[e,t.documents]),!e)return null;const p=async()=>{if(JSON.stringify(o)===JSON.stringify(t.documents)){n();return}await i(o),n()},g=y=>{u(T=>T.filter(C=>C.name!==y))},S=()=>{if(!c.trim())return;let y="Pasted Content",T=1;for(;o.some(_=>_.name===y);)y=`Pasted Content ${++T}`;const C={name:y,content:c.trim(),images:[]};u(_=>[..._,C]),d("")},E=async y=>{const C={inlineData:{data:(await Jo(y)).split(",")[1],mimeType:"application/pdf"}},_={text:"Analyze the provided PDF and extract its contents into the required JSON format. This includes all text and all meaningful images/diagrams."};try{const x=await l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[_,C]},config:{responseMimeType:"application/json",responseSchema:{type:Te.OBJECT,properties:{extractedText:{type:Te.STRING,description:"All text extracted from the PDF, preserving structure and formatting like headings and paragraphs."},extractedImages:{type:Te.ARRAY,description:"An array of all diagrams, figures, and images found in the PDF. IMPORTANT: Only include meaningful figures, ignore logos or decorative elements.",items:{type:Te.OBJECT,properties:{name:{type:Te.STRING,description:'A descriptive name for the image, like "Figure 1.1". If no name is available, create one.'},caption:{type:Te.STRING,description:"The original caption of the image from the document, if available. Otherwise, an empty string."},imageData:{type:Te.STRING,description:"The image data encoded as a Base64 string, without the data URI prefix."}},required:["name","caption","imageData"]}}},required:["extractedText","extractedImages"]}}}),R=JSON.parse(x.text);if(!R.extractedText||!Array.isArray(R.extractedImages))throw new Error("Parsed JSON has incorrect structure.");const N=(R.extractedImages||[]).map(I=>({name:I.name||"Untitled Figure",caption:I.caption||"",data:`data:image/png;base64,${I.imageData}`})).filter(I=>I.data.length>30);return{text:R.extractedText,images:N}}catch(x){return console.error("Failed to parse PDF with image extraction, falling back to text-only extraction.",x),{text:(await l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:"Extract all text from the provided PDF document."},C]}})).text,images:[]}}},D=async y=>{const C={inlineData:{data:(await Jo(y)).split(",")[1],mimeType:y.type}},_={text:"Extract all text from the document in this image."};return(await l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[C,_]}})).text},v=async y=>{if(!y.target.files||y.target.files.length===0)return;const T=Array.from(y.target.files);y.target.value="",f(!0);for(const C of T)try{if(o.some(R=>R.name===C.name)){alert(`A document named "${C.name}" already exists. Please rename the file and try again.`);continue}let _="",x=[];if(C.type.startsWith("image/")){_=await D(C);const R=await Jo(C);x=[{name:C.name,data:R,caption:"Uploaded image"}]}else if(C.type==="application/pdf"){const{text:R,images:N}=await E(C);_=R,x=N}else if(C.type.startsWith("text/")||C.name.endsWith(".md"))_=await C.text();else{alert(`Unsupported file type: ${C.type||"unknown"}.`);continue}if(_.trim()||x.length>0){const R={name:C.name,content:_,images:x};u(N=>[...N,R])}else alert(`Could not extract any content from "${C.name}".`)}catch(_){console.error("Error processing file:",_),alert(`Failed to process the file: ${C.name}.`)}f(!1)};return h.jsx("div",{className:"settings-overlay",onClick:n,children:h.jsxs("div",{className:"document-management-modal",onClick:y=>y.stopPropagation(),children:[h.jsxs("header",{className:"modal-header",children:[h.jsx("h2",{children:"Manage Study Materials"}),h.jsx("button",{className:"close-modal-btn",onClick:n,children:"×"})]}),h.jsxs("div",{className:"modal-content",children:[r&&h.jsxs("div",{className:"document-processing-overlay",children:[" ",h.jsx("div",{className:"loading-spinner"})," ",h.jsx("p",{children:"Analyzing documents..."})," "]}),h.jsxs("div",{className:"document-list-container",children:[h.jsxs("h3",{children:["Loaded Documents (",o.length,")"]}),h.jsxs("ul",{className:"document-list",children:[o.map(y=>h.jsxs("li",{className:"document-item",title:y.name,children:[" ",h.jsx("span",{className:"doc-icon",children:"📄"})," ",h.jsx("span",{className:"doc-name",children:y.name})," ",h.jsxs("span",{className:"doc-size",children:[(y.content.length/1024).toFixed(1)," KB"]})," ",h.jsx("button",{className:"doc-remove-btn",onClick:()=>g(y.name),title:`Remove ${y.name}`,children:"×"})," "]},y.name)),o.length===0&&h.jsx("p",{className:"no-docs-message",children:"No documents added yet."})]})]}),h.jsxs("div",{className:"document-add-container",children:[h.jsxs("div",{className:"document-upload-controls",children:[h.jsxs("button",{className:"upload-btn liquid-button",onClick:()=>{var y;return(y=m.current)==null?void 0:y.click()},children:[" ",h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})," Upload Files "]}),h.jsx("p",{className:"upload-hint",children:"Upload images, PDFs, or text files."}),h.jsx("input",{type:"file",ref:m,onChange:v,style:{display:"none"},accept:".txt,.md,text/plain,image/jpeg,image/png,image/webp,.pdf,application/pdf",multiple:!0})]}),h.jsxs("div",{className:"document-paste-controls",children:[h.jsx("textarea",{className:"document-paste-area",placeholder:"Or paste your notes here...",value:c,onChange:y=>d(y.target.value)}),h.jsx("button",{className:"paste-add-btn liquid-button",onClick:S,disabled:!c.trim(),children:"Add Pasted Text"})]})]})]}),h.jsxs("footer",{className:"modal-footer",children:[h.jsx("button",{className:"btn-cancel",onClick:n,children:"Cancel"}),h.jsx("button",{className:"save-doc-btn liquid-button",onClick:p,disabled:r,children:r?"Processing...":"Save & Update Session"})]})]})})},dN=({term:t,definition:e})=>{const[n,i]=k.useState(!1);return h.jsx("div",{className:"flashcard",onClick:()=>i(!n),children:h.jsxs("div",{className:`flashcard-inner ${n?"is-flipped":""}`,children:[h.jsx("div",{className:"flashcard-front",children:t}),h.jsx("div",{className:"flashcard-back",children:e})]})})},mN=({node:t,isCollapsed:e,onToggle:n})=>{const i=t.children&&t.children.length>0;return h.jsxs("div",{className:"interactive-mind-map-node",style:{transform:`translate(${t.x}px, ${t.y}px)`},children:[i&&h.jsx("button",{className:"node-toggle-btn",onClick:()=>n(t.id),children:e?"+":"-"}),h.jsx("div",{className:"node-concept-text",children:t.concept})]})},pN=({node:t})=>{const[e,n]=k.useState({scale:1,x:50,y:50}),[i,l]=k.useState(!1),[o,u]=k.useState({x:0,y:0}),[r,f]=k.useState(new Set),c=60,d=200,m=280,p=20,{nodes:g,connectors:S,width:E,height:D}=k.useMemo(()=>{const N=[],I=[];let L=0;function q(Se,b,B=null,H=0){const re=r.has(Se.id);L=Math.max(L,b);let de=H,Ze=0;!re&&Se.children&&Se.children.forEach(Le=>{const{height:We}=q(Le,b+1,Se.id,de);de+=We,Ze+=We});const vt=c+(Ze>0?Ze-p:0),bt=Ze>0?H+(Ze-c)/2:H,ze=b*m;if(N.push({...Se,x:ze,y:bt,parentId:B}),B){const Le=N.find(We=>We.id===B);Le&&I.push({from:{x:Le.x+d,y:Le.y+c/2},to:{x:ze,y:bt+c/2}})}return{y:bt,height:vt+p}}const{height:j}=q(t,0),Et=L*m+d+50;return{nodes:N,connectors:I,width:Et,height:j}},[t,r]),v=N=>{f(I=>{const L=new Set(I);return L.has(N)?L.delete(N):L.add(N),L})},y=N=>{N.preventDefault();const I=1.1,L=N.deltaY<0?e.scale*I:e.scale/I;n(q=>({...q,scale:Math.max(.2,Math.min(3,L))}))},T=N=>{N.preventDefault(),l(!0),u({x:N.clientX-e.x,y:N.clientY-e.y})},C=N=>{i&&(N.preventDefault(),n(I=>({...I,x:N.clientX-o.x,y:N.clientY-o.y})))},_=()=>l(!1),x=N=>n(I=>({...I,scale:Math.max(.2,Math.min(3,I.scale*N))})),R=()=>n({scale:1,x:50,y:50});return h.jsxs("div",{className:`mind-map-viewer ${i?"panning":""}`,onWheel:y,onMouseDown:T,onMouseMove:C,onMouseUp:_,onMouseLeave:_,children:[h.jsxs("div",{className:"mind-map-pannable",style:{transform:`translate(${e.x}px, ${e.y}px) scale(${e.scale})`,width:`${E}px`,height:`${D}px`},children:[h.jsx("svg",{className:"mind-map-svg-layer",width:"100%",height:"100%",children:S.map((N,I)=>{const L=`M ${N.from.x} ${N.from.y} C ${N.from.x+m/2} ${N.from.y}, ${N.to.x-m/2} ${N.to.y}, ${N.to.x} ${N.to.y}`;return h.jsx("path",{className:"mind-map-connector",d:L},I)})}),g.map(N=>h.jsx(mN,{node:N,isCollapsed:r.has(N.id),onToggle:v},N.id))]}),h.jsxs("div",{className:"mind-map-controls",children:[h.jsx("button",{onClick:()=>x(1.2),title:"Zoom In",children:"+"}),h.jsx("button",{onClick:()=>x(1/1.2),title:"Zoom Out",children:"-"}),h.jsx("button",{onClick:R,title:"Reset View",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M3 2v6h6"}),h.jsx("path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8"}),h.jsx("path",{d:"M21 22v-6h-6"}),h.jsx("path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7"})]})})]})]})},hN=({isOpen:t,event:e,subjects:n,onClose:i,onSave:l,onDelete:o})=>{const[u,r]=k.useState(""),[f,c]=k.useState(""),[d,m]=k.useState(""),[p,g]=k.useState(""),[S,E]=k.useState("");if(k.useEffect(()=>{var y;t&&e?(r(e.title||""),c(e.date||new Date().toISOString().split("T")[0]),m(e.time||""),g(e.description||""),E(((y=e.subjectId)==null?void 0:y.toString())||"")):(r(""),c(new Date().toISOString().split("T")[0]),m(""),g(""),E(""))},[t,e]),!t)return null;const D=y=>{y.preventDefault(),!(!u.trim()||!f)&&l({id:e==null?void 0:e.id,title:u.trim(),date:f,time:d,description:p,subjectId:S?parseInt(S,10):null})},v=()=>{e!=null&&e.id&&window.confirm("Are you sure you want to delete this event?")&&o(e.id)};return h.jsx("div",{className:"calendar-overlay",onClick:i,children:h.jsxs("div",{className:"event-editor-modal",onClick:y=>y.stopPropagation(),children:[h.jsxs("header",{className:"event-editor-header",children:[h.jsx("h2",{children:e!=null&&e.id?"Edit Event":"Add New Event"}),h.jsx("button",{className:"close-modal-btn",onClick:i,children:"×"})]}),h.jsxs("form",{onSubmit:D,className:"event-editor-form",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"event-title",children:"Title"}),h.jsx("input",{id:"event-title",type:"text",value:u,onChange:y=>r(y.target.value),placeholder:"e.g., Midterm Exam",required:!0})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"event-date",children:"Date"}),h.jsx("input",{id:"event-date",type:"date",value:f,onChange:y=>c(y.target.value),required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"event-time",children:"Time (Optional)"}),h.jsx("input",{id:"event-time",type:"time",value:d,onChange:y=>m(y.target.value)})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"event-subject",children:"Subject (Optional)"}),h.jsxs("select",{id:"event-subject",value:S,onChange:y=>E(y.target.value),children:[h.jsx("option",{value:"",children:"General"}),n.map(y=>h.jsx("option",{value:y.id,children:y.name},y.id))]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"event-description",children:"Description (Optional)"}),h.jsx("textarea",{id:"event-description",value:p,onChange:y=>g(y.target.value),placeholder:"e.g., Chapters 4-7"})]}),h.jsxs("footer",{className:"event-editor-footer",children:[(e==null?void 0:e.id)&&h.jsx("button",{type:"button",className:"btn-danger",onClick:v,children:"Delete Event"}),h.jsx("button",{type:"submit",className:"btn-save",children:"Save Event"})]})]})]})})},gN=({events:t,subjects:e,onClose:n,onAddOrEditEvent:i,onDeleteEvent:l})=>{const[o,u]=k.useState(new Date),r=new Date(o.getFullYear(),o.getMonth(),1),f=new Date(o.getFullYear(),o.getMonth()+1,0),c=r.getDay(),d=f.getDate(),m=Array.from({length:c},(S,E)=>null).concat(Array.from({length:d},(S,E)=>E+1)),p=S=>{var E;return S===null?"General":((E=e.find(D=>D.id===S))==null?void 0:E.name)||"Unknown Subject"},g=new Date;return g.setHours(0,0,0,0),h.jsx("div",{className:"calendar-overlay",onClick:n,children:h.jsxs("div",{className:"calendar-modal",onClick:S=>S.stopPropagation(),children:[h.jsxs("header",{className:"calendar-header",children:[h.jsxs("h2",{children:[o.toLocaleString("default",{month:"long"})," ",o.getFullYear()]}),h.jsxs("div",{className:"calendar-nav",children:[h.jsx("button",{onClick:()=>u(new Date(o.getFullYear(),o.getMonth()-1,1)),children:"<"}),h.jsx("button",{onClick:()=>u(new Date),children:"Today"}),h.jsx("button",{onClick:()=>u(new Date(o.getFullYear(),o.getMonth()+1,1)),children:">"}),h.jsx("button",{className:"add-event-main-btn liquid-button",onClick:()=>i(null),children:"+ Add Event"})]})]}),h.jsxs("div",{className:"calendar-grid",children:["Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",").map(S=>h.jsx("div",{className:"day-name",children:S},S)),m.map((S,E)=>{const D=S?`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`:"",v=S?t.filter(T=>T.date===D).sort((T,C)=>(T.time||"23:59").localeCompare(C.time||"23:59")):[],y=S&&g.getFullYear()===o.getFullYear()&&g.getMonth()===o.getMonth()&&g.getDate()===S;return h.jsxs("div",{className:`day-cell ${S?"":"empty"} ${y?"today":""}`,children:[S&&h.jsx("div",{className:"day-number",children:S}),h.jsx("div",{className:"events-in-day",children:v.map(T=>h.jsxs("div",{className:"event-marker",title:`${T.title} (${p(T.subjectId)})`,onClick:()=>i(T),children:[h.jsx("span",{className:"event-time",children:T.time}),h.jsx("span",{className:"event-title",children:T.title})]},T.id))})]},E)})]}),h.jsx("button",{className:"close-modal-btn",onClick:n,children:"Close"})]})})},yN=({isOpen:t,onClose:e,onBackup:n,onRestore:i,onClearData:l,fontSize:o,onSetFontSize:u,theme:r,onSetTheme:f,currentUser:c,users:d,onUserCreate:m,onUserDelete:p})=>{const[g,S]=k.useState("settings"),E=k.useRef(null),[D,v]=k.useState(""),[y,T]=k.useState("");if(k.useEffect(()=>{t||S("settings")},[t]),!t)return null;const C=[{id:"liquid-crystal",name:"Liquid Crystal"},{id:"deep-blue",name:"Deep Blue"},{id:"neon-green-blue",name:"Neon Green & Blue"},{id:"neon-pink-purple",name:"Neon Pink & Purple"},{id:"neon-pink-orange",name:"Neon Pink & Orange"}],_=x=>{x.preventDefault(),m(D,y),v(""),T("")};return h.jsx("div",{className:"settings-overlay",onClick:e,children:h.jsxs("div",{className:"settings-modal",onClick:x=>x.stopPropagation(),children:[h.jsxs("header",{className:"settings-header",children:[h.jsx("h2",{children:"Options"}),h.jsx("button",{className:"close-modal-btn",onClick:e,children:"×"})]}),h.jsxs("div",{className:"settings-tabs",children:[h.jsx("button",{className:`settings-tab-btn ${g==="settings"?"active":""}`,onClick:()=>S("settings"),children:"Settings"}),h.jsx("button",{className:`settings-tab-btn ${g==="backup"?"active":""}`,onClick:()=>S("backup"),children:"Backup & Restore"}),(c==null?void 0:c.role)==="admin"&&h.jsx("button",{className:`settings-tab-btn ${g==="users"?"active":""}`,onClick:()=>S("users"),children:"User Management"}),h.jsx("button",{className:`settings-tab-btn ${g==="about"?"active":""}`,onClick:()=>S("about"),children:"About"})]}),h.jsxs("div",{className:"settings-content",children:[g==="settings"&&h.jsxs("div",{className:"settings-section",children:[h.jsx("h3",{children:"Customization"}),h.jsxs("div",{className:"setting-item",children:[h.jsx("label",{children:"Font Size"}),h.jsxs("div",{className:"setting-control",children:[h.jsx("button",{className:o==="small"?"active":"",onClick:()=>u("small"),children:"Small"}),h.jsx("button",{className:o==="medium"?"active":"",onClick:()=>u("medium"),children:"Medium"}),h.jsx("button",{className:o==="large"?"active":"",onClick:()=>u("large"),children:"Large"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsx("label",{children:"Theme"}),h.jsx("div",{className:"setting-control theme-selector-control",children:C.map(x=>h.jsx("button",{className:`theme-swatch ${x.id} ${r===x.id?"active":""}`,onClick:()=>f(x.id),title:x.name},x.id))})]}),h.jsx("h3",{className:"danger-zone-title",children:"Danger Zone"}),h.jsxs("div",{className:"setting-item",children:[h.jsx("label",{children:"Clear All Data"}),h.jsx("div",{className:"setting-control",children:h.jsx("button",{className:"btn-danger",onClick:l,children:"Clear All Subjects & Events"})})]}),h.jsx("p",{className:"setting-note",children:"This will permanently delete all your subjects, chat history, and calendar events. This action cannot be undone."})]}),g==="backup"&&h.jsxs("div",{className:"settings-section",children:[h.jsx("h3",{children:"Backup Current User Data"}),h.jsx("p",{className:"setting-note",children:"Save all your subjects, chats, and events to a file on your device."}),h.jsx("button",{className:"settings-action-btn",onClick:n,children:"Download Backup File"}),h.jsx("h3",{style:{marginTop:"2rem"},children:"Restore Current User Data"}),h.jsx("p",{className:"setting-note",children:"Restore your data from a backup file. This will overwrite any current data for your user account."}),h.jsx("input",{type:"file",accept:".json",ref:E,style:{display:"none"},onChange:i}),h.jsx("button",{className:"settings-action-btn",onClick:()=>{var x;return(x=E.current)==null?void 0:x.click()},children:"Upload Restore File"})]}),g==="users"&&(c==null?void 0:c.role)==="admin"&&h.jsxs("div",{className:"settings-section user-management-section",children:[h.jsx("h3",{children:"Create New Student"}),h.jsxs("form",{onSubmit:_,className:"user-management-form",children:[h.jsx("input",{type:"text",value:D,onChange:x=>v(x.target.value),placeholder:"Username",required:!0}),h.jsx("input",{type:"password",value:y,onChange:x=>T(x.target.value),placeholder:"Password",required:!0}),h.jsx("button",{type:"submit",className:"liquid-button",children:"Create"})]}),h.jsx("h3",{children:"Existing Users"}),h.jsx("div",{className:"user-list-table-wrapper",children:h.jsxs("table",{className:"user-list-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Username"}),h.jsx("th",{children:"Role"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:d.map(x=>h.jsxs("tr",{children:[h.jsx("td",{children:x.username}),h.jsx("td",{children:x.role}),h.jsx("td",{children:x.role!=="admin"&&h.jsx("button",{className:"btn-danger",onClick:()=>p(x.username),children:"Delete"})})]},x.username))})]})})]}),g==="about"&&h.jsxs("div",{className:"settings-section",children:[h.jsx("h3",{children:"About Study Master"}),h.jsx("p",{className:"setting-note",children:"Study Master is your personal AI-powered study partner, designed to help you understand your course material more effectively. Upload your documents, get summaries, generate flashcards and mind maps, and chat with an AI tutor that's focused on your content."}),h.jsx("p",{className:"setting-note",style:{marginTop:"1rem"},children:"Version: 1.9.0 (Mobile Responsive)"}),h.jsx("p",{className:"setting-note",style:{marginTop:"1rem"},children:"Created by: Muhammadu Muaz"})]})]})]})})},vN=({isOpen:t,notifications:e,onClose:n,onMarkAsRead:i,onClearAll:l})=>{if(!t)return null;const o=e.filter(u=>!u.read).length;return h.jsx("div",{className:"notification-panel-wrapper",children:h.jsxs("div",{className:"notification-panel",onClick:u=>u.stopPropagation(),children:[h.jsxs("header",{className:"notification-header",children:[h.jsxs("h3",{children:["Notifications (",o,")"]}),h.jsx("button",{onClick:l,disabled:e.length===0,children:"Clear All"})]}),h.jsx("div",{className:"notification-list",children:e.length>0?e.map(u=>h.jsxs("div",{className:`notification-item ${u.read?"read":""}`,onClick:()=>i(u.id),children:[h.jsx("div",{className:"notification-icon",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M20 17h2v2H2v-2h2v-7c0-4.42 3.58-8 8-8s8 3.58 8 8v7Zm-2 0v-7c0-3.31-2.69-6-6-6s-6 2.69-6 6v7h12Zm-6 5c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2Z"})})}),h.jsxs("div",{className:"notification-content",children:[h.jsx("p",{children:u.message}),h.jsx("small",{children:new Date(u.date).toLocaleString()})]})]},u.id)):h.jsx("div",{className:"no-notifications",children:"No new notifications."})})]})})},TN=()=>{const t=Is==null?void 0:Is.VITE_API_KEY;if(!t)return h.jsx("div",{className:"fullscreen-error-container",children:h.jsxs("div",{className:"error-panel",children:[h.jsx("h1",{children:"Configuration Error: API Key Missing"}),h.jsx("p",{children:"The Study Master application requires a Google Gemini API key to function, but it could not be found."}),h.jsxs("div",{className:"error-instructions",children:[h.jsx("h2",{children:"For Developers & Setup"}),h.jsx("p",{children:"This is expected if you are setting up the project for the first time or running it incorrectly. Please follow these steps:"}),h.jsxs("ol",{children:[h.jsxs("li",{children:["In the main project folder, create a new file named exactly ",h.jsx("code",{children:".env"})]}),h.jsxs("li",{children:["Inside this ",h.jsx("code",{children:".env"})," file, add the following line, replacing ",h.jsx("code",{children:"YOUR_API_KEY_HERE"})," with your actual key:",h.jsx("pre",{children:h.jsx("code",{children:"VITE_API_KEY=YOUR_API_KEY_HERE"})})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Most Important:"})," You must run this app with the Vite development server. Open a terminal in the project folder and run:",h.jsx("pre",{children:h.jsxs("code",{children:["npm install",h.jsx("br",{}),"npm run dev"]})})]}),h.jsxs("li",{children:["Then, open the ",h.jsx("code",{children:"http://localhost:..."})," URL it gives you in your browser."]})]}),h.jsxs("p",{className:"error-warning",children:["You cannot run this application by simply opening the ",h.jsx("code",{children:"index.html"})," file directly."]})]})]})});const[e,n]=k.useState(null),[i,l]=k.useState(!0),[o,u]=k.useState(null),[r,f]=k.useState([]),[c,d]=k.useState([]),[m,p]=k.useState(null),[g,S]=k.useState(""),[E,D]=k.useState(!1),[v,y]=k.useState(!1),[T,C]=k.useState(""),[_,x]=k.useState(!1),[R,N]=k.useState(""),[I,L]=k.useState(null),[q,j]=k.useState(null),[Et,jt]=k.useState(!1),[Se,b]=k.useState(null),[B,H]=k.useState([]),[re,de]=k.useState(!1),[Ze,vt]=k.useState(!1),[bt,ze]=k.useState(null),[Le,We]=k.useState([]),[gg,Yr]=k.useState(!1),[Or,Jr]=k.useState(!1),[Qn,yg]=k.useState(!1),[vg,so]=k.useState(!1),[Zn,uo]=k.useState("medium"),[Wn,ro]=k.useState("liquid-crystal"),[Ka,Tg]=k.useState(!1),[Kr,co]=k.useState(!1),[$a,fo]=k.useState("chat"),Cg=k.useRef(null),$r=k.useRef(null),Rn=k.useMemo(()=>new rN({apiKey:t}),[t]);k.useEffect(()=>{document.documentElement.setAttribute("data-theme",Wn),document.documentElement.setAttribute("data-font-size",Zn)},[Wn,Zn]),k.useEffect(()=>{try{const A=localStorage.getItem("studymaster_users");if(A)f(JSON.parse(A));else{const M={username:"admin",password:"admin",role:"admin"};localStorage.setItem("studymaster_users",JSON.stringify([M])),f([M])}}catch(A){console.error("Failed to load users from localStorage",A),f([{username:"admin",password:"admin",role:"admin"}])}l(!1)},[]),k.useEffect(()=>{var A;if(e)try{const M=localStorage.getItem(`studymaster_data_${e.username}`);if(M){const w=JSON.parse(M),V=(w.subjects||[]).map(P=>({...P,chat:null,documents:(P.documents||[]).map(z=>({...z,images:z.images||[]}))}));d(V),H(w.events||[]),We(w.notifications||[]),w.settings&&(ro(w.settings.theme||"liquid-crystal"),uo(w.settings.fontSize||"medium")),p(((A=V[0])==null?void 0:A.id)||null)}else d([]),H([]),We([]),p(null),ro("liquid-crystal"),uo("medium")}catch(M){console.error("Failed to load user data, resetting state.",M),d([]),H([]),We([]),p(null)}},[e]),k.useEffect(()=>{if(e)try{const A={subjects:c.map(({chat:M,...w})=>w),events:B,notifications:Le,settings:{theme:Wn,fontSize:Zn}};localStorage.setItem(`studymaster_data_${e.username}`,JSON.stringify(A))}catch(A){console.error(`Failed to save data for user ${e.username}`,A)}},[e,c,B,Le,Wn,Zn]);const Sg=(A,M)=>{const w=r.find(V=>V.username===A&&V.password===M);w?(n({username:w.username,role:w.role}),u(null)):u("Invalid username or password.")},Eg=()=>{n(null),d([]),H([]),We([]),p(null)},Ag=(A,M)=>{if(!A.trim()||!M.trim()){alert("Username and password cannot be empty.");return}if(r.some(P=>P.username===A)){alert("Username already exists.");return}const w={username:A,password:M,role:"student"},V=[...r,w];f(V),localStorage.setItem("studymaster_users",JSON.stringify(V))},_g=A=>{if(A==="admin"){alert("Cannot delete the admin user.");return}if(window.confirm(`Are you sure you want to delete user "${A}"? All their data will be lost.`)){const M=r.filter(w=>w.username!==A);f(M),localStorage.setItem("studymaster_users",JSON.stringify(M)),localStorage.removeItem(`studymaster_data_${A}`)}},Y=c.find(A=>A.id===m),Xr=Le.filter(A=>!A.read).length,Qr=A=>{const w=[{text:Mg(A.id)+`Here are the study documents for our session on "${A.name}":`}];return A.documents.forEach(V=>{w.push({text:`

--- DOCUMENT: ${V.name} ---

${V.content}`}),(V.images||[]).forEach(P=>{var z;w.push({text:`
Image from ${V.name} - Name: ${P.name}, Caption: ${P.caption}
`}),w.push({inlineData:{data:P.data.split(",")[1],mimeType:((z=P.data.match(/:(.*?);/))==null?void 0:z[1])||"image/png"}})})}),w},Mg=A=>{const M=new Date;M.setHours(0,0,0,0);const w=new Date(M.getFullYear(),M.getMonth(),M.getDate()+7),V=B.filter(z=>{const[J,le,te]=z.date.split("-").map(Number),ye=new Date(J,le-1,te);return(z.subjectId===A||z.subjectId===null)&&ye>=M&&ye<=w});if(V.length===0)return"";let P=`SYSTEM NOTE FOR AI: The user has the following deadlines/exams for this subject. Be proactive and help them prepare for these specific events.
`;return V.forEach(z=>{P+=`- Title: ${z.title}, Date: ${z.date} at ${z.time||"All Day"}. Description: ${z.description||"N/A"}
`}),P},xg=()=>{y(!0),C("")},Rg=()=>{y(!1)},Ng=A=>{if(A.preventDefault(),T.trim()){const M={id:Date.now(),name:T.trim(),documents:[],isDocSaved:!1,chat:null,messages:[]},w=[M,...c];d(w),p(M.id),C(""),y(!1)}},Dg=(A,M)=>{if(A.stopPropagation(),window.confirm("Are you sure you want to delete this subject? This action cannot be undone.")){const w=c.filter(V=>V.id!==M);d(w),H(B.filter(V=>V.subjectId!==M)),m===M&&p(w.length>0?w[0].id:null)}},Ug=(A,M)=>{A.stopPropagation(),b(M)},Zr=(A,M)=>{M.trim()&&d(c.map(w=>w.id===A?{...w,name:M.trim()}:w)),b(null)},mo=(A,M)=>{d(c.map(w=>w.id===A?{...w,...M}:w))},wg=async()=>{if(!Y||Y.documents.length===0){alert("Please add some documents first.");return}D(!0);try{const A=Rn.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:bs}}),M=[...Qr(Y),{text:`

Acknowledge you have received and understood the documents and are ready to begin the study session.`}],P={role:"model",text:(await A.sendMessage({message:M})).text||"Great, I've read the document(s). I'm ready to help you study. Ask me anything or select a feature to get started!"};mo(Y.id,{chat:A,isDocSaved:!0,messages:[P]})}catch(A){console.error("Failed to initialize chat:",A);const M=A instanceof Error?A.message:JSON.stringify(A);alert(`Failed to initialize chat session:
`+M)}finally{D(!1)}},Ig=async A=>{var P,z,J,le;if(A.preventDefault(),!g.trim()||!Y||E||!Y.chat&&!Qn)return;fo("chat");const M=g;S(""),D(!0);const w={role:"user",text:M},V={role:"model",text:""};d(te=>te.map(ye=>ye.id===m?{...ye,messages:[...ye.messages,w,V]}:ye));try{let te="",ye=null;if(Qn){const De=Y.messages.map(Vt=>({role:Vt.role,parts:[{text:Vt.text}]}));De.push({role:"user",parts:[{text:M}]});const Lt=await Rn.models.generateContentStream({model:"gemini-2.5-flash",contents:De,config:{tools:[{googleSearch:{}}],systemInstruction:bs}});for await(const Vt of Lt)te+=Vt.text,ye=Vt,d(ei=>ei.map(_t=>{if(_t.id===m){const el=[..._t.messages];return el[el.length-1]={...el[el.length-1],text:te},{..._t,messages:el}}return _t}))}else if(Y.chat){const De=await Y.chat.sendMessageStream({message:M});for await(const Lt of De)te+=Lt.text,ye=Lt,d(Vt=>Vt.map(ei=>{if(ei.id===m){const _t=[...ei.messages];return _t[_t.length-1]={..._t[_t.length-1],text:te},{...ei,messages:_t}}return ei}))}const At=(le=(J=(z=(P=ye==null?void 0:ye.candidates)==null?void 0:P[0])==null?void 0:z.groundingMetadata)==null?void 0:J.groundingChunks)==null?void 0:le.map(De=>De.web).filter(De=>(De==null?void 0:De.uri)&&(De==null?void 0:De.title)),Pe={role:"model",text:te,sources:At};d(De=>De.map(Lt=>{if(Lt.id===m){const Vt=Lt.messages.slice(0,-2);return{...Lt,messages:[...Vt,w,Pe]}}return Lt}))}catch(te){console.error("Error sending message:",te);const ye={role:"model",text:"Sorry, something went wrong. Please try again."};d(At=>At.map(Pe=>{if(Pe.id===m){const De=Pe.messages.slice(0,-1);return De.push(ye),{...Pe,messages:De}}return Pe}))}finally{D(!1)}},bg=A=>{const M=A.indexOf("{"),w=A.indexOf("[");let V=-1;if(M!==-1&&w!==-1?V=Math.min(M,w):M!==-1?V=M:V=w,V===-1)return null;const P=A.lastIndexOf("}"),z=A.lastIndexOf("]");let J=-1;return P!==-1&&z!==-1?J=Math.max(P,z):P!==-1?J=P:J=z,J===-1||J<V?null:A.substring(V,J+1)},Wr=A=>{if(!A)return"";let M="",w=!1,V=!1;const P=z=>z.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>");for(const z of A.split(`
`)){const J=z.trim();if(J===""){V&&(M+="</tbody></table>",V=!1),w&&(M+="</ul>",w=!1);continue}const le=J.startsWith("|")&&J.endsWith("|"),te=le&&/^\s*\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?\|?\s*$/.test(J);if(le&&!te){w&&(M+="</ul>",w=!1);const At=J.slice(1,-1).split("|").map(Pe=>P(Pe.trim()));V?(M+="<tr>",At.forEach(Pe=>{M+=`<td>${Pe}</td>`}),M+="</tr>"):(M+="<table><thead><tr>",At.forEach(Pe=>{M+=`<th>${Pe}</th>`}),M+="</tr></thead><tbody>",V=!0);continue}if(V&&!te&&(M+="</tbody></table>",V=!1),V&&te)continue;if(J.startsWith("# ")){w&&(M+="</ul>",w=!1),M+=`<h1>${P(J.substring(2))}</h1>`;continue}if(J.startsWith("## ")){w&&(M+="</ul>",w=!1),M+=`<h2>${P(J.substring(3))}</h2>`;continue}if(J.startsWith("### ")){w&&(M+="</ul>",w=!1),M+=`<h3>${P(J.substring(4))}</h3>`;continue}if(J.startsWith("* ")||J.startsWith("- ")){w||(M+="<ul>",w=!0),M+=`<li>${P(J.substring(J.indexOf(" ")+1))}</li>`;continue}w&&(M+="</ul>",w=!1),M+=`<p>${P(z)}</p>`}return V&&(M+="</tbody></table>"),w&&(M+="</ul>"),M},jn=async A=>{if(fo("tools"),A==="figures"){L("figures");const V=(Y==null?void 0:Y.documents.flatMap(P=>(P.images||[]).map(z=>({...z,docName:P.name}))))||[];j(V);return}if(!(Y!=null&&Y.chat)||Et)return;L(A),jt(!0),j(null);let M="",w=!1;switch(A){case"summary":M="Provide a detailed summary of the document. Format your response using Markdown. Use headings (#, ##), bold text (**text**), and unordered lists (* item) for clarity.";break;case"questions":M='Generate 5 challenging multiple-choice questions based on the document to test my understanding. Format the questions and answers using Markdown (e.g., use **bold** for question numbers and headings for sections like "Answers"). Provide the answers and a brief explanation for each answer separately after the questions.';break;case"workout":M="Create a 'workout' based on the document. This should include practice problems, key concepts to define, or short essay prompts. Format the response using Markdown with headings (#, ##) and bold text (**text**) to organize the content.";break;case"did-you-know":M='Based on the document, generate a few interesting "Did you know?" style facts or trivia. Format each fact as a list item in Markdown (e.g., `* **Did you know?** ...`). These should be surprising or highlight non-obvious connections within the material.';break;case"key-takeaways":M="Extract the 3-5 most crucial, high-level conclusions or bullet points from the document. Present them as a concise Markdown list (using `* `).";break;case"flashcards":w=!0,M=`Based on the document, generate a JSON array of 8 flashcards. Each object in the array must have a "term" and a "definition" key. Your response MUST be only the raw JSON array, starting with '[' and ending with ']'. Do not include any other text, explanations, or markdown formatting.`;break;case"mind-map":w=!0,M=`Generate a mind map of the document's content as a nested JSON object. The root object must have a "concept" key for the main idea, and a "children" key which is an array of objects. Each object, including the root, must have a unique "id" string. The children array should be empty if there are no sub-concepts, not omitted. Go about 3 levels deep. Your response MUST be only the raw JSON object, starting with '{' and ending with '}'.`;break}try{const V=await Y.chat.sendMessage({message:M});if(w)try{const P=bg(V.text);if(!P)throw new Error("Could not find a valid JSON object or array in the AI's response.");j(JSON.parse(P))}catch(P){console.error("JSON parsing error:",P,`
Original text:
`,V.text),j("Sorry, I couldn't generate the content correctly. The AI returned an invalid format.")}else j(V.text)}catch(V){console.error(`Error generating ${A}:`,V),j(`Sorry, I had trouble generating the ${A}. Please try again.`)}finally{jt(!1)}},Lg=()=>{var A;(A=$r.current)==null||A.click()},Xa=A=>new Promise((M,w)=>{const V=new FileReader;V.onload=()=>M(V.result),V.onerror=w,V.readAsDataURL(A)}),Vg=async A=>{const w={inlineData:{data:(await Xa(A)).split(",")[1],mimeType:A.type}},V={text:"Extract all text from the document in this image. Preserve the structure if possible. If there is no text, return an empty string."};return(await Rn.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[w,V]}})).text},qg=async A=>{const w={inlineData:{data:(await Xa(A)).split(",")[1],mimeType:"application/pdf"}},V={text:"Extract all text from the provided PDF document. Maintain the original structure, including paragraphs and headings, as best as possible. If the document is unreadable or contains no text, return an empty string."};return(await Rn.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[w,V]}})).text},kg=async A=>{const w={inlineData:{data:(await Jo(A)).split(",")[1],mimeType:"application/pdf"}},V={text:"Analyze the provided PDF and extract its contents into the required JSON format. This includes all text and all meaningful images/diagrams."};try{const P=await Rn.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[V,w]},config:{responseMimeType:"application/json",responseSchema:{type:Te.OBJECT,properties:{extractedText:{type:Te.STRING},extractedImages:{type:Te.ARRAY,items:{type:Te.OBJECT,properties:{name:{type:Te.STRING},caption:{type:Te.STRING},imageData:{type:Te.STRING}}}}}}}}),z=JSON.parse(P.text);if(!z.extractedText||!Array.isArray(z.extractedImages))throw new Error("Parsed JSON has incorrect structure.");const J=(z.extractedImages||[]).map(le=>({name:le.name||"Untitled Figure",caption:le.caption||"",data:`data:image/png;base64,${le.imageData}`})).filter(le=>le.data.length>30);return{text:z.extractedText,images:J}}catch(P){return console.error("Failed to parse PDF with image extraction, falling back to text-only extraction.",P),{text:await qg(A),images:[]}}},Pg=async A=>{if(!A.target.files||A.target.files.length===0||!Y)return;const M=Array.from(A.target.files);A.target.value="",x(!0);for(const w of M)try{if(Y.documents.some(z=>z.name===w.name)){alert(`A document named "${w.name}" already exists for this subject. Please rename the file and try again.`);continue}let V="",P=[];if(w.type.startsWith("image/")){V=await Vg(w);const z=await Xa(w);P=[{name:w.name,data:z,caption:"Uploaded image"}]}else if(w.type==="application/pdf"){const{text:z,images:J}=await kg(w);V=z,P=J}else if(w.type.startsWith("text/")||w.name.endsWith(".md"))V=await w.text();else{alert(`Unsupported file type: ${w.type||"unknown"}. Please upload an image, PDF, or text file.`);continue}if(V.trim()||P.length>0){const z={name:w.name,content:V,images:P};d(J=>J.map(le=>le.id===m?{...le,documents:[...le.documents,z]}:le))}else alert(`Could not extract any content from "${w.name}". The file might be empty, corrupted, or unreadable.`)}catch(V){console.error("Error processing file:",V),alert(`Failed to process the file: ${w.name}.`)}x(!1)},Gg=A=>{if(Y){const M=Y.documents.filter(w=>w.name!==A);mo(Y.id,{documents:M})}},Hg=()=>{if(!Y||!R.trim())return;let A="Pasted Content",M=1;for(;Y.documents.some(V=>V.name===A);)A=`Pasted Content ${++M}`;const w={name:A,content:R.trim(),images:[]};mo(Y.id,{documents:[...Y.documents,w]}),N("")},Bg=async A=>{if(Y){D(!0);try{const M={...Y,documents:A},w=Rn.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:bs}}),V=Qr(M),P=Y.messages.flatMap(ye=>[{text:`

--- PREVIOUS TURN ---
${ye.role.toUpperCase()}: ${ye.text}
--- END TURN ---
`}]),z={text:`

[SYSTEM NOTE] Your study documents have been updated. Re-read all provided documents and the previous conversation history. Then, briefly acknowledge the update to the user and await their next question.`},J=[...V,...P,z],te={role:"model",text:(await w.sendMessage({message:J})).text||"Okay, I've loaded the updated documents. How can I help?"};mo(Y.id,{documents:A,chat:w,messages:[...Y.messages,te]})}catch(M){console.error("Failed to restart chat session with updated documents:",M),alert("Failed to update the study session. Please try again.")}finally{D(!1)}}},zg=A=>{ze(A),vt(!0)},Fg=A=>{A.id?H(B.map(M=>M.id===A.id?{...M,...A}:M)):H([...B,{...A,id:Date.now()}]),vt(!1),ze(null)},jr=A=>{H(B.filter(M=>M.id!==A)),vt(!1),ze(null)},Yg=A=>{We(Le.map(M=>M.id===A?{...M,read:!0}:M))},Og=()=>{We([])},Jg=()=>{if(e)try{const A={subjects:c.map(({chat:J,...le})=>le),events:B,notifications:Le,settings:{theme:Wn,fontSize:Zn}},M=JSON.stringify(A,null,2),w=new Blob([M],{type:"application/json"}),V=URL.createObjectURL(w),P=document.createElement("a");P.href=V;const z=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");P.download=`studymaster_backup_${e.username}_${z}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(V)}catch(A){console.error("Backup failed:",A),alert("Sorry, there was an error creating the backup file.")}},Kg=A=>{var V;const M=(V=A.target.files)==null?void 0:V[0];if(!M||!e)return;const w=new FileReader;w.onload=P=>{var z,J;try{const le=(z=P.target)==null?void 0:z.result;if(typeof le!="string")throw new Error("File could not be read as text.");const te=JSON.parse(le);if(te&&Array.isArray(te.subjects)&&Array.isArray(te.events)){if(window.confirm("Restoring will overwrite all current data for your user. Are you sure you want to continue?")){const ye=te.subjects.map(At=>({...At,chat:null,documents:(At.documents||[]).map(Pe=>({...Pe,images:Pe.images||[]}))}));d(ye),H(te.events),We(te.notifications||[]),te.settings&&(["liquid-crystal","deep-blue","neon-green-blue","neon-pink-purple","neon-pink-orange"].includes(te.settings.theme)&&ro(te.settings.theme),["small","medium","large"].includes(te.settings.fontSize)&&uo(te.settings.fontSize)),p(((J=ye[0])==null?void 0:J.id)||null),alert("Data restored successfully!"),so(!1)}}else throw new Error("Invalid backup file format.")}catch(le){console.error("Restore failed:",le),alert(`Restore failed. Error: ${le instanceof Error?le.message:"Unknown error"}`)}},w.readAsText(M),A.target.value=""},$g=()=>{e&&window.confirm(`This will permanently delete all subjects, chats, and calendar events for the user "${e.username}". This action cannot be undone. Continue?`)&&(d([]),H([]),We([]),p(null),localStorage.removeItem(`studymaster_data_${e.username}`),so(!1))},Xg=()=>{if(Et)return h.jsxs("div",{className:"feature-loading-view",children:[" ",h.jsx("div",{className:"loading-spinner"})," ",h.jsxs("p",{children:["Generating ",I,"..."]})," "]});if(!q&&I!=="figures")return h.jsxs("div",{className:"feature-placeholder",children:[" ",h.jsx("h3",{children:"Study Tools"})," ",h.jsx("p",{children:"Select a feature from the toolbar above to generate insights from your document, or ask a question in the chat."})," "]});switch(I){case"flashcards":return Array.isArray(q)?h.jsxs("div",{className:"flashcard-container",children:[" ",q.map((A,M)=>h.jsx(dN,{...A},M))," "]}):h.jsx("div",{className:"feature-content",children:typeof q=="string"?q:"Error: Invalid content for flashcards."});case"mind-map":return typeof q!="object"||q===null||Array.isArray(q)?h.jsx("div",{className:"feature-content",children:typeof q=="string"?q:"Error: Invalid content for mind map."}):h.jsx(pN,{node:q});case"figures":return!Array.isArray(q)||q.length===0?h.jsxs("div",{className:"feature-placeholder",children:[" ",h.jsx("h3",{children:"Figures & Diagrams"})," ",h.jsx("p",{children:"No figures or diagrams were found in the loaded documents."})," "]}):h.jsxs("div",{className:"figure-gallery-container",children:[" ",q.map((A,M)=>h.jsxs("div",{className:"figure-item",children:[" ",h.jsx("img",{src:A.data,alt:A.caption||A.name})," ",h.jsxs("div",{className:"figure-caption",children:[" ",h.jsx("strong",{children:A.name})," ",A.caption&&h.jsx("p",{children:A.caption})," ",h.jsxs("small",{children:["From: ",A.docName]})," "]})," "]},M))," "]});case"summary":case"questions":case"workout":case"did-you-know":case"key-takeaways":return typeof q=="string"?h.jsx("div",{className:"feature-content",dangerouslySetInnerHTML:{__html:Wr(q)}}):h.jsx("div",{className:"feature-content",children:"Could not display content."});default:return null}},Qg=()=>Y?h.jsxs("div",{className:"subject-view",children:[h.jsxs("header",{className:"subject-header",children:[h.jsx("button",{className:"mobile-menu-btn",onClick:()=>co(!0),children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),h.jsx("h2",{children:Y.name}),h.jsxs("div",{className:"main-view-actions",children:[h.jsxs("div",{className:"notification-bell-wrapper",children:[h.jsxs("button",{className:"notification-bell liquid-button",onClick:()=>Yr(A=>!A),title:"Notifications",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),h.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),Xr>0&&h.jsx("span",{className:"notification-badge",children:Xr})]}),h.jsx(vN,{isOpen:gg,notifications:Le,onClose:()=>Yr(!1),onMarkAsRead:Yg,onClearAll:Og})]}),h.jsx("button",{className:"calendar-btn liquid-button",onClick:()=>de(!0),title:"Open Calendar",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),h.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),Y.isDocSaved?h.jsxs("div",{className:"study-session-view",children:[h.jsxs("div",{className:"mobile-main-nav",children:[h.jsx("button",{onClick:()=>fo("chat"),className:$a==="chat"?"active":"",children:"Chat"}),h.jsx("button",{onClick:()=>fo("tools"),className:$a==="tools"?"active":"",children:"Study Tools"})]}),h.jsxs("div",{className:`study-content-area ${Ka?"chat-fullscreen":""} view-on-mobile-${$a}`,children:[h.jsxs("aside",{className:"chat-container",children:[h.jsxs("div",{className:"chat-messages",children:[Y.messages.map((A,M)=>h.jsx("div",{className:`message ${A.role}`,children:h.jsxs("div",{className:"message-content",children:[A.role==="model"&&A.text===""&&E?h.jsxs("div",{className:"loading-dots",children:[" ",h.jsx("div",{}),h.jsx("div",{}),h.jsx("div",{}),h.jsx("div",{})," "]}):h.jsx("div",{dangerouslySetInnerHTML:{__html:A.role==="model"?Wr(A.text):A.text.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}),A.sources&&A.sources.length>0&&h.jsxs("div",{className:"message-sources",children:[" ",h.jsx("strong",{children:"Sources:"})," ",h.jsxs("ul",{children:[" ",A.sources.map((w,V)=>h.jsxs("li",{children:[" ",h.jsx("a",{href:w.uri,target:"_blank",rel:"noopener noreferrer",children:w.title||w.uri})," "]},V))," "]})," "]})]})},M)),h.jsx("div",{ref:Cg})]}),h.jsxs("form",{className:"chat-input-form",onSubmit:Ig,children:[h.jsx("input",{type:"text",className:"chat-input",placeholder:Qn?"Ask a question (with internet search)...":"Ask a question...",value:g,onChange:A=>S(A.target.value),disabled:E}),h.jsxs("div",{className:"chat-input-actions",children:[h.jsxs("button",{type:"button",className:`internet-toggle-btn liquid-button ${Qn?"active":""}`,onClick:()=>yg(!Qn),title:Qn?"Disable Internet Search":"Enable Internet Search",disabled:E,children:[" ",h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),h.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})," "]}),h.jsxs("button",{type:"submit",className:"send-btn liquid-button",disabled:E||!g.trim(),children:[" ",h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),h.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})," "]})]})]})]}),h.jsxs("main",{className:"feature-display-area",children:[h.jsxs("div",{className:"feature-toolbar",children:[h.jsx("button",{className:`feature-btn liquid-button ${I==="key-takeaways"?"active":""}`,onClick:()=>jn("key-takeaways"),children:"Key Takeaways"}),h.jsx("button",{className:`feature-btn liquid-button ${I==="summary"?"active":""}`,onClick:()=>jn("summary"),children:"Summary"}),h.jsx("button",{className:`feature-btn liquid-button ${I==="flashcards"?"active":""}`,onClick:()=>jn("flashcards"),children:"Flashcards"}),h.jsx("button",{className:`feature-btn liquid-button ${I==="mind-map"?"active":""}`,onClick:()=>jn("mind-map"),children:"Mind Map"}),h.jsx("button",{className:`feature-btn liquid-button ${I==="figures"?"active":""}`,onClick:()=>jn("figures"),children:"Figures"}),h.jsx("button",{className:`feature-btn liquid-button ${I==="questions"?"active":""}`,onClick:()=>jn("questions"),children:"Questions"}),h.jsx("button",{className:"feature-btn liquid-button",onClick:()=>Jr(!0),children:"Manage Documents"}),h.jsx("button",{className:"fullscreen-toggle-btn liquid-button",onClick:()=>Tg(A=>!A),title:Ka?"Show Feature Panel":"Expand Chat",children:Ka?h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M15 3h6v6m-11 5L21 3m-6 12v6h-6m-5-11L3 21"})})})]}),h.jsx("div",{className:"feature-content-wrapper",children:Xg()})]})]})]}):h.jsx("div",{className:"document-setup-view",children:h.jsxs("div",{className:"document-setup-area",children:[_&&h.jsxs("div",{className:"document-processing-overlay",children:[" ",h.jsx("div",{className:"loading-spinner"})," ",h.jsx("p",{children:"Analyzing documents, please wait..."})," "]}),h.jsxs("div",{className:"document-list-container",children:[h.jsxs("h3",{children:["Study Materials (",Y.documents.length,")"]}),h.jsxs("ul",{className:"document-list",children:[Y.documents.map(A=>h.jsxs("li",{className:"document-item",title:A.name,children:[" ",h.jsx("span",{className:"doc-icon",children:"📄"})," ",h.jsx("span",{className:"doc-name",children:A.name})," ",h.jsxs("span",{className:"doc-size",children:[(A.content.length/1024).toFixed(1)," KB"]})," ",h.jsx("button",{className:"doc-remove-btn",onClick:()=>Gg(A.name),title:`Remove ${A.name}`,children:"×"})," "]},A.name)),Y.documents.length===0&&h.jsx("p",{className:"no-docs-message",children:"No documents added yet. Upload or paste content below to get started."})]})]}),h.jsxs("div",{className:"document-add-container",children:[h.jsxs("div",{className:"document-upload-controls",children:[h.jsxs("button",{className:"upload-btn liquid-button",onClick:Lg,children:[" ",h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})," Upload Files "]}),h.jsx("p",{className:"upload-hint",children:"Upload images, PDFs, or text files."}),h.jsx("input",{type:"file",ref:$r,onChange:Pg,style:{display:"none"},accept:".txt,.md,text/plain,image/jpeg,image/png,image/webp,.pdf,application/pdf",multiple:!0})]}),h.jsxs("div",{className:"document-paste-controls",children:[h.jsx("textarea",{className:"document-paste-area",placeholder:"Or paste your notes here...",value:R,onChange:A=>N(A.target.value)}),h.jsx("button",{className:"paste-add-btn liquid-button",onClick:Hg,disabled:!R.trim(),children:"Add Pasted Text"})]})]}),h.jsxs("button",{className:"save-doc-btn liquid-button",onClick:wg,disabled:Y.documents.length===0||E||_,children:[" ",E?"Processing...":"Start Study Session"," "]})]})})]}):h.jsxs("div",{className:"welcome-view",children:[" ",h.jsxs("div",{className:"welcome-content",children:[" ",h.jsxs("button",{className:"mobile-menu-btn",onClick:()=>co(!0),children:[" ",h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})," "]})," ",h.jsx("h2",{children:"Welcome to Study Master"})," ",h.jsx("p",{children:"Your AI-powered study partner. Select a subject or create a new one to begin."})," "]})," "]});return i?h.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"white",fontFamily:"sans-serif"},children:[" ",h.jsx("h2",{children:"Loading Study Master..."})," "]}):e?h.jsxs(h.Fragment,{children:[Kr&&h.jsx("div",{className:"mobile-overlay",onClick:()=>co(!1)}),h.jsx(yN,{isOpen:vg,onClose:()=>so(!1),onBackup:Jg,onRestore:Kg,onClearData:$g,fontSize:Zn,onSetFontSize:uo,theme:Wn,onSetTheme:ro,currentUser:e,users:r,onUserCreate:Ag,onUserDelete:_g}),Or&&Y&&h.jsx(fN,{subject:Y,isOpen:Or,onClose:()=>Jr(!1),onSave:Bg,aiInstance:Rn}),re&&h.jsx(gN,{events:B,subjects:c,onClose:()=>de(!1),onAddOrEditEvent:zg,onDeleteEvent:jr}),Ze&&h.jsx(hN,{isOpen:Ze,event:bt,subjects:c,onClose:()=>{vt(!1),ze(null)},onSave:Fg,onDelete:jr}),h.jsxs("aside",{className:`sidebar ${Kr?"open":""}`,children:[h.jsxs("div",{className:"sidebar-header",children:[h.jsx("h1",{children:"Subjects"}),h.jsx("div",{className:"sidebar-header-actions",children:h.jsx("button",{className:"add-subject-btn liquid-button",onClick:xg,disabled:v,children:" + Add "})})]}),v&&h.jsxs("form",{onSubmit:Ng,className:"add-subject-form",children:[h.jsx("input",{type:"text",className:"add-subject-input",value:T,onChange:A=>C(A.target.value),placeholder:"New subject name...",autoFocus:!0}),h.jsxs("div",{className:"add-subject-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:"Save"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:Rg,children:"Cancel"})]})]}),h.jsx("ul",{className:"subject-list",children:c.map(A=>h.jsxs("li",{className:`subject-item ${A.id===m?"active":""}`,onClick:()=>{b(null),p(A.id),co(!1)},children:[Se===A.id?h.jsx("input",{type:"text",defaultValue:A.name,className:"subject-edit-input",autoFocus:!0,onBlur:M=>Zr(A.id,M.target.value),onKeyDown:M=>{M.key==="Enter"&&Zr(A.id,M.currentTarget.value),M.key==="Escape"&&b(null)},onClick:M=>M.stopPropagation()}):h.jsx("span",{className:"subject-name",children:A.name}),h.jsxs("div",{className:"subject-item-actions",children:[h.jsx("button",{className:"edit-subject-btn liquid-button",onClick:M=>Ug(M,A.id),title:`Rename "${A.name}"`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),h.jsx("button",{className:"delete-subject-btn liquid-button",onClick:M=>Dg(M,A.id),title:`Delete "${A.name}"`,children:" × "})]})]},A.id))}),h.jsxs("div",{className:"sidebar-footer",children:[h.jsxs("span",{style:{marginRight:"auto",color:"var(--text-secondary)"},children:["User: ",e.username]}),h.jsx("button",{className:"settings-btn liquid-button",onClick:Eg,title:"Logout",children:"Logout"}),h.jsx("button",{className:"settings-btn liquid-button",onClick:()=>so(!0),title:"Options",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"3"}),h.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})})]})]}),h.jsx("main",{className:"main-content",children:Qg()})]}):h.jsx(cN,{onLogin:Sg,error:o})},CN=$T.createRoot(document.getElementById("root"));CN.render(h.jsx(TN,{}));
